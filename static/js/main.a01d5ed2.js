/*! For license information please see main.a01d5ed2.js.LICENSE.txt */
!function(){var e={7472:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},8262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},8101:function(e,t,n){n(1288),e.exports=self.fetch.bind(self)},5102:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,i),o.onload||t(o,i),a.appendChild(o)}},2453:function(e,t,n){"use strict";var r,i,a,o=n(7061).default,u=n(7156).default,s=n(861).default,c=n(215).default,l=["year"];i=[n(8101)],r=function(e){function t(e){var t=e&&e.message?e.message:e;console.warn("movie-trailer: ".concat(t))}function n(e){if(!e.ok)throw new Error(e.statusText);return e}function r(e){return encodeURI("https://www.youtube.com/watch?v="+e)}function i(r,a){var o="https://api.themoviedb.org"+encodeURI("/3/search/movie?api_key="+a.apiKey+"&query="+r+(null===a.year?"":"&year="+a.year)+(null===a.language?"":"&language="+a.language));return e(o,{method:"GET"}).then(n).then((function(e){return e.json()})).then((function(e){if("undefined"!==typeof e.status_message)throw new TypeError(e.status_message);if(0===e.results.length){if(null!==a.year){a.year;var t=c(a,l);return i(r,t)}throw new Error("No TMDB Movie found with that search query, try searching https://www.themoviedb.org/search?query=".concat(encodeURIComponent(r)," to verify one exists"))}return e.results[0].id})).catch((function(e){return t(e),null}))}function a(i,a){var o="https://api.themoviedb.org"+encodeURI("/3/movie/"+i+"/videos?api_key="+a.apiKey+(null===a.language?"":"&language="+a.language));return e(o,{method:"GET"}).then(n).then((function(e){return e.json()})).then((function(e){if("undefined"!==typeof e.status_message)throw new TypeError("movie-trailer: ".concat(e.status_message));if(0===e.results.length)throw new Error("No trailers found for that TMDB ID");var t=e.results;return t=t.map((function(e){return e.key})),a.id||(t=t.map((function(e){return r(e)}))),a.multi?s(new Set(t)):t[0]})).catch((function(e){return t(e),null}))}function f(e,t,n,r){return h.apply(this,arguments)}function h(){return(h=u(o().mark((function e(n,r,u,s){var c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={multi:!1,id:!1,year:null,language:null,apiKey:"9d2bff12ed955c7f1f74b83187f188ae"},r||(r={}),"string"===typeof n||r.tmdbId){e.next=6;break}throw new Error("Expected first parameter to be a movie or TMDB ID (string)");case 6:"function"===typeof r?(u=r,r=null):"boolean"===typeof r||"true"===r?c.multi=r:"string"===typeof r||"number"===typeof r?(c.year=r,"function"===typeof s&&("boolean"===typeof u||"string"===typeof u&&"true"===u)&&(c.multi=u,u=s)):"object"===typeof r&&(c=Object.assign(c,r));case 7:if("function"!==typeof u&&(u=null),!c.tmdbId){e.next=12;break}e.t0=c.tmdbId,e.next=15;break;case 12:return e.next=14,i(n,c).catch((function(e){return t(e),null}));case 14:e.t0=e.sent;case 15:if(l=e.t0){e.next=18;break}return e.abrupt("return",null);case 18:if(f=a(l,c)){e.next=21;break}return e.abrupt("return",null);case 21:if(!u){e.next=23;break}return e.abrupt("return",f.then((function(e){return u(null,e)})).catch((function(e){return u(e,null)})));case 23:return e.abrupt("return",f);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return f},void 0===(a="function"===typeof r?r.apply(t,i):r)||(e.exports=a)},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ee=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ee)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,Et,St,It=!1,Tt=[],Ct=null,At=null,Nt=null,Ot=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Nt&&Ut(Nt)&&(Nt=null),Ot.forEach(jt),Pt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var zt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return En}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Ur(e,0)}function Yn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Kn(t,Hn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Er={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Ir:case Tr:case Cr:s=mn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=$n;else if(Wn(u))if(Jn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Kn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(m=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ei(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ai=Ei(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(Ai),Si(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ii(Ci,e)):Si(Ai),Ii(Ai,n)}var Ui=null,ji=!1,Vi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function qi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He(Ze,qi),i}finally{kt=t,Vi=!1}}return null}var zi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,Yi=null,$i=1,Ji="";function Xi(e,t){zi[Wi++]=Gi,zi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=$i,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else $i=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=zi[--Wi],zi[Wi]=null,Gi=zi[--Wi],zi[Wi]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,$i=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ma.current;Si(ma),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Pi(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Xi(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Ja=Ya(!1),Xa={},Za=Ei(Xa),eo=Ei(Xa),to=Ei(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ii(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,jo(9,Ro.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function zo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Ko(e,t){return qo(4,2,e,t)}function Go(e,t){return qo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=As.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(To(),yo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Xo(t,yo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Oi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||qa(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Oi(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||qa(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=$i,Hi[Qi++]=Ji,Hi[Qi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Gu(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Je()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,$u=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Ec(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Ec(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Ec(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Ec(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ec(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){Ec(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Je())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Ec(r,n,y)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Ec(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Ec(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Yu;var c=$u;if(Yu=o,($u=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,Yu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var _s,Es=Math.ceil,Ss=b.ReactCurrentDispatcher,Is=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Os=0,Ps=0,Ds=Ei(0),Rs=0,Ls=null,Ms=0,Fs=0,Us=0,js=null,Vs=null,Bs=0,qs=1/0,zs=null,Ws=!1,Ks=null,Gs=null,Hs=!1,Qs=null,Ys=0,$s=0,Js=null,Xs=-1,Zs=0;function ec(){return 0!==(6&Cs)?Je():-1!==Xs?Xs:Xs=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Js=null,Error(a(185));mt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Rs&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(qs=Je()+500,ji&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Os===t||(zs=null,qs=Je()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ss.current=o,Cs=i,null!==Ns?t=0:(As=null,Os=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,zs),t);break}wc(e,Vs,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,zs),r);break}wc(e,Vs,zs);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,zs),rc(e,Je()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs=Je()+500,ji&&qi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&qi()}}function fc(){Ps=Ds.current,Si(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(Ai),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ns=e=Dc(e.current,null),Os=Ps=t,Rs=0,Ls=null,Us=Fs=Ms=0,Vs=js=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Is.current=null,null===n||null===n.return){Rs=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Os)}function yc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Os===t||(zs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==Ns)throw Error(a(261));return As=null,Os=0,Rs}function mc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!Ye();)kc(Ns)}function kc(e){var t=_s(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Is.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ps)))return void(Ns=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Rs=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Is.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,Ys=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Ks,Ks=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Js?$s++:($s=0,Js=e):$s=0,qi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt(Ys),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Rs||3===Rs&&(130023424&Os)===Os&&500>Je()-Bs?hc(e,0):Us|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case E:u=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=qc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),_u(e,t,r,i=ya(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),zu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),za(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Cs)&&(qs=Je()+500,qi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},Et=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,S=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(E=!1,S=null)}}else E=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=N,_=function(){P.postMessage(null)}}else _=function(){m(N,0)};function D(e){S=e,E||(E=!0,_())}function R(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(I),I=-1):y=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},3457:function(e){"use strict";var t;t=function(){var e={},t={};return e.on=function(e,n){var r={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,i=t[e];if(i)for(r=i.length;r--;)i[r].handler(n)},e},e.exports=t},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},1288:function(e,t,n){"use strict";n.r(t),n.d(t,{DOMException:function(){return I},Headers:function(){return p},Request:function(){return w},Response:function(){return E},fetch:function(){return T}});var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof r&&r,i="URLSearchParams"in r,a="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),u="FormData"in r,s="ArrayBuffer"in r;if(s)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function v(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=y(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:u&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=v(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(m)}),this.text=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=y(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=f(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[f(e)]},p.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},p.prototype.set=function(e,t){this.map[f(e)]=h(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},a&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function x(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},k.call(w.prototype),k.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];E.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})};var I=r.DOMException;try{new I}catch(C){(I=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),I.prototype.constructor=I}function T(e,t){return new Promise((function(n,i){var a=new w(e,t);if(a.signal&&a.signal.aborted)return i(new I("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:_(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout((function(){n(new E(t,e))}),0)},u.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){i(new I("Aborted","AbortError"))}),0)},u.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&(o?u.responseType="blob":s&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!t||"object"!==typeof t.headers||t.headers instanceof p?a.headers.forEach((function(e,t){u.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){u.setRequestHeader(e,h(t.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",c),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",c)}),u.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}T.polyfill=!0,r.fetch||(r.fetch=T,r.Headers=p,r.Request=w,r.Response=E)},6364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5439),a=(r=i)&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[a.default.ENDED,a.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[a.default.ENDED,a.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[a.default.ENDED,a.default.PLAYING,a.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},1698:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(2788)),i=u(n(5506)),a=u(n(626)),o=u(n(6364));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("youtube-player"),c={proxyEvents:function(e){var t={},n=function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[r]=function(t){s('event "%s"',r,t),e.trigger(n,t)}},r=!0,i=!1,o=void 0;try{for(var u,c=a.default[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){n(u.value)}}catch(l){i=!0,o=l}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=function(r){t&&o.default[r]?n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){var t=o.default[r],i=e.getPlayerState(),a=e[r].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(i)?new Promise((function(n){e.addEventListener("onStateChange",(function r(){var i=e.getPlayerState(),a=void 0;"number"===typeof t.timeout&&(a=setTimeout((function(){e.removeEventListener("onStateChange",r),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(i)&&(e.removeEventListener("onStateChange",r),clearTimeout(a),n())}))})).then((function(){return a})):a}))}:n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){return e[r].apply(e,n)}))}},a=!0,u=!1,s=void 0;try{for(var c,l=i.default[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value;r(f)}}catch(h){u=!0,s=h}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return n}};t.default=c,e.exports=t.default},5439:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},626:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},5506:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},6071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=u(n(3457)),a=u(n(1642)),o=u(n(1698));function u(e){return e&&e.__esModule?e:{default:e}}var s=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=(0,i.default)();if(s||(s=(0,a.default)(u)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"===typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=o.default.proxyEvents(u);var c=new Promise((function(n){"object"===("undefined"===typeof e?"undefined":r(e))&&e.playVideo instanceof Function?n(e):s.then((function(r){var i=new r.Player(e,t);return u.on("ready",(function(){n(i)})),null}))})),l=o.default.promisifyPlayer(c,n);return l.on=u.on,l.off=u.off,l},e.exports=t.default},1642:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5102),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,a.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),t(window.YT)}}}))},e.exports=t.default},2788:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"/netflix_clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e}(t=e.exports=n(3572)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},3572:function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,a=i-(r||i);e.diff=a,e.prev=r,e.curr=i,r=i;for(var o=new Array(arguments.length),u=0;u<o.length;u++)o[u]=arguments[u];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"===typeof i){var a=o[s];n=i.call(e,a),o.splice(s,1),s--}return n})),t.formatArgs.call(e,o);var c=n.log||t.log||console.log.bind(console);c.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"===typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(9426),t.names=[],t.skips=[],t.formatters={}},9426:function(e){var t=1e3,n=60*t,r=60*n,i=24*r,a=365.25*i;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,u){u=u||{};var s,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!o)return;var u=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*r;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&!1===isNaN(e))return u.long?o(s=e,i,"day")||o(s,r,"hour")||o(s,n,"minute")||o(s,t,"second")||s+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function u(e){t(o,i,a,u,s,"next",e)}function s(e){t(o,i,a,u,s,"throw",e)}u(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,n){var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},s=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(O){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:E(e,n,u)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=h;var p={};function v(){}function y(){}function m(){}var g={};f(g,s,(function(){return this}));var k=Object.getPrototypeOf,b=k&&k(k(A([])));b&&b!==n&&a.call(b,s)&&(g=b);var w=m.prototype=v.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,u,s){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return y.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:y,configurable:!0}),y.displayName=f(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,f(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},x(_.prototype),f(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new _(h(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),f(w,l,"Generator"),f(w,s,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".440c4889.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="netflix_clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/netflix_clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunknetflix_clone=self.webpackChunknetflix_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Wa},SDK_VERSION:function(){return Xo},_DEFAULT_ENTRY_NAME:function(){return jo},_addComponent:function(){return zo},_addOrOverwriteComponent:function(){return Wo},_apps:function(){return Bo},_clearComponents:function(){return Qo},_components:function(){return qo},_getProvider:function(){return Go},_registerComponent:function(){return Ko},_removeServiceInstance:function(){return Ho},deleteApp:function(){return nu},getApp:function(){return eu},getApps:function(){return tu},initializeApp:function(){return Zo},onLog:function(){return au},registerVersion:function(){return iu},setLogLevel:function(){return ou}});var t=n(2791),r=n.t(t,2),i=n(1250),a=n(7248),o=n(327),u=n(4164);var s=function(e){e()},c=function(){return s},l=(0,t.createContext)(null);function f(){return(0,t.useContext)(l)}var h=function(){throw new Error("uSES not initialized!")},d=h,p=function(e,t){return e===t};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=d(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var y=v();n(2110),n(6900);var m={notify:function(){},get:function(){return[]}};function g(e,t){var n,r=m;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=m)},getListeners:function(){return r}};return o}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var b=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=g(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);k((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||l;return t.createElement(s.Provider,{value:o},i)};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(){return n().store}}var x=w();function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?x:w(e);return function(){return t().dispatch}}var E,S=_();function I(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function T(e){return!!e&&!!e[ye]}function C(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===me}(e)||Array.isArray(e)||!!e[ve]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ve])||L(e)||M(e))}function A(e,t,n){void 0===n&&(n=!1),0===N(e)?(n?Object.keys:ge)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function N(e){var t=e[ye];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:L(e)?2:M(e)?3:0}function O(e,t){return 2===N(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function P(e,t){return 2===N(e)?e.get(t):e[t]}function D(e,t,n){var r=N(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function R(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function L(e){return fe&&e instanceof Map}function M(e){return he&&e instanceof Set}function F(e){return e.o||e.t}function U(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ke(e);delete t[ye];for(var n=ge(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function j(e,t){return void 0===t&&(t=!1),B(e)||T(e)||!C(e)||(N(e)>1&&(e.set=e.add=e.clear=e.delete=V),Object.freeze(e),t&&A(e,(function(e,t){return j(t,!0)}),!0)),e}function V(){I(2)}function B(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function q(e){var t=be[e];return t||I(18,e),t}function z(e,t){be[e]||(be[e]=t)}function W(){return ce}function K(e,t){t&&(q("Patches"),e.u=[],e.s=[],e.v=t)}function G(e){H(e),e.p.forEach(Y),e.p=null}function H(e){e===ce&&(ce=e.l)}function Q(e){return ce={p:[],l:ce,h:e,m:!0,_:0}}function Y(e){var t=e[ye];0===t.i||1===t.i?t.j():t.O=!0}function $(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||q("ES5").S(t,e,r),r?(n[ye].P&&(G(t),I(4)),C(e)&&(e=J(t,e),t.l||Z(t,e)),t.u&&q("Patches").M(n[ye].t,e,t.u,t.s)):e=J(t,n,[]),G(t),t.u&&t.v(t.u,t.s),e!==pe?e:void 0}function J(e,t,n){if(B(t))return t;var r=t[ye];if(!r)return A(t,(function(i,a){return X(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Z(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=U(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),A(a,(function(t,a){return X(e,r,i,t,a,n,o)})),Z(e,i,!1),n&&e.u&&q("Patches").N(r,n,e.u,e.s)}return r.o}function X(e,t,n,r,i,a,o){if(T(i)){var u=J(e,i,a&&t&&3!==t.i&&!O(t.R,r)?a.concat(r):void 0);if(D(n,r,u),!T(u))return;e.m=!1}else o&&n.add(i);if(C(i)&&!B(i)){if(!e.h.D&&e._<1)return;J(e,i),t&&t.A.l||Z(e,i)}}function Z(e,t,n){void 0===n&&(n=!1),e.h.D&&e.m&&j(t,n)}function ee(e,t){var n=e[ye];return(n?F(n):e)[t]}function te(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ne(e){e.P||(e.P=!0,e.l&&ne(e.l))}function re(e){e.o||(e.o=U(e.t))}function ie(e,t,n){var r=L(t)?q("MapSet").F(t,n):M(t)?q("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:W(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=we;n&&(i=[r],a=xe);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):q("ES5").J(t,n);return(n?n.A:W()).p.push(r),r}function ae(e){return T(e)||I(22,e),function e(t){if(!C(t))return t;var n,r=t[ye],i=N(t);if(r){if(!r.P&&(r.i<4||!q("ES5").K(r)))return r.t;r.I=!0,n=oe(t,i),r.I=!1}else n=oe(t,i);return A(n,(function(t,i){r&&P(r.t,t)===i||D(n,t,e(i))})),3===i?new Set(n):n}(e)}function oe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return U(e)}function ue(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ye];return we.get(t,e)},set:function(t){var n=this[ye];we.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ye];if(!i.P)switch(i.i){case 5:r(i)&&ne(i);break;case 4:n(i)&&ne(i)}}}function n(e){for(var t=e.t,n=e.k,r=ge(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==ye){var o=t[a];if(void 0===o&&!O(t,a))return!0;var u=n[a],s=u&&u[ye];if(s?s.t!==o:!R(u,o))return!0}}var c=!!t[ye];return r.length!==ge(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};z("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=ke(n);delete a[ye];for(var o=ge(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:W(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ye,{value:a,writable:!0}),i},S:function(e,n,i){i?T(n)&&n[ye].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ye];if(n){var i=n.t,a=n.k,o=n.R,u=n.i;if(4===u)A(a,(function(t){t!==ye&&(void 0!==i[t]||O(i,t)?o[t]||e(a[t]):(o[t]=!0,ne(n)))})),A(i,(function(e){void 0!==a[e]||O(a,e)||(o[e]=!1,ne(n))}));else if(5===u){if(r(n)&&(ne(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){d=e}(o.useSyncExternalStoreWithSelector),function(e){e}(a.useSyncExternalStore),E=u.unstable_batchedUpdates,s=E;var se,ce,le="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),fe="undefined"!=typeof Map,he="undefined"!=typeof Set,de="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,pe=le?Symbol.for("immer-nothing"):((se={})["immer-nothing"]=!0,se),ve=le?Symbol.for("immer-draftable"):"__$immer_draftable",ye=le?Symbol.for("immer-state"):"__$immer_state",me=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ge="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ke=Object.getOwnPropertyDescriptors||function(e){var t={};return ge(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},be={},we={get:function(e,t){if(t===ye)return e;var n=F(e);if(!O(n,t))return function(e,t,n){var r,i=te(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!C(r)?r:r===ee(e.t,t)?(re(e),e.o[t]=ie(e.A.h,r,e)):r},has:function(e,t){return t in F(e)},ownKeys:function(e){return Reflect.ownKeys(F(e))},set:function(e,t,n){var r=te(F(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ee(F(e),t),a=null==i?void 0:i[ye];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(R(n,i)&&(void 0!==n||O(e.t,t)))return!0;re(e),ne(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==ee(e.t,t)||t in e.t?(e.R[t]=!1,re(e),ne(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=F(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){I(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){I(12)}},xe={};A(we,(function(e,t){xe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),xe.deleteProperty=function(e,t){return xe.set.call(this,e,t,void 0)},xe.set=function(e,t,n){return we.set.call(this,e[0],t,n,e[0])};var _e=function(){function e(e){var t=this;this.g=de,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&I(6),void 0!==r&&"function"!=typeof r&&I(7),C(e)){var u=Q(t),s=ie(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?G(u):H(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return K(u,r),$(e,u)}),(function(e){throw G(u),e})):(K(u,r),$(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===pe&&(o=void 0),t.D&&j(o,!0),r){var l=[],f=[];q("Patches").M(e,o,l,f),r(l,f)}return o}I(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){C(e)||I(8),T(e)&&(e=ae(e));var t=Q(this),n=ie(this,e,void 0);return n[ye].C=!0,H(t),n},t.finishDraft=function(e,t){var n=(e&&e[ye]).A;return K(n,t),$(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!de&&I(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=q("Patches").$;return T(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Ee=new _e,Se=Ee.produce,Ie=(Ee.produceWithPatches.bind(Ee),Ee.setAutoFreeze.bind(Ee),Ee.setUseProxies.bind(Ee),Ee.applyPatches.bind(Ee),Ee.createDraft.bind(Ee),Ee.finishDraft.bind(Ee),Se);function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Ce(e){var t=function(e,t){if("object"!==Te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Te(t)?t:String(t)}function Ae(e,t,n){return(t=Ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var De="function"===typeof Symbol&&Symbol.observable||"@@observable",Re=function(){return Math.random().toString(36).substring(7).split("").join(".")},Le={INIT:"@@redux/INIT"+Re(),REPLACE:"@@redux/REPLACE"+Re(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Re()}};function Me(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Fe(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Pe(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Pe(1));return n(Fe)(e,t)}if("function"!==typeof e)throw new Error(Pe(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(Pe(3));return a}function f(e){if("function"!==typeof e)throw new Error(Pe(4));if(s)throw new Error(Pe(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(Pe(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!Me(e))throw new Error(Pe(7));if("undefined"===typeof e.type)throw new Error(Pe(8));if(s)throw new Error(Pe(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(Pe(10));i=e,h({type:Le.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Pe(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[De]=function(){return this},e}return h({type:Le.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[De]=p,r}function Ue(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Le.INIT}))throw new Error(Pe(12));if("undefined"===typeof n(void 0,{type:Le.PROBE_UNKNOWN_ACTION()}))throw new Error(Pe(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Pe(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Pe(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=je.apply(void 0,a)(n.dispatch),Oe(Oe({},n),{},{dispatch:r})}}}function Be(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var qe=Be();qe.withExtraArgument=Be;var ze=qe,We=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Ge=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},He=Object.defineProperty,Qe=Object.defineProperties,Ye=Object.getOwnPropertyDescriptors,$e=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,Ze=function(e,t,n){return t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},et=function(e,t){for(var n in t||(t={}))Je.call(t,n)&&Ze(e,n,t[n]);if($e)for(var r=0,i=$e(t);r<i.length;r++){n=i[r];Xe.call(t,n)&&Ze(e,n,t[n])}return e},tt=function(e,t){return Qe(e,Ye(t))},nt=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},rt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?je:je.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function it(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var at=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return We(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ge([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ge([void 0],e.concat(this))))},t}(Array);function ot(e){return C(e)?Ie(e,(function(){})):e}function ut(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new at);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(ze.withExtraArgument(n.extraArgument)):r.push(ze));0;return r}(e)}}function st(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return et(et({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ct(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var lt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ft=["name","message","stack","code"],ht=function(e,t){this.payload=e,this.meta=t},dt=function(e,t){this.payload=e,this.meta=t},pt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=ft;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=st(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:tt(et({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=st(e+"/pending",(function(e,t,n){return{payload:void 0,meta:tt(et({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=st(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||pt)(e||"Rejected"),meta:tt(et({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):lt(),h=new o;function d(e){l=e,h.abort()}var p=function(){return nt(this,null,(function(){var o,p,v,y,m,g;return Ke(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(b=y)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,y];case 1:y=k.sent(),k.label=2;case 2:if(!1===y||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,m=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),u(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new ht(e,t)},fulfillWithValue:function(e,t){return new dt(e,t)}})).then((function(t){if(t instanceof ht)throw t;return t instanceof dt?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return g=k.sent(),v=g instanceof ht?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(vt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function vt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var yt="listenerMiddleware";st(yt+"/add"),st(yt+"/removeAll"),st(yt+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var mt,gt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:gt(10);ue();var kt,bt=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ot(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?ct(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=et(et({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?ct(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return ot(e())};else{var c=ot(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Ge([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(T(e))return void 0===(r=n(e,t))?e:r;if(C(e))return Ie(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?st(c,r):st(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),wt=bt.actions,xt=wt.login,_t=wt.logout,Et=function(e){return e.user.user},St=function(e){var t,n=ut(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!it(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ue(a)}var p=u;"function"===typeof p&&(p=p(n));var v=Ve.apply(void 0,p),y=je;c&&(y=rt(et({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=Ge([v],d):"function"===typeof d&&(m=d(m)),Fe(t,f,y.apply(void 0,m))}({reducer:{user:bt.reducer}});function It(e){if(Array.isArray(e))return e}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ct(e,t){if(e){if("string"===typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function At(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nt(e,t){return It(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||Ct(e,t)||At()}function Ot(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Pt(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||Ot(e)||Ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ce(r.key),r)}}function Lt(e,t,n){return t&&Rt(e.prototype,t),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mt(e,t){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mt(e,t)}function Ft(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}function jt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e,t){if(t&&("object"===Te(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vt(e)}function qt(e){var t=jt();return function(){var n,r=Ut(e);if(t){var i=Ut(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bt(this,n)}}function zt(e,t,n){return zt=jt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Mt(i,n.prototype),i},zt.apply(null,arguments)}function Wt(e){var t="function"===typeof Map?new Map:void 0;return Wt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return zt(e,arguments,Ut(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Mt(n,e)},Wt(e)}function Kt(e){return It(e)||Ot(e)||Ct(e)||At()}function Gt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ct(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(kt||(kt={}));var Qt,Yt="popstate";function $t(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Jt(e,t){return{usr:e.state,key:e.key,idx:t}}function Xt(e,t,n,r){return void 0===n&&(n=null),Ht({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?en(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Zt(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function en(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tn(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=kt.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=kt.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:y.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:Zt(e);return $t(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(Ht({},c.state,{idx:h}),""));var y={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Yt,p),f=e,function(){o.removeEventListener(Yt,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=kt.Push;var r=Xt(y.location,e,t);n&&n(r,e);var i=Jt(r,h=d()+1),a=y.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:y.location,delta:1})},replace:function(e,t){l=kt.Replace;var r=Xt(y.location,e,t);n&&n(r,e);var i=Jt(r,h=d()),a=y.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:y.location,delta:0})},go:function(e){return c.go(e)}};return y}function nn(e,t,n){void 0===n&&(n="/");var r=hn(("string"===typeof t?en(t):t).pathname||"/",n);if(null==r)return null;var i=rn(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=cn(i[o],fn(r));return a}function rn(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&($t(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=mn([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&($t(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),rn(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:sn(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Gt(an(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function an(e){var t=e.split("/");if(0===t.length)return[];var n=Kt(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=an(i.join("/")),s=[];return s.push.apply(s,Pt(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,Pt(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Qt||(Qt={}));var on=/^:\w+$/,un=function(e){return"*"===e};function sn(e,t){var n=e.split("/"),r=n.length;return n.some(un)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!un(e)})).reduce((function(e,t){return e+(on.test(t)?3:""===t?1:10)}),r)}function cn(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=ln({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:mn([i,l.pathname]),pathnameBase:gn(mn([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=mn([i,l.pathnameBase]))}return a}function ln(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);dn("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=Nt(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return dn(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function fn(e){try{return decodeURI(e)}catch(t){return dn(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function hn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function dn(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function pn(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function vn(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function yn(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=en(e):($t(!(i=Ht({},e)).pathname||!i.pathname.includes("?"),pn("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),pn("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),pn("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?en(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:kn(a),hash:bn(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var mn=function(e){return e.join("/").replace(/\/\/+/g,"/")},gn=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},kn=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},bn=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},wn=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Lt(n)}(Wt(Error));function xn(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var _n=["post","put","patch","delete"],En=(new Set(_n),["get"].concat(_n));new Set(En),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sn.apply(this,arguments)}var In="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Tn=t.useState,Cn=t.useEffect,An=t.useLayoutEffect,Nn=t.useDebugValue;function On(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!In(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var Pn=t.createContext(null);var Dn=t.createContext(null);var Rn=t.createContext(null);var Ln=t.createContext(null);var Mn=t.createContext(null);var Fn=t.createContext({outlet:null,matches:[]});var Un=t.createContext(null);function jn(){return null!=t.useContext(Mn)}function Vn(){return jn()||$t(!1),t.useContext(Mn).location}function Bn(){jn()||$t(!1);var e=t.useContext(Ln),n=e.basename,r=e.navigator,i=t.useContext(Fn).matches,a=Vn().pathname,o=JSON.stringify(vn(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=yn(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:mn([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function qn(){var e=function(){var e,n=t.useContext(Un),r=Qn(Wn.UseRouteError),i=Yn(Wn.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=xn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var zn,Wn,Kn=function(e){Ft(r,e);var n=qt(r);function r(e){var t;return Dt(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return Lt(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Fn.Provider,{value:this.props.routeContext},t.createElement(Un.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Gn(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(Pn);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Fn.Provider,{value:n},i)}function Hn(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||$t(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(qn,null):null,l=n.concat(i.slice(0,u+1)),f=function(){return t.createElement(Gn,{match:o,routeContext:{outlet:e,matches:l}},s?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?t.createElement(Kn,{location:r.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Qn(e){var n=t.useContext(Dn);return n||$t(!1),n}function Yn(e){var n=function(e){var n=t.useContext(Fn);return n||$t(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||$t(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(zn||(zn={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Wn||(Wn={}));var $n;function Jn(e){$t(!1)}function Xn(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?kt.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;jn()&&$t(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=en(o));var p=o,v=p.pathname,y=void 0===v?"/":v,m=p.search,g=void 0===m?"":m,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,_=p.key,E=void 0===_?"default":_,S=t.useMemo((function(){var e=hn(y,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:E}}),[h,y,g,b,x,E]);return null==S?null:t.createElement(Ln.Provider,{value:d},t.createElement(Mn.Provider,{children:a,value:{location:S,navigationType:s}}))}function Zn(e){var n=e.children,r=e.location,i=t.useContext(Pn);return function(e,n){jn()||$t(!1);var r,i=t.useContext(Ln).navigator,a=t.useContext(Dn),o=t.useContext(Fn).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,Vn());if(n){var f,h="string"===typeof n?en(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||$t(!1),r=h}else r=l;var d=r.pathname||"/",p=nn(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=Hn(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:mn([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:mn([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(Mn.Provider,{value:{location:Sn({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:kt.Pop}},v):v}(i&&!n?i.router.routes:tr(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}($n||($n={}));var er=new Promise((function(){}));t.Component;function tr(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Jn&&$t(!1),e.props.index&&e.props.children&&$t(!1);var a=[].concat(Pt(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=tr(e.props.children,a)),r.push(o)}else r.push.apply(r,tr(e.props.children,n))})),r}function nr(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),tn((function(e,t){var n=e.location;return Xt("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Zt(t)}),null,n)));var u=o.current,s=Nt(t.useState({action:u.action,location:u.location}),2),c=s[0],l=s[1];return t.useLayoutEffect((function(){return u.listen(l)}),[u]),t.createElement(Xn,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:u})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var rr,ir;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(rr||(rr={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ir||(ir={}));var ar=n.p+"static/media/netflix-logo.774e8c1632ac9433608b.png",or="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAMAAAD6TlWYAAAAM1BMVEX////w9/fh7+/S5+fD39+z19ekz8+Vx8eGv8B3trhorrBZpqhKnqA6lpgrjpAchogNfoCu3ygvAAAGaUlEQVR4nO3d23qiMAAAYURQFATf/2lXa7vWVSBkBMN+M3e9KOJfDhJsyM6Gyj69AmtPQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwt4D2DRN95YFfai2aU6Rv4oB20O5yb4q9rEr8dHq/fa2/nl5jNgKIGBTZr/Lj2xxi9dV+cMb2LVTl4AAu0e+L8KGLHDp6s3TG9hP3AoJYPP88tc1AEtctm73av3zaQciAHh89fLX3SB+kYvWbV+v/2aSYDxgn99aBPv8JgpGA556/VayFz8fv++CE04lsYBd3v/6WVZHLnXBDkPrvw1fTizgfuj1szz5j9XtyxPg3w7BC4oEbAdfPsuquMUu18sT8L1N8BYQCTi8AV5WIG6xi9WNrH/4JhgJOLwDZMkfBQePgNeCj4JxgM3Y66f+UaYYfQOhJ+I4wGr09fOo5S7W6PpnoVf1cYDjf8As6fPw+B4U/Fk2DrD3Q/y9pAcV6vH1LwIXFQc4/vppA44fggQcTEDYxwEDTiJJAwacROYFHBjJ+Cnps/DQUNJ3856F/Rx4X1LU64//BRO/Ehnfhea9EjkPjgZeS/xauH84/buZr4VH9+HE9+BzNzYaEnx/NhJwbAWSvz88sgWEbwCxI9LDK5D6Bji6BYRvANE3lQYvh5P+EHhr8HI49EPgmdyVG/gTht9R+GADg/pTbunE3xfuF0z8I8xPvYLL3BfuF1yJX6/gUt9MuAi+PA4mfwK+9/JMuJ12Ecq+nfW8BsWqviPYPG0Cm6k3ZOH3A9vdw35crOD0+9hx+8g3eQyEf8W33t8Gt/LyMPnbiSnUHsrbhWmxj7n+9EvmMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJ+FQ76dkiAj72/XyMMvj/dgX8XVf9/ffneScf+z/7xRcumBjg6VAdPzRpwCNfFjr5TVKAx9u/jucfmLnsn7kLvv6DPegXUwK8T0NSLjx5QPNyBpSg+RMSAnx4E1MfbUQ69sxoGrQPpwP4z7ymERNoRNVWvXMhrgzwaVLJTTX/jlwPTWW5MsBXb2E36xm53Q9PxLmuY2DPzMTFXDNJtYex+ezLoOWkDnjZk2fYDLtjwETOYS+bDODQM2bytz61c3zb+ypw008GcGRi4HcZ1iPHvZ82884jPUejk3tvdkd2Wm6qgCnsb4U/pDQdwOEn1X233cchdnU43rRnvKYDODgr6+82ZVVPeIeni13YbhvBlxTguZ2wkWTFrqqHH6t9ag5VGXS+iOdLC/ByVRq4Ed7Li2JfVdWx+am+/FQVxZS/xb2Ii5+0AF9NKrpc+WH5R4S/v3bkoY2zFXnNkxzgZwjjL3cSBLxe5U8+FqK2Mfvud0kCXo6Fh0mfPEjwWjtRwPPIUN3bKuloT7qAg4PF79Ljo94pA146Pd8sS0nvnDzgpXoGw83uPXrnNQBeOu0nX5ENVFTvHF1cBeCl9rh7xwFxu6/ffLNvLYDXGOKmrOZ4VMKaAK91TcQISz5tAGxSawO81dRVWQScWzZfg16zrso6Ab87XQev9sXj4FV+/bmqqqZZ5As2qwZMIQFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiDsDyaJ+FLzeNcQAAAAAElFTkSuQmCC",ur=n(184);var sr=function(){var e=Nt((0,t.useState)(!1),2),n=e[0],r=e[1],i=Bn(),a=function(){window.scrollY>100?r(!0):r(!1)};return(0,t.useEffect)((function(){return window.addEventListener("scroll",a),function(){return window.removeEventListener("scroll",a)}}),[]),(0,ur.jsx)("div",{className:"nav ".concat(n&&"nav__black"),children:(0,ur.jsxs)("div",{className:"nav__content",children:[(0,ur.jsx)("img",{onClick:function(){return i("/")},className:"navbar__logo",src:ar,alt:"netflix logo"}),(0,ur.jsx)("img",{onClick:function(){return i("/profile")},className:"navbar__avatar",src:or,alt:"Nexflix avatar"})]})})};function cr(){cr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(I([])));m&&m!==t&&n.call(m,a)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==Te(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function lr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function fr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){lr(a,r,i,o,u,"next",e)}function u(e){lr(a,r,i,o,u,"throw",e)}o(void 0)}))}}var hr="9ddbb9a13fcf68b723783b9a5742e870",dr={fetchTrending:"/trending/all/week?api_key=".concat(hr,"&language=en-US"),fetchNetflixOriginals:"/discover/tv?api_key=".concat(hr,"&with_networks=213"),fetchTopRated:"/movie/top_rated?api_key=".concat(hr,"&language=en-US"),fetchActionMovies:"/discover/movie?api_key=".concat(hr,"&with_genres=28"),fetchComedyMovies:"/discover/movie?api_key=".concat(hr,"&with_genres=35"),fetchHorrorMovies:"/discover/movie?api_key=".concat(hr,"&with_genres=27"),fetchRomanceMovies:"/discover/movie?api_key=".concat(hr,"&with_genres=10749"),fetchDocumentaries:"/discover/movie?api_key=".concat(hr,"&with_genres=99")};function pr(e,t){return function(){return e.apply(t,arguments)}}var vr,yr=Object.prototype.toString,mr=Object.getPrototypeOf,gr=(vr=Object.create(null),function(e){var t=yr.call(e);return vr[t]||(vr[t]=t.slice(8,-1).toLowerCase())}),kr=function(e){return e=e.toLowerCase(),function(t){return gr(t)===e}},br=function(e){return function(t){return typeof t===e}},wr=Array.isArray,xr=br("undefined");var _r=kr("ArrayBuffer");var Er=br("string"),Sr=br("function"),Ir=br("number"),Tr=function(e){return null!==e&&"object"===typeof e},Cr=function(e){if("object"!==gr(e))return!1;var t=mr(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ar=kr("Date"),Nr=kr("File"),Or=kr("Blob"),Pr=kr("FileList"),Dr=kr("URLSearchParams");function Rr(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),wr(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var u,s=o?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;for(n=0;n<c;n++)u=s[n],t.call(null,e[u],u,e)}}function Lr(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var Mr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Fr=function(e){return!xr(e)&&e!==Mr};var Ur,jr=(Ur="undefined"!==typeof Uint8Array&&mr(Uint8Array),function(e){return Ur&&e instanceof Ur}),Vr=kr("HTMLFormElement"),Br=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),qr=kr("RegExp"),zr=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Rr(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},Wr={isArray:wr,isArrayBuffer:_r,isBuffer:function(e){return null!==e&&!xr(e)&&null!==e.constructor&&!xr(e.constructor)&&Sr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||yr.call(e)===t||Sr(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&_r(e.buffer)},isString:Er,isNumber:Ir,isBoolean:function(e){return!0===e||!1===e},isObject:Tr,isPlainObject:Cr,isUndefined:xr,isDate:Ar,isFile:Nr,isBlob:Or,isRegExp:qr,isFunction:Sr,isStream:function(e){return Tr(e)&&Sr(e.pipe)},isURLSearchParams:Dr,isTypedArray:jr,isFileList:Pr,forEach:Rr,merge:function e(){for(var t=Fr(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&Lr(r,i)||i;Cr(r[a])&&Cr(t)?r[a]=e(r[a],t):Cr(t)?r[a]=e({},t):wr(t)?r[a]=t.slice():r[a]=t},a=0,o=arguments.length;a<o;a++)arguments[a]&&Rr(arguments[a],i);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return Rr(t,(function(t,r){n&&Sr(t)?e[r]=pr(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&mr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:gr,kindOfTest:kr,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(wr(e))return e;var t=e.length;if(!Ir(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Vr,hasOwnProperty:Br,hasOwnProp:Br,reduceDescriptors:zr,freezeMethods:function(e){zr(e,(function(t,n){if(Sr(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];Sr(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return wr(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Lr,global:Mr,isContextDefined:Fr,toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(Tr(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=wr(n)?[]:{};return Rr(n,(function(t,n){var a=e(t,r+1);!xr(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function Kr(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Wr.inherits(Kr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Wr.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Gr=Kr.prototype,Hr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Hr[e]={value:e}})),Object.defineProperties(Kr,Hr),Object.defineProperty(Gr,"isAxiosError",{value:!0}),Kr.from=function(e,t,n,r,i,a){var o=Object.create(Gr);return Wr.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Kr.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Qr=Kr,Yr=n(7472);function $r(e){return Wr.isPlainObject(e)||Wr.isArray(e)}function Jr(e){return Wr.endsWith(e,"[]")?e.slice(0,-2):e}function Xr(e,t,n){return e?e.concat(t).map((function(e,t){return e=Jr(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Zr=Wr.toFlatObject(Wr,{},null,(function(e){return/^is[A-Z]/.test(e)}));var ei=function(e,t,n){if(!Wr.isObject(e))throw new TypeError("target must be an object");t=t||new(Yr||FormData);var r,i=(n=Wr.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Wr.isUndefined(t[e])}))).metaTokens,a=n.visitor||l,o=n.dots,u=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&Wr.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!Wr.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Wr.isDate(e))return e.toISOString();if(!s&&Wr.isBlob(e))throw new Qr("Blob is not supported. Use a Buffer instead.");return Wr.isArrayBuffer(e)||Wr.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(Wr.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Wr.isArray(e)&&function(e){return Wr.isArray(e)&&!e.some($r)}(e)||Wr.isFileList(e)||Wr.endsWith(n,"[]")&&(a=Wr.toArray(e)))return n=Jr(n),a.forEach((function(e,r){!Wr.isUndefined(e)&&null!==e&&t.append(!0===u?Xr([n],r,o):null===u?n:n+"[]",c(e))})),!1;return!!$r(e)||(t.append(Xr(r,n,o),c(e)),!1)}var f=[],h=Object.assign(Zr,{defaultVisitor:l,convertValue:c,isVisitable:$r});if(!Wr.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Wr.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),Wr.forEach(n,(function(n,i){!0===(!(Wr.isUndefined(n)||null===n)&&a.call(t,n,Wr.isString(i)?i.trim():i,r,h))&&e(n,r?r.concat(i):[i])})),f.pop()}}(e),t};function ti(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ni(e,t){this._pairs=[],e&&ei(e,this,t)}var ri=ni.prototype;ri.append=function(e,t){this._pairs.push([e,t])},ri.toString=function(e){var t=e?function(t){return e.call(this,t,ti)}:ti;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var ii=ni;function ai(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oi(e,t,n){if(!t)return e;var r,i=n&&n.encode||ai,a=n&&n.serialize;if(r=a?a(t,n):Wr.isURLSearchParams(t)?t.toString():new ii(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var ui=function(){function e(){Dt(this,e),this.handlers=[]}return Lt(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Wr.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),si=ui,ci={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},li="undefined"!==typeof URLSearchParams?URLSearchParams:ii,fi=FormData,hi=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),di="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,pi={isBrowser:!0,classes:{URLSearchParams:li,FormData:fi,Blob:Blob},isStandardBrowserEnv:hi,isStandardBrowserWebWorkerEnv:di,protocols:["http","https","file","blob","url","data"]};var vi=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&Wr.isArray(r)?r.length:a,u?(Wr.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Wr.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Wr.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Wr.isFormData(e)&&Wr.isFunction(e.entries)){var n={};return Wr.forEachEntry(e,(function(e,r){t(function(e){return Wr.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},yi={"Content-Type":void 0};var mi={transitional:ci,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Wr.isObject(e);if(a&&Wr.isHTMLForm(e)&&(e=new FormData(e)),Wr.isFormData(e))return i&&i?JSON.stringify(vi(e)):e;if(Wr.isArrayBuffer(e)||Wr.isBuffer(e)||Wr.isStream(e)||Wr.isFile(e)||Wr.isBlob(e))return e;if(Wr.isArrayBufferView(e))return e.buffer;if(Wr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ei(e,new pi.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return pi.isNode&&Wr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Wr.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return ei(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Wr.isString(e))try{return(t||JSON.parse)(e),Wr.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||mi.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Wr.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Qr.from(a,Qr.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pi.classes.FormData,Blob:pi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Wr.forEach(["delete","get","head"],(function(e){mi.headers[e]={}})),Wr.forEach(["post","put","patch"],(function(e){mi.headers[e]=Wr.merge(yi)}));var gi=mi,ki=Wr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bi=Symbol("internals");function wi(e){return e&&String(e).trim().toLowerCase()}function xi(e){return!1===e||null==e?e:Wr.isArray(e)?e.map(xi):String(e)}function _i(e,t,n,r){return Wr.isFunction(r)?r.call(this,t,n):Wr.isString(t)?Wr.isString(r)?-1!==t.indexOf(r):Wr.isRegExp(r)?r.test(t):void 0:void 0}var Ei=function(e,t){function n(e){Dt(this,n),e&&this.set(e)}return Lt(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=wi(t);if(!i)throw new Error("header name must be a non-empty string");var a=Wr.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=xi(e))}var a=function(e,t){return Wr.forEach(e,(function(e,n){return i(e,n,t)}))};return Wr.isPlainObject(e)||e instanceof this.constructor?a(e,t):Wr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&ki[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=wi(e)){var n=Wr.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Wr.isFunction(t))return t.call(this,r,n);if(Wr.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=wi(e)){var n=Wr.findKey(this,e);return!(!n||t&&!_i(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=wi(e)){var i=Wr.findKey(n,e);!i||t&&!_i(0,n[i],i,t)||(delete n[i],r=!0)}}return Wr.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(e){var t=this,n={};return Wr.forEach(this,(function(r,i){var a=Wr.findKey(n,i);if(a)return t[a]=xi(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=xi(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Wr.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Wr.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=Nt(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[bi]=this[bi]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=wi(e);t[r]||(!function(e,t){var n=Wr.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Wr.isArray(e)?e.forEach(r):r(e),this}}]),n}();Ei.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),Wr.freezeMethods(Ei.prototype),Wr.freezeMethods(Ei);var Si=Ei;function Ii(e,t){var n=this||gi,r=t||n,i=Si.from(r.headers),a=r.data;return Wr.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Ti(e){return!(!e||!e.__CANCEL__)}function Ci(e,t,n){Qr.call(this,null==e?"canceled":e,Qr.ERR_CANCELED,t,n),this.name="CanceledError"}Wr.inherits(Ci,Qr,{__CANCEL__:!0});var Ai=Ci;var Ni=pi.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Wr.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Wr.isString(r)&&o.push("path="+r),Wr.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Oi(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Pi=pi.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Wr.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var Di=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function Ri(e,t){var n=0,r=Di(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var Li={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=Si.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Wr.isFormData(i)&&(pi.isStandardBrowserEnv||pi.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=Oi(e.baseURL,e.url);function h(){if(s){var r=Si.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Qr("Request failed with status code "+n.status,[Qr.ERR_BAD_REQUEST,Qr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),oi(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new Qr("Request aborted",Qr.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new Qr("Network Error",Qr.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||ci;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Qr(t,r.clarifyTimeoutError?Qr.ETIMEDOUT:Qr.ECONNABORTED,e,s)),s=null},pi.isStandardBrowserEnv){var d=(e.withCredentials||Pi(f))&&e.xsrfCookieName&&Ni.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&Wr.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),Wr.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",Ri(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",Ri(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new Ai(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===pi.protocols.indexOf(p)?n(new Qr("Unsupported protocol "+p+":",Qr.ERR_BAD_REQUEST,e)):s.send(i||null)}))}};Wr.forEach(Li,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Mi=function(e){for(var t,n,r=(e=Wr.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=Wr.isString(t)?Li[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new Qr("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Wr.hasOwnProp(Li,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!Wr.isFunction(n))throw new TypeError("adapter is not a function");return n};function Fi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ai(null,e)}function Ui(e){return Fi(e),e.headers=Si.from(e.headers),e.data=Ii.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Mi(e.adapter||gi.adapter)(e).then((function(t){return Fi(e),t.data=Ii.call(e,e.transformResponse,t),t.headers=Si.from(t.headers),t}),(function(t){return Ti(t)||(Fi(e),t&&t.response&&(t.response.data=Ii.call(e,e.transformResponse,t.response),t.response.headers=Si.from(t.response.headers))),Promise.reject(t)}))}var ji=function(e){return e instanceof Si?e.toJSON():e};function Vi(e,t){t=t||{};var n={};function r(e,t,n){return Wr.isPlainObject(e)&&Wr.isPlainObject(t)?Wr.merge.call({caseless:n},e,t):Wr.isPlainObject(t)?Wr.merge({},t):Wr.isArray(t)?t.slice():t}function i(e,t,n){return Wr.isUndefined(t)?Wr.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Wr.isUndefined(t))return r(void 0,t)}function o(e,t){return Wr.isUndefined(t)?Wr.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(ji(e),ji(t),!0)}};return Wr.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);Wr.isUndefined(o)&&a!==u||(n[r]=o)})),n}var Bi="1.2.3",qi={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){qi[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var zi={};qi.transitional=function(e,t,n){function r(e,t){return"[Axios v1.2.3] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Qr(r(i," has been removed"+(t?" in "+t:"")),Qr.ERR_DEPRECATED);return t&&!zi[i]&&(zi[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Wi={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Qr("options must be an object",Qr.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new Qr("option "+a+" must be "+s,Qr.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Qr("Unknown option "+a,Qr.ERR_BAD_OPTION)}},validators:qi},Ki=Wi.validators,Gi=function(){function e(t){Dt(this,e),this.defaults=t,this.interceptors={request:new si,response:new si}}return Lt(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=Vi(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&Wi.assertOptions(i,{silentJSONParsing:Ki.transitional(Ki.boolean),forcedJSONParsing:Ki.transitional(Ki.boolean),clarifyTimeoutError:Ki.transitional(Ki.boolean)},!1),void 0!==a&&Wi.assertOptions(a,{encode:Ki.function,serialize:Ki.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&Wr.merge(o.common,o[t.method]))&&Wr.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=Si.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[Ui.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],y=u[h++];try{p=v(p)}catch(m){y.call(this,m);break}}try{c=Ui.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return oi(Oi((e=Vi(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Wr.forEach(["delete","get","head","options"],(function(e){Gi.prototype[e]=function(t,n){return this.request(Vi(n||{},{method:e,url:t,data:(n||{}).data}))}})),Wr.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Vi(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Gi.prototype[e]=t(),Gi.prototype[e+"Form"]=t(!0)}));var Hi=Gi,Qi=function(){function e(t){if(Dt(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Ai(e,t,i),n(r.reason))}))}return Lt(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Yi=Qi;var $i={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($i).forEach((function(e){var t=Nt(e,2),n=t[0],r=t[1];$i[r]=n}));var Ji=$i;var Xi=function e(t){var n=new Hi(t),r=pr(Hi.prototype.request,n);return Wr.extend(r,Hi.prototype,n,{allOwnKeys:!0}),Wr.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Vi(t,n))},r}(gi);Xi.Axios=Hi,Xi.CanceledError=Ai,Xi.CancelToken=Yi,Xi.isCancel=Ti,Xi.VERSION=Bi,Xi.toFormData=ei,Xi.AxiosError=Qr,Xi.Cancel=Xi.CanceledError,Xi.all=function(e){return Promise.all(e)},Xi.spread=function(e){return function(t){return e.apply(null,t)}},Xi.isAxiosError=function(e){return Wr.isObject(e)&&!0===e.isAxiosError},Xi.mergeConfig=Vi,Xi.AxiosHeaders=Si,Xi.formToJSON=function(e){return vi(Wr.isHTMLForm(e)?new FormData(e):e)},Xi.HttpStatusCode=Ji,Xi.default=Xi;var Zi=Xi.create({baseURL:"http://api.themoviedb.org/3"});var ea=function(){var e=Nt((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){function e(){return(e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi.get(dr.fetchNetflixOriginals);case 2:return t=e.sent,r(t.data.results[Math.floor(Math.random()*t.data.results.length-1)]),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,ur.jsxs)("header",{className:"banner",style:{backgroundImage:'url("https://image.tmdb.org/t/p/original/'.concat(null===n||void 0===n?void 0:n.backdrop_path,'")'),backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},children:[(0,ur.jsxs)("div",{className:"banner__contents",children:[(0,ur.jsx)("h1",{className:"banner__title",children:(null===n||void 0===n?void 0:n.title)||(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.original_name)}),(0,ur.jsxs)("div",{className:"banner__buttons",children:[(0,ur.jsx)("button",{className:"btn banner__button",children:"Play"}),(0,ur.jsx)("button",{className:"btn banner__button",children:"My List"})]}),(0,ur.jsx)("p",{className:"banner__description",children:function(e,t){return(null===e||void 0===e?void 0:e.length)>t?e.substr(0,t-1)+"...":e}(null===n||void 0===n?void 0:n.overview,150)})]}),(0,ur.jsx)("div",{className:"banner--fadeBottom"})]})},ta=n(2007),na=n.n(ta),ra=n(8262),ia=n.n(ra),aa=n(6071),oa=n.n(aa),ua=Object.defineProperty,sa=Object.defineProperties,ca=Object.getOwnPropertyDescriptors,la=Object.getOwnPropertySymbols,fa=Object.prototype.hasOwnProperty,ha=Object.prototype.propertyIsEnumerable,da=function(e,t,n){return t in e?ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},pa=function(e,t){for(var n in t||(t={}))fa.call(t,n)&&da(e,n,t[n]);if(la){var r,i=Gt(la(t));try{for(i.s();!(r=i.n()).done;){n=r.value;ha.call(t,n)&&da(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},va=function(e,t){return sa(e,ca(t))};function ya(e,t){var n,r;if(e.videoId!==t.videoId)return!0;var i=(null==(n=e.opts)?void 0:n.playerVars)||{},a=(null==(r=t.opts)?void 0:r.playerVars)||{};return i.start!==a.start||i.end!==a.end}function ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return va(pa({},e),{height:0,width:0,playerVars:va(pa({},e.playerVars),{autoplay:0,start:0,end:0})})}function ga(e,t){return e.videoId!==t.videoId||!ia()(ma(e.opts),ma(t.opts))}function ka(e,t){var n,r,i,a;return e.id!==t.id||e.className!==t.className||(null==(n=e.opts)?void 0:n.width)!==(null==(r=t.opts)?void 0:r.width)||(null==(i=e.opts)?void 0:i.height)!==(null==(a=t.opts)?void 0:a.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var ba={videoId:na().string,id:na().string,className:na().string,iframeClassName:na().string,style:na().object,title:na().string,loading:na().oneOf(["lazy","eager"]),opts:na().objectOf(na().any),onReady:na().func,onError:na().func,onPlay:na().func,onPause:na().func,onEnd:na().func,onStateChange:na().func,onPlaybackRateChange:na().func,onPlaybackQualityChange:na().func},wa=function(e){Ft(r,e);var n=qt(r);function r(e){var t;return Dt(this,r),(t=n.call(this,e)).destroyPlayerPromise=void 0,t.onPlayerReady=function(e){var n,r;return null==(r=(n=t.props).onReady)?void 0:r.call(n,e)},t.onPlayerError=function(e){var n,r;return null==(r=(n=t.props).onError)?void 0:r.call(n,e)},t.onPlayerStateChange=function(e){var n,i,a,o,u,s,c,l;switch(null==(i=(n=t.props).onStateChange)||i.call(n,e),e.data){case r.PlayerState.ENDED:null==(o=(a=t.props).onEnd)||o.call(a,e);break;case r.PlayerState.PLAYING:null==(s=(u=t.props).onPlay)||s.call(u,e);break;case r.PlayerState.PAUSED:null==(l=(c=t.props).onPause)||l.call(c,e)}},t.onPlayerPlaybackRateChange=function(e){var n,r;return null==(r=(n=t.props).onPlaybackRateChange)?void 0:r.call(n,e)},t.onPlayerPlaybackQualityChange=function(e){var n,r;return null==(r=(n=t.props).onPlaybackQualityChange)?void 0:r.call(n,e)},t.destroyPlayer=function(){return t.internalPlayer?(t.destroyPlayerPromise=t.internalPlayer.destroy().then((function(){return t.destroyPlayerPromise=void 0})),t.destroyPlayerPromise):Promise.resolve()},t.createPlayer=function(){if("undefined"!==typeof document)if(t.destroyPlayerPromise)t.destroyPlayerPromise.then(t.createPlayer);else{var e=va(pa({},t.props.opts),{videoId:t.props.videoId});t.internalPlayer=oa()(t.container,e),t.internalPlayer.on("ready",t.onPlayerReady),t.internalPlayer.on("error",t.onPlayerError),t.internalPlayer.on("stateChange",t.onPlayerStateChange),t.internalPlayer.on("playbackRateChange",t.onPlayerPlaybackRateChange),t.internalPlayer.on("playbackQualityChange",t.onPlayerPlaybackQualityChange),(t.props.title||t.props.loading)&&t.internalPlayer.getIframe().then((function(e){t.props.title&&e.setAttribute("title",t.props.title),t.props.loading&&e.setAttribute("loading",t.props.loading)}))}},t.resetPlayer=function(){return t.destroyPlayer().then(t.createPlayer)},t.updatePlayer=function(){var e;null==(e=t.internalPlayer)||e.getIframe().then((function(e){t.props.id?e.setAttribute("id",t.props.id):e.removeAttribute("id"),t.props.iframeClassName?e.setAttribute("class",t.props.iframeClassName):e.removeAttribute("class"),t.props.opts&&t.props.opts.width?e.setAttribute("width",t.props.opts.width.toString()):e.removeAttribute("width"),t.props.opts&&t.props.opts.height?e.setAttribute("height",t.props.opts.height.toString()):e.removeAttribute("height"),t.props.title?e.setAttribute("title",t.props.title):e.setAttribute("title","YouTube video player"),t.props.loading?e.setAttribute("loading",t.props.loading):e.removeAttribute("loading")}))},t.getInternalPlayer=function(){return t.internalPlayer},t.updateVideo=function(){var e,n,r,i;if("undefined"!==typeof t.props.videoId&&null!==t.props.videoId){var a=!1,o={videoId:t.props.videoId};(null==(n=t.props.opts)?void 0:n.playerVars)&&(a=1===t.props.opts.playerVars.autoplay,"start"in t.props.opts.playerVars&&(o.startSeconds=t.props.opts.playerVars.start),"end"in t.props.opts.playerVars&&(o.endSeconds=t.props.opts.playerVars.end)),a?null==(r=t.internalPlayer)||r.loadVideoById(o):null==(i=t.internalPlayer)||i.cueVideoById(o)}else null==(e=t.internalPlayer)||e.stopVideo()},t.refContainer=function(e){t.container=e},t.container=null,t.internalPlayer=null,t}return Lt(r,[{key:"componentDidMount",value:function(){this.createPlayer()}},{key:"componentDidUpdate",value:function(e){return t=this,n=null,r=cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ka(e,this.props)&&this.updatePlayer(),!ga(e,this.props)){t.next=4;break}return t.next=4,this.resetPlayer();case 4:ya(e,this.props)&&this.updateVideo();case 5:case"end":return t.stop()}}),t,this)})),new Promise((function(e,i){var a=function(e){try{u(r.next(e))}catch(t){i(t)}},o=function(e){try{u(r.throw(e))}catch(t){i(t)}},u=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(a,o)};u((r=r.apply(t,n)).next())}));var t,n,r}},{key:"componentWillUnmount",value:function(){this.destroyPlayer()}},{key:"render",value:function(){return t.createElement("div",{className:this.props.className,style:this.props.style},t.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}}]),r}(t.Component),xa=wa;xa.propTypes=ba,xa.defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:function(){},onError:function(){},onPlay:function(){},onPause:function(){},onEnd:function(){},onStateChange:function(){},onPlaybackRateChange:function(){},onPlaybackQualityChange:function(){}},xa.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var _a=xa,Ea=n(2453),Sa=n.n(Ea);var Ia=function(e){var n=e.title,r=e.fetchUrl,i=e.isLargeRow,a=void 0!==i&&i,o=Nt((0,t.useState)([]),2),u=o[0],s=o[1],c=Nt((0,t.useState)(""),2),l=c[0],f=c[1];return(0,t.useEffect)((function(){function e(){return(e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi.get(r);case 2:return t=e.sent,s(t.data.results),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),(0,ur.jsxs)("div",{className:"row",children:[(0,ur.jsx)("h2",{children:n}),(0,ur.jsx)("div",{className:"row__posters",children:u.map((function(e){return(0,ur.jsx)("img",{className:"row__poster ".concat(a&&"row__posterLarge"),src:"".concat("https://image.tmdb.org/t/p/original/").concat(a?e.poster_path:e.backdrop_path),alt:e.name,onClick:function(){return function(e){l?f(""):Sa()((null===e||void 0===e?void 0:e.name)||"").then((function(e){var t=new URLSearchParams(new URL(e).search);f(t.get("v"))})).catch((function(e){return console.log(e)}))}(e)}},e.id)}))}),l&&(0,ur.jsx)(_a,{videoId:l,opts:{height:"390",width:"100%",playVars:{autoplay:1}}})]})};var Ta=function(){return(0,ur.jsxs)("div",{className:"homeScreen",children:[(0,ur.jsx)(sr,{}),(0,ur.jsx)(ea,{}),(0,ur.jsx)(Ia,{title:"Netflix Originals",fetchUrl:dr.fetchNetflixOriginals,isLargeRow:!0}),(0,ur.jsx)(Ia,{title:"Trending Now",fetchUrl:dr.fetchTrending}),(0,ur.jsx)(Ia,{title:"Top Rated",fetchUrl:dr.fetchTopRated,isLargeRow:!0}),(0,ur.jsx)(Ia,{title:"Action Movies",fetchUrl:dr.fetchActionMovies}),(0,ur.jsx)(Ia,{title:"Comedy Movies",fetchUrl:dr.fetchComedyMovies,isLargeRow:!0}),(0,ur.jsx)(Ia,{title:"Horror Movies",fetchUrl:dr.fetchHorrorMovies}),(0,ur.jsx)(Ia,{title:"Romance Movies",fetchUrl:dr.fetchRomanceMovies,isLargeRow:!0}),(0,ur.jsx)(Ia,{title:"Documentaries",fetchUrl:dr.fetchDocumentaries})]})},Ca=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Aa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ca(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Na=function(e){return function(e){var t=Ca(e);return Aa.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Oa=function(e){try{return Aa.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Pa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Pa(e[n],t[n]));return e}var Da=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Ra=function(){try{return Da()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/netflix_clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Oa(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},La=function(){var e;return null===(e=Ra())||void 0===e?void 0:e.config},Ma=function(){function e(){var t=this;Dt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Lt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Fa(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Na(JSON.stringify({alg:"none",type:"JWT"})),Na(JSON.stringify(a)),""].join(".")}function Ua(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ja(){var e,t=null===(e=Ra())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Va(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ba(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function qa(){var e=Ua();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function za(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Wa=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Vt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Vt(a),Ka.prototype.create),a}return Lt(n)}(Wt(Error)),Ka=function(){function e(t,n,r){Dt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Lt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ga(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Wa(n,a,t);return o}}]),e}();function Ga(e,t){return e.replace(Ha,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ha=/\{\$([^}]+)}/g;function Qa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ya(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if($a(u)&&$a(s)){if(!Ya(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function $a(e){return null!==e&&"object"===typeof e}function Ja(e){for(var t=[],n=function(){var e=Nt(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Xa(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Nt(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Za(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function eo(e,t){var n=new to(e,t);return n.subscribe.bind(n)}var to=function(){function e(t,n){var r=this;Dt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Lt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Gt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=no),void 0===r.error&&(r.error=no),void 0===r.complete&&(r.complete=no);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function no(){}function ro(e){return e&&e._delegate?e._delegate:e}var io=function(){function e(t,n,r){Dt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Lt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ao="[DEFAULT]",oo=function(){function e(t,n){Dt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Lt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ma;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch(s){}var t,n=Gt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Nt(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Pt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Pt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Gt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Nt(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(uA){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ao?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(uA){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao;return this.component?this.component.multipleInstances?e:ao:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var uo,so,co=function(){function e(t){Dt(this,e),this.name=t,this.providers=new Map}return Lt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new oo(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),lo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(so||(so={}));var fo={debug:so.DEBUG,verbose:so.VERBOSE,info:so.INFO,warn:so.WARN,error:so.ERROR,silent:so.SILENT},ho=so.INFO,po=(Ae(uo={},so.DEBUG,"log"),Ae(uo,so.VERBOSE,"log"),Ae(uo,so.INFO,"info"),Ae(uo,so.WARN,"warn"),Ae(uo,so.ERROR,"error"),uo),vo=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=po[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},yo=function(){function e(t){Dt(this,e),this.name=t,this._logLevel=ho,this._logHandler=vo,this._userLogHandler=null,lo.push(this)}return Lt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in so))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fo[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,so.DEBUG].concat(t)),this._logHandler.apply(this,[this,so.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,so.VERBOSE].concat(t)),this._logHandler.apply(this,[this,so.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,so.INFO].concat(t)),this._logHandler.apply(this,[this,so.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,so.WARN].concat(t)),this._logHandler.apply(this,[this,so.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,so.ERROR].concat(t)),this._logHandler.apply(this,[this,so.ERROR].concat(t))}}]),e}();var mo,go;var ko=new WeakMap,bo=new WeakMap,wo=new WeakMap,xo=new WeakMap,_o=new WeakMap;var Eo={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function So(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(go||(go=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Co(this),n),To(ko.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return To(e.apply(Co(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Co(this),t].concat(r));return wo.set(a,t.sort?t.sort():[t]),To(a)}}function Io(e){return"function"===typeof e?So(e):(e instanceof IDBTransaction&&function(e){if(!bo.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));bo.set(e,t)}}(e),t=e,(mo||(mo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Eo):e);var t}function To(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(To(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ko.set(t,e)})).catch((function(){})),_o.set(t,e),t}(e);if(xo.has(e))return xo.get(e);var t=Io(e);return t!==e&&(xo.set(e,t),_o.set(t,e)),t}var Co=function(e){return _o.get(e)};var Ao,No,Oo=["get","getKey","getAll","getAllKeys","count"],Po=["put","add","delete","clear"],Do=new Map;function Ro(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Do.get(t))return Do.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Po.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Oo.includes(n))){var a=function(){var e=fr(cr().mark((function e(t){var a,o,u,s,c,l,f=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Do.set(t,a),a}}}Eo=function(e){return Oe(Oe({},e),{},{get:function(t,n,r){return Ro(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ro(t,n)||e.has(t,n)}})}(Eo);var Lo=function(){function e(t){Dt(this,e),this.container=t}return Lt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Mo="@firebase/app",Fo="0.9.3",Uo=new yo("@firebase/app"),jo="[DEFAULT]",Vo=(Ae(Ao={},Mo,"fire-core"),Ae(Ao,"@firebase/app-compat","fire-core-compat"),Ae(Ao,"@firebase/analytics","fire-analytics"),Ae(Ao,"@firebase/analytics-compat","fire-analytics-compat"),Ae(Ao,"@firebase/app-check","fire-app-check"),Ae(Ao,"@firebase/app-check-compat","fire-app-check-compat"),Ae(Ao,"@firebase/auth","fire-auth"),Ae(Ao,"@firebase/auth-compat","fire-auth-compat"),Ae(Ao,"@firebase/database","fire-rtdb"),Ae(Ao,"@firebase/database-compat","fire-rtdb-compat"),Ae(Ao,"@firebase/functions","fire-fn"),Ae(Ao,"@firebase/functions-compat","fire-fn-compat"),Ae(Ao,"@firebase/installations","fire-iid"),Ae(Ao,"@firebase/installations-compat","fire-iid-compat"),Ae(Ao,"@firebase/messaging","fire-fcm"),Ae(Ao,"@firebase/messaging-compat","fire-fcm-compat"),Ae(Ao,"@firebase/performance","fire-perf"),Ae(Ao,"@firebase/performance-compat","fire-perf-compat"),Ae(Ao,"@firebase/remote-config","fire-rc"),Ae(Ao,"@firebase/remote-config-compat","fire-rc-compat"),Ae(Ao,"@firebase/storage","fire-gcs"),Ae(Ao,"@firebase/storage-compat","fire-gcs-compat"),Ae(Ao,"@firebase/firestore","fire-fst"),Ae(Ao,"@firebase/firestore-compat","fire-fst-compat"),Ae(Ao,"fire-js","fire-js"),Ae(Ao,"firebase","fire-js-all"),Ao),Bo=new Map,qo=new Map;function zo(e,t){try{e.container.addComponent(t)}catch(n){Uo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Wo(e,t){e.container.addOrOverwriteComponent(t)}function Ko(e){var t=e.name;if(qo.has(t))return Uo.debug("There were multiple attempts to register component ".concat(t,".")),!1;qo.set(t,e);var n,r=Gt(Bo.values());try{for(r.s();!(n=r.n()).done;){zo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Go(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ho(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jo;Go(e,t).clearInstance(n)}function Qo(){qo.clear()}var Yo=(Ae(No={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ae(No,"bad-app-name","Illegal App name: '{$appName}"),Ae(No,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ae(No,"app-deleted","Firebase App named '{$appName}' already deleted"),Ae(No,"no-options","Need to provide options, when not being deployed to hosting via source."),Ae(No,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ae(No,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ae(No,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ae(No,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ae(No,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ae(No,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),No),$o=new Ka("app","Firebase",Yo),Jo=function(){function e(t,n,r){var i=this;Dt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",(function(){return i}),"PUBLIC"))}return Lt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}]),e}(),Xo="9.17.1";function Zo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:jo,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw $o.create("bad-app-name",{appName:String(a)});if(n||(n=La()),!n)throw $o.create("no-options");var o=Bo.get(a);if(o){if(Ya(n,o.options)&&Ya(i,o.config))return o;throw $o.create("duplicate-app",{appName:a})}var u,s=new co(a),c=Gt(qo.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Jo(n,i,s);return Bo.set(a,f),f}function eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jo,t=Bo.get(e);if(!t&&e===jo)return Zo();if(!t)throw $o.create("no-app",{appName:e});return t}function tu(){return Array.from(Bo.values())}function nu(e){return ru.apply(this,arguments)}function ru(){return(ru=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Bo.has(n)){e.next=6;break}return Bo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t,n){var r,i=null!==(r=Vo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Uo.warn(u.join(" "))}Ko(new io("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function au(e,t){if(null!==e&&"function"!==typeof e)throw $o.create("invalid-log-argument");!function(e,t){var n,r=Gt(lo);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=fo[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:so[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ou(e){var t;t=e,lo.forEach((function(e){e.setLogLevel(t)}))}var uu="firebase-heartbeat-store",su=null;function cu(){return su||(su=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=To(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(To(u.result),e.oldVersion,e.newVersion,To(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(uu)}}).catch((function(e){throw $o.create("idb-open",{originalErrorMessage:e.message})}))),su}function lu(e){return fu.apply(this,arguments)}function fu(){return fu=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cu();case 3:return n=e.sent,e.abrupt("return",n.transaction(uu).objectStore(uu).get(pu(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Wa?Uo.warn(e.t0.message):(r=$o.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Uo.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),fu.apply(this,arguments)}function hu(e,t){return du.apply(this,arguments)}function du(){return du=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cu();case 3:return r=e.sent,i=r.transaction(uu,"readwrite"),a=i.objectStore(uu),e.next=8,a.put(n,pu(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Wa?Uo.warn(e.t0.message):(o=$o.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Uo.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),du.apply(this,arguments)}function pu(e){return"".concat(e.name,"!").concat(e.options.appId)}var vu=function(){function e(t){var n=this;Dt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new bu(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Lt(e,[{key:"triggerHeartbeat",value:function(){var e=fr(cr().mark((function e(){var t,n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=yu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=yu(),n=mu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Na(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function yu(){return(new Date).toISOString().substring(0,10)}function mu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Gt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),wu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),wu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var gu,ku,bu=function(){function e(t){Dt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Lt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(za()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,lu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",hu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",hu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Pt(r.heartbeats),Pt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function wu(e){return Na(JSON.stringify({version:2,heartbeats:e})).length}gu="",Ko(new io("platform-logger",(function(e){return new Lo(e)}),"PRIVATE")),Ko(new io("heartbeat",(function(e){return new vu(e)}),"PRIVATE")),iu(Mo,Fo,gu),iu(Mo,Fo,"esm2017"),iu("fire-js","");var xu=function(){function e(t,n){var r=this;Dt(this,e),this._delegate=t,this.firebase=n,zo(t,new io("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Lt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),nu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){zo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Wo(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),_u=(Ae(ku={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ae(ku,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ku),Eu=new Ka("app-compat","Firebase",_u);var Su=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Zo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Qa(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:iu,setLogLevel:ou,onLog:au,apps:null,SDK_VERSION:Xo,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ko(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Eu.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Pa(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Qa(n,e=e||jo))throw Eu.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(xu);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Pa(n,e)},createSubscribe:eo,ErrorFactory:Ka,deepExtend:Pa}),n}(),Iu=new yo("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Iu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Tu=self.firebase.SDK_VERSION;Tu&&Tu.indexOf("LITE")>=0&&Iu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Cu=Su;!function(e){iu("@firebase/app-compat","0.2.3",e)}();function Au(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ut(e)););return e}function Nu(){return Nu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Au(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Nu.apply(this,arguments)}Cu.registerVersion("firebase","9.17.1","app-compat");function Ou(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Pu;Object.create;var Du="facebook.com",Ru="github.com",Lu="google.com",Mu="password",Fu="twitter.com",Uu="EMAIL_SIGNIN",ju="PASSWORD_RESET",Vu="RECOVER_EMAIL",Bu="REVERT_SECOND_FACTOR_ADDITION",qu="VERIFY_AND_CHANGE_EMAIL",zu="VERIFY_EMAIL";function Wu(){return Ae({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ku=function(){var e;return Ae(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ae(e,"argument-error",""),Ae(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ae(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ae(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ae(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ae(e,"cordova-not-ready","Cordova framework is not ready."),Ae(e,"cors-unsupported","This browser is not supported."),Ae(e,"credential-already-in-use","This credential is already associated with a different user account."),Ae(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ae(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ae(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ae(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ae(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ae(e,"email-already-in-use","The email address is already in use by another account."),Ae(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ae(e,"expired-action-code","The action code has expired."),Ae(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ae(e,"internal-error","An internal AuthError has occurred."),Ae(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ae(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ae(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ae(e,"invalid-auth-event","An internal AuthError has occurred."),Ae(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ae(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ae(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ae(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ae(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ae(e,"invalid-email","The email address is badly formatted."),Ae(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ae(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ae(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ae(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ae(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ae(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ae(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ae(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ae(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ae(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ae(e,"wrong-password","The password is invalid or the user does not have a password."),Ae(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ae(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ae(e,"invalid-provider-id","The specified provider ID is invalid."),Ae(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ae(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ae(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ae(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ae(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ae(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ae(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ae(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ae(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ae(e,"missing-continue-uri","A continue URL must be provided in the request."),Ae(e,"missing-iframe-start","An internal AuthError has occurred."),Ae(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ae(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ae(e,"missing-multi-factor-info","No second factor identifier is provided."),Ae(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ae(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ae(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ae(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ae(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ae(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ae(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ae(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ae(e,"no-auth-event","An internal AuthError has occurred."),Ae(e,"no-such-provider","User was not linked to an account with the given provider."),Ae(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ae(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ae(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ae(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ae(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ae(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ae(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ae(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ae(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ae(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ae(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ae(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ae(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ae(e,"timeout","The operation has timed out."),Ae(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ae(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ae(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ae(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ae(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ae(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ae(e,"unverified-email","The operation requires a verified email."),Ae(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ae(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ae(e,"user-disabled","The user account has been disabled by an administrator."),Ae(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ae(e,"user-signed-out",""),Ae(e,"weak-password","The password must be 6 characters long or more."),Ae(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ae(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Gu=Wu,Hu=new Ka("auth","Firebase",Wu()),Qu=new yo("@firebase/auth");function Yu(e){if(Qu.logLevel<=so.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qu.error.apply(Qu,["Auth (".concat(Xo,"): ").concat(e)].concat(n))}}function $u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw es.apply(void 0,[e].concat(n))}function Ju(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return es.apply(void 0,[e].concat(n))}function Xu(e,t,n){var r=Object.assign(Object.assign({},Gu()),Ae({},t,n));return new Ka("auth","Firebase",r).create(t,{appName:e.name})}function Zu(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&$u(e,"argument-error"),Xu(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function es(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Pt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Pt(o)))}return Hu.create.apply(Hu,[e].concat(n))}function ts(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw es.apply(void 0,[t].concat(r))}}function ns(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Yu(t),new Error(t)}function rs(e,t){e||ns(t)}var is=new Map;function as(e){rs(e instanceof Function,"Expected a class definition");var t=is.get(e);return t?(rs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,is.set(e,t),t)}function os(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function us(){return"http:"===ss()||"https:"===ss()}function ss(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var cs=function(){function e(t,n){Dt(this,e),this.shortDelay=t,this.longDelay=n,rs(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ua())||Ba()}return Lt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(us()||Va()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ls(e,t){rs(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var fs=function(){function e(){Dt(this,e)}return Lt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),hs=(Ae(Pu={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ae(Pu,"MISSING_CUSTOM_TOKEN","internal-error"),Ae(Pu,"INVALID_IDENTIFIER","invalid-email"),Ae(Pu,"MISSING_CONTINUE_URI","internal-error"),Ae(Pu,"INVALID_PASSWORD","wrong-password"),Ae(Pu,"MISSING_PASSWORD","internal-error"),Ae(Pu,"EMAIL_EXISTS","email-already-in-use"),Ae(Pu,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ae(Pu,"INVALID_IDP_RESPONSE","invalid-credential"),Ae(Pu,"INVALID_PENDING_TOKEN","invalid-credential"),Ae(Pu,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ae(Pu,"MISSING_REQ_TYPE","internal-error"),Ae(Pu,"EMAIL_NOT_FOUND","user-not-found"),Ae(Pu,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ae(Pu,"EXPIRED_OOB_CODE","expired-action-code"),Ae(Pu,"INVALID_OOB_CODE","invalid-action-code"),Ae(Pu,"MISSING_OOB_CODE","internal-error"),Ae(Pu,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ae(Pu,"INVALID_ID_TOKEN","invalid-user-token"),Ae(Pu,"TOKEN_EXPIRED","user-token-expired"),Ae(Pu,"USER_NOT_FOUND","user-token-expired"),Ae(Pu,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ae(Pu,"INVALID_CODE","invalid-verification-code"),Ae(Pu,"INVALID_SESSION_INFO","invalid-verification-id"),Ae(Pu,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ae(Pu,"MISSING_SESSION_INFO","missing-verification-id"),Ae(Pu,"SESSION_EXPIRED","code-expired"),Ae(Pu,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ae(Pu,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ae(Pu,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ae(Pu,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ae(Pu,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ae(Pu,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ae(Pu,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ae(Pu,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ae(Pu,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ae(Pu,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ae(Pu,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Pu),ds=new cs(3e4,6e4);function ps(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function vs(e,t,n,r){return ys.apply(this,arguments)}function ys(){return ys=fr(cr().mark((function e(t,n,r,i){var a,o=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ms(t,a,fr(cr().mark((function e(){var a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ja(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",fs.fetch()(ws(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function ms(e,t,n){return gs.apply(this,arguments)}function gs(){return gs=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},hs),n),e.prev=2,a=new xs(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw _s(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Nt(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw _s(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw _s(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw _s(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Xu(t,d,h);case 34:$u(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Wa)){e.next=41;break}throw e.t0;case 41:$u(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),gs.apply(this,arguments)}function ks(e,t,n,r){return bs.apply(this,arguments)}function bs(){return bs=fr(cr().mark((function e(t,n,r,i){var a,o,u=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,vs(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&$u(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ls(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var xs=function(){function e(t){var n=this;Dt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ju(n.auth,"network-request-failed"))}),ds.get())}))}return Lt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function _s(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ju(e,t,r);return i.customData._tokenResponse=n,i}function Es(e,t){return Ss.apply(this,arguments)}function Ss(){return Ss=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Is(e,t){return Ts.apply(this,arguments)}function Ts(){return Ts=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Cs(e,t){return As.apply(this,arguments)}function As(){return As=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Ns(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Os(){return Os=fr(cr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ro(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ts((a=Ds(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ns(Ps(a.auth_time)),issuedAtTime:Ns(Ps(a.iat)),expirationTime:Ns(Ps(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function Ps(e){return 1e3*Number(e)}function Ds(e){var t=Nt(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{var a=Oa(r);return a?JSON.parse(a):(Yu("Failed to decode base64 JWT payload"),null)}catch(o){return Yu("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Rs(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=fr(cr().mark((function e(t,n){var r=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Wa&&Ms(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ls.apply(this,arguments)}function Ms(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Fs=function(){function e(t){Dt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Lt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Us=function(){function e(t,n){Dt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Lt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ns(this.lastLoginAt),this.creationTime=Ns(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function js(e){return Vs.apply(this,arguments)}function Vs(){return Vs=fr(cr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Rs(t,Cs(r,{idToken:i}));case 6:ts(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?zs(o.providerUserInfo):[],s=qs(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Us(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}function Bs(){return(Bs=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ro(t),e.next=3,js(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qs(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Pt(n),Pt(t))}function zs(e){return e.map((function(e){var t=e.providerId,n=Ou(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ws(e,t){return Ks.apply(this,arguments)}function Ks(){return Ks=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ms(t,{},fr(cr().mark((function e(){var r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ja({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ws(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",fs.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}var Gs=function(){function e(){Dt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Lt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ts(e.idToken,"internal-error"),ts("undefined"!==typeof e.idToken,"internal-error"),ts("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ds(e);return ts(t,"internal-error"),ts("undefined"!==typeof t.exp,"internal-error"),ts("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=fr(cr().mark((function e(t){var n,r=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ts(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ns("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ts("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ts("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ts("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Hs(e,t){ts("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Qs=function(){function e(t){Dt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ou(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Pt(a.providerData):[],this.metadata=new Us(a.createdAt||void 0,a.lastLoginAt||void 0)}return Lt(e,[{key:"getIdToken",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rs(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ts(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Os.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Bs.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ts(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ts(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=fr(cr().mark((function e(t){var n,r,i=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,js(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Rs(this,Es(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ts(k&&_,t,"internal-error");var E=Gs.fromJSON(this.name,_);ts("string"===typeof k,t,"internal-error"),Hs(f,t.name),Hs(h,t.name),ts("boolean"===typeof b,t,"internal-error"),ts("boolean"===typeof w,t,"internal-error"),Hs(d,t.name),Hs(p,t.name),Hs(v,t.name),Hs(y,t.name),Hs(m,t.name),Hs(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=fr(cr().mark((function t(n,r){var i,a,o,u=arguments;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Gs).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,js(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ys=function(){function e(){Dt(this,e),this.type="NONE",this.storage={}}return Lt(e,[{key:"_isAvailable",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ys.type="NONE";var $s=Ys;function Js(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Xs=function(){function e(t,n,r){Dt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Js(this.userKey,a.apiKey,o),this.fullPersistenceKey=Js("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Lt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Qs._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=fr(cr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(as($s),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||as($s),u=Js(i,n.config.apiKey,n.name),s=null,c=Gt(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Qs._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Zs(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ec(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ac(t))return"Blackberry";if(oc(t))return"Webos";if(tc(t))return"Safari";if((t.includes("chrome/")||nc(t))&&!t.includes("edge/"))return"Chrome";if(ic(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ec(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return/firefox\//i.test(e)}function tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return/crios\//i.test(e)}function rc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return/iemobile/i.test(e)}function ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return/android/i.test(e)}function ac(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return/blackberry/i.test(e)}function oc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return/webos/i.test(e)}function uc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function sc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return uc(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function cc(){return qa()&&10===document.documentMode}function lc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return uc(e)||ic(e)||oc(e)||ac(e)||/windows phone/i.test(e)||rc(e)}function fc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Zs(Ua());break;case"Worker":t="".concat(Zs(Ua()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Xo,"/").concat(r)}var hc=function(){function e(t){Dt(this,e),this.auth=t,this.queue=[]}return Lt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=fr(cr().mark((function e(t){var n,r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Gt(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Gt(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(W){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),dc=function(){function e(t,n,r){Dt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vc(this),this.idTokenSubscription=new vc(this),this.beforeStateQueue=new hc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hu,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Lt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=as(t)),this._initializationPromise=this.queue(fr(cr().mark((function r(){var i,a;return cr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Xs.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=fr(cr().mark((function e(t){var n,r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ts(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,js(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ro(t):null)&&ts(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=fr(cr().mark((function e(t){var n,r=this,i=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ts(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(fr(cr().mark((function n(){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(as(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ka("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ts(n=t&&as(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Xs.create(this,[as(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=fr(cr().mark((function e(t){var n=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ts(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ts(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=fr(cr().mark((function e(){var t,n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ae({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pc(e){return ro(e)}var vc=function(){function e(t){var n=this;Dt(this,e),this.auth=t,this.observer=null,this.addObserver=eo((function(e){return n.observer=e}))}return Lt(e,[{key:"next",get:function(){return ts(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function yc(e,t,n){var r=pc(e);ts(r._canInitEmulator,r,"emulator-config-failed"),ts(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=mc(t),o=function(e){var t=mc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:gc(r.substr(a.length+1))}}var o=Nt(r.split(":"),2);return{host:o[0],port:gc(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function mc(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function gc(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var kc=function(){function e(t,n){Dt(this,e),this.providerId=t,this.signInMethod=n}return Lt(e,[{key:"toJSON",value:function(){return ns("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ns("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ns("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ns("not implemented")}}]),e}();function bc(e,t){return wc.apply(this,arguments)}function wc(){return wc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:resetPassword",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(e,t){return _c.apply(this,arguments)}function _c(){return _c=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Ec(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:update",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ic(e,t){return Tc.apply(this,arguments)}function Tc(){return Tc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithPassword",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Cc(e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:sendOobCode",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Nc(e,t){return Oc.apply(this,arguments)}function Oc(){return Oc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cc(t,n));case 1:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}function Pc(e,t){return Dc.apply(this,arguments)}function Dc(){return Dc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cc(t,n));case 1:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Rc(e,t){return Lc.apply(this,arguments)}function Lc(){return Lc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cc(t,n));case 1:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(e,t){return Fc.apply(this,arguments)}function Fc(){return Fc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cc(t,n));case 1:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function Uc(e,t){return jc.apply(this,arguments)}function jc(){return jc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Vc(e,t){return Bc.apply(this,arguments)}function Bc(){return Bc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}var qc=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Dt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Lt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ic(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Uc(t,{email:this._email,oobCode:this._password}));case 5:$u(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",xc(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Vc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:$u(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(kc);function zc(e,t){return Wc.apply(this,arguments)}function Wc(){return Wc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithIdp",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}var Kc=function(e){Ft(n,e);var t=qt(n);function n(){var e;return Dt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Lt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return zc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,zc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,zc(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ja(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$u("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ou(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(kc);function Gc(e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:sendVerificationCode",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Qc(){return Qc=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithPhoneNumber",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function Yc(){return Yc=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ks(t,"POST","/v1/accounts:signInWithPhoneNumber",ps(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw _s(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}var $c=Ae({},"USER_NOT_FOUND","user-not-found");function Jc(){return Jc=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithPhoneNumber",ps(t,r),$c));case 2:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}var Xc=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Qc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Yc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Jc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(kc);var Zc=function(){function e(t){var n,r,i,a,o,u;Dt(this,e);var s=Xa(Za(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ts(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Lt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Xa(Za(e)).link,n=t?Xa(Za(t)).deep_link_id:null,r=Xa(Za(e)).deep_link_id;return(r?Xa(Za(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(uA){return null}}}]),e}();var el=function(){function e(){Dt(this,e),this.providerId=e.PROVIDER_ID}return Lt(e,null,[{key:"credential",value:function(e,t){return qc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Zc.parseLink(t);return ts(n,"argument-error"),qc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();el.PROVIDER_ID="password",el.EMAIL_PASSWORD_SIGN_IN_METHOD="password",el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var tl=function(){function e(t){Dt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Lt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),nl=function(e){Ft(n,e);var t=qt(n);function n(){var e;return Dt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Lt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Pt(this.scopes)}}]),n}(tl),rl=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ts(e.idToken||e.accessToken,"argument-error"),Kc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ts("providerId"in t&&"signInMethod"in t,"argument-error"),Kc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(nl),il=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.call(this,"facebook.com")}return Lt(n,null,[{key:"credential",value:function(e){return Kc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(uA){return null}}}]),n}(nl);il.FACEBOOK_SIGN_IN_METHOD="facebook.com",il.PROVIDER_ID="facebook.com";var al=function(e){Ft(n,e);var t=qt(n);function n(){var e;return Dt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Lt(n,null,[{key:"credential",value:function(e,t){return Kc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(uA){return null}}}]),n}(nl);al.GOOGLE_SIGN_IN_METHOD="google.com",al.PROVIDER_ID="google.com";var ol=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.call(this,"github.com")}return Lt(n,null,[{key:"credential",value:function(e){return Kc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(uA){return null}}}]),n}(nl);ol.GITHUB_SIGN_IN_METHOD="github.com",ol.PROVIDER_ID="github.com";var ul=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return zc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,zc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,zc(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(kc),sl=function(e){Ft(n,e);var t=qt(n);function n(e){return Dt(this,n),ts(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Lt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ul.fromJSON(e);return ts(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ul._create(r,n)}catch(i){return null}}}]),n}(tl),cl=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.call(this,"twitter.com")}return Lt(n,null,[{key:"credential",value:function(e,t){return Kc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(uA){return null}}}]),n}(nl);function ll(e,t){return fl.apply(this,arguments)}function fl(){return fl=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signUp",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}cl.TWITTER_SIGN_IN_METHOD="twitter.com",cl.PROVIDER_ID="twitter.com";var hl=function(){function e(t){Dt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Lt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=fr(cr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Qs._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=dl(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=fr(cr().mark((function t(n,r,i){var a;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=dl(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function dl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function pl(){return pl=fr(cr().mark((function e(t){var n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pc(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new hl({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ll(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,hl._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),pl.apply(this,arguments)}var vl=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a){var o,u;return Dt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Vt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Lt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Wa);function yl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw vl._fromErrorAndOperation(e,n,t,r);throw n}))}function ml(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function gl(e,t){return kl.apply(this,arguments)}function kl(){return kl=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ro(t),e.next=3,xl(!0,r,n);case 3:return e.t0=Is,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ml(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}function bl(e,t){return wl.apply(this,arguments)}function wl(){return wl=fr(cr().mark((function e(t,n){var r,i,a=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Rs,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",hl._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),wl.apply(this,arguments)}function xl(e,t,n){return _l.apply(this,arguments)}function _l(){return(_l=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,js(n);case 2:i=ml(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ts(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function El(e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=fr(cr().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Rs(t,yl(i,a,n,t),r);case 6:return ts((o=e.sent).idToken,i,"internal-error"),ts(u=Ds(o.idToken),i,"internal-error"),s=u.sub,ts(t.uid===s,i,"user-mismatch"),e.abrupt("return",hl._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&$u(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Sl.apply(this,arguments)}function Il(e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=fr(cr().mark((function e(t,n){var r,i,a,o,u=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,yl(t,i,n);case 4:return a=e.sent,e.next=7,hl._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Cl(e,t){return Al.apply(this,arguments)}function Al(){return Al=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Il(pc(t),n));case 1:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}function Nl(e,t){return Ol.apply(this,arguments)}function Ol(){return(Ol=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ro(t),e.next=3,xl(!1,r,n.providerId);case 3:return e.abrupt("return",bl(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pl(e,t){return Dl.apply(this,arguments)}function Dl(){return(Dl=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(ro(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rl(e,t){return Ll.apply(this,arguments)}function Ll(){return Ll=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithCustomToken",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Ml(){return Ml=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pc(t),e.next=3,Rl(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,hl._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}var Fl=function(){function e(t,n){Dt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Lt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ul._fromServerResponse(e,t):$u(e,"internal-error")}}]),e}(),Ul=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Lt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Fl);function jl(e,t,n){var r;ts((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ts("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ts(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ts(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Vl(){return Vl=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ro(t),a={requestType:"PASSWORD_RESET",email:n},r&&jl(i,a,r),e.next=5,Pc(i,a);case 5:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}function Bl(){return Bl=fr(cr().mark((function e(t,n,r){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bc(ro(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Bl.apply(this,arguments)}function ql(){return ql=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ec(ro(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}function zl(e,t){return Wl.apply(this,arguments)}function Wl(){return Wl=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ro(t),e.next=3,bc(r,{oobCode:n});case 3:i=e.sent,ts(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ts(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ts(i.mfaInfo,r,"internal-error");case 13:ts(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Fl._fromServerResponse(pc(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}function Kl(){return Kl=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zl(ro(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Gl(e,t,n){return Hl.apply(this,arguments)}function Hl(){return Hl=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pc(t),e.next=3,ll(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,hl._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Ql(){return Ql=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ro(t),a={requestType:"EMAIL_SIGNIN",email:n},ts(r.handleCodeInApp,i,"argument-error"),r&&jl(i,a,r),e.next=6,Rc(i,a);case 6:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function Yl(){return Yl=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ro(t),ts((a=el.credentialWithLink(n,r||os()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Cl(i,a));case 4:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function $l(e,t){return Jl.apply(this,arguments)}function Jl(){return Jl=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:createAuthUri",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function Xl(){return Xl=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=us()?os():"http://localhost",i={identifier:n,continueUri:r},e.next=4,$l(ro(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Zl(){return(Zl=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ro(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&jl(r.auth,a,n),e.next=8,Nc(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ef(){return(ef=fr(cr().mark((function e(t,n,r){var i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ro(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&jl(i.auth,o,r),e.next=8,Mc(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(e,t){return nf.apply(this,arguments)}function nf(){return nf=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),nf.apply(this,arguments)}function rf(){return(rf=fr(cr().mark((function e(t,n){var r,i,a,o,u,s,c;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ro(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Rs(a,tf(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(e,t,n){return of.apply(this,arguments)}function of(){return of=fr(cr().mark((function e(t,n,r){var i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Rs(t,xc(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}var uf=Lt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Dt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),sf=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a){var o;return Dt(this,n),(o=t.call(this,e,r,i)).username=a,o}return Lt(n)}(uf),cf=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"facebook.com",r)}return Lt(n)}(uf),lf=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Lt(n)}(sf),ff=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"google.com",r)}return Lt(n)}(uf),hf=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){return Dt(this,n),t.call(this,e,"twitter.com",r,i)}return Lt(n)}(sf);function df(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ds(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new uf(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new cf(a,i);case"github.com":return new lf(a,i);case"google.com":return new ff(a,i);case"twitter.com":return new hf(a,i,e.screenName||null);case"custom":case"anonymous":return new uf(a,null);default:return new uf(a,r,i)}}(n)}var pf=function(){function e(t,n,r){Dt(this,e),this.type=t,this.credential=n,this.auth=r}return Lt(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ae({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),vf=function(){function e(t,n,r){Dt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Lt(e,[{key:"resolveSignIn",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=pc(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Fl._fromServerResponse(r,e)}));ts(i.mfaPendingCredential,r,"internal-error");var o=pf._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=fr(cr().mark((function e(t){var a,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,hl._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ts(n.user,r,"internal-error"),e.abrupt("return",hl._forOperation(n.user,n.operationType,u));case 17:$u(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function yf(e,t){return vs(e,"POST","/v2/accounts/mfaEnrollment:start",ps(e,t))}function mf(e,t){return vs(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ps(e,t))}var gf=function(){function e(t){var n=this;Dt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Fl._fromServerResponse(t.auth,e)})))}))}return Lt(e,[{key:"getSession",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=pf,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Rs(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Rs(this.user,mf(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),kf=new WeakMap;var bf="__sak",wf=function(){function e(t,n){Dt(this,e),this.storageRetriever=t,this.type=n}return Lt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch(uA){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var xf=function(e){Ft(n,e);var t=qt(n);function n(){var e;return Dt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ua();return tc(e)||uc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=lc(),e._shouldAllowMigration=!0,e}return Lt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);cc()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=fr(cr().mark((function e(t,r){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(Ut(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fr(cr().mark((function e(t){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(Ut(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(Ut(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(wf);xf.type="LOCAL";var _f=xf,Ef=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Lt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(wf);Ef.type="SESSION";var Sf=Ef;function If(e){return Promise.all(e.map(function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Tf=function(){function e(t){Dt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Lt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=fr(cr().mark((function e(t){var n,r,i,a,o,u,s,c;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,If(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Cf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Tf.receivers=[];var Af=function(){function e(t){Dt(this,e),this.target=t,this.handlers=new Set}return Lt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=fr(cr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Cf("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Nf(){return window}function Of(){return"undefined"!==typeof Nf().WorkerGlobalScope&&"function"===typeof Nf().importScripts}function Pf(){return Df.apply(this,arguments)}function Df(){return(Df=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Rf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Lf="firebaseLocalStorageDb",Mf="firebaseLocalStorage",Ff="fbase_key",Uf=function(){function e(t){Dt(this,e),this.request=t}return Lt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function jf(e,t){return e.transaction([Mf],t?"readwrite":"readonly").objectStore(Mf)}function Vf(){var e=indexedDB.deleteDatabase(Lf);return new Uf(e).toPromise()}function Bf(){var e=indexedDB.open(Lf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Mf,{keyPath:Ff})}catch(r){n(r)}})),e.addEventListener("success",fr(cr().mark((function n(){var r;return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Mf)){n.next=12;break}return r.close(),n.next=5,Vf();case 5:return n.t0=t,n.next=8,Bf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function qf(e,t,n){return zf.apply(this,arguments)}function zf(){return zf=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jf(t,!0).put((Ae(i={},Ff,n),Ae(i,"value",r),i)),e.abrupt("return",new Uf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function Wf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jf(t,!1).get(n),e.next=3,new Uf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Gf(e,t){var n=jf(e,!0).delete(t);return new Uf(n).toPromise()}var Hf=function(){function e(){Dt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Lt(e,[{key:"_openDb",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Bf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=fr(cr().mark((function e(){var t=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Tf._getInstance(Of()?self:null),this.receiver._subscribe("keyChanged",function(){var e=fr(cr().mark((function e(n,r){var i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=fr(cr().mark((function e(){var t,n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Af(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Rf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Bf();case 5:return t=e.sent,e.next=8,qf(t,bf,"1");case 8:return e.next=10,Gf(t,bf);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=fr(cr().mark((function e(t,n){var r=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return qf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Wf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fr(cr().mark((function e(t){var n=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Gf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=jf(e,!1).getAll();return new Uf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Gt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Hf.type="LOCAL";var Qf=Hf;function Yf(e,t){return vs(e,"POST","/v2/accounts/mfaSignIn:start",ps(e,t))}function $f(e){return Jf.apply(this,arguments)}function Jf(){return Jf=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Xf(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ju("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Zf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var eh=1e12,th=function(){function e(t){Dt(this,e),this.auth=t,this.counter=eh,this._widgets=new Map}return Lt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new nh(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||eh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||eh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||eh,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),nh=function(){function e(t,n,r){var i=this;Dt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ts(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Lt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var rh=Zf("rcb"),ih=new cs(3e4,6e4),ah="https://www.google.com/recaptcha/api.js?",oh=function(){function e(){var t;Dt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Nf().grecaptcha)||void 0===t?void 0:t.render)}return Lt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ts(uh(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Nf().grecaptcha):new Promise((function(r,i){var a=Nf().setTimeout((function(){i(Ju(e,"network-request-failed"))}),ih.get());Nf()[rh]=function(){Nf().clearTimeout(a),delete Nf()[rh];var o=Nf().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ju(e,"internal-error"))},Xf("".concat(ah,"?").concat(Ja({onload:rh,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ju(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Nf().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function uh(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var sh=function(){function e(){Dt(this,e)}return Lt(e,[{key:"load",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new th(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ch="recaptcha",lh={theme:"light",type:"image"},fh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},lh),r=arguments.length>2?arguments[2]:void 0;Dt(this,e),this.parameters=n,this.type=ch,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pc(r),this.isInvisible="invisible"===this.parameters.size,ts("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ts(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sh:new oh,this.validateStartingState()}return Lt(e,[{key:"verify",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ts(!this.parameters.sitekey,this.auth,"argument-error"),ts(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ts("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Nf()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ts(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=fr(cr().mark((function e(){var t,n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ts(us()&&!Of(),this.auth,"internal-error"),e.next=3,hh();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,$f(this.auth);case 8:ts(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ts(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function hh(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var dh=function(){function e(t,n){Dt(this,e),this.verificationId=t,this.onConfirmation=n}return Lt(e,[{key:"confirm",value:function(e){var t=Xc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ph(){return ph=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pc(t),e.next=3,gh(i,n,ro(r));case 3:return a=e.sent,e.abrupt("return",new dh(a,(function(e){return Cl(i,e)})));case 5:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}function vh(e,t,n){return yh.apply(this,arguments)}function yh(){return(yh=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ro(t),e.next=3,xl(!1,i,"phone");case 3:return e.next=5,gh(i.auth,n,ro(r));case 5:return a=e.sent,e.abrupt("return",new dh(a,(function(e){return Nl(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(){return(mh=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ro(t),e.next=3,gh(i.auth,n,ro(r));case 3:return a=e.sent,e.abrupt("return",new dh(a,(function(e){return Pl(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gh(e,t,n){return kh.apply(this,arguments)}function kh(){return kh=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ts("string"===typeof a,t,"argument-error"),ts(r.type===ch,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ts("enroll"===u.type,t,"internal-error"),e.next=13,yf(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ts("signin"===u.type,t,"internal-error"),ts(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Yf(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Gc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),kh.apply(this,arguments)}function bh(){return(bh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bl(ro(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wh=function(){function e(t){Dt(this,e),this.providerId=e.PROVIDER_ID,this.auth=pc(t)}return Lt(e,[{key:"verifyPhoneNumber",value:function(e,t){return gh(this.auth,e,ro(t))}}],[{key:"credential",value:function(e,t){return Xc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Xc._fromTokenResponse(n,r):null}}]),e}();function xh(e,t){return t?as(t):(ts(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wh.PROVIDER_ID="phone",wh.PHONE_SIGN_IN_METHOD="phone";var _h=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return zc(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return zc(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return zc(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(kc);function Eh(e){return Il(e.auth,new _h(e),e.bypassAuthState)}function Sh(e){var t=e.auth,n=e.user;return ts(n,t,"internal-error"),El(n,new _h(e),e.bypassAuthState)}function Ih(e){return Th.apply(this,arguments)}function Th(){return Th=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ts(r=t.user,n,"internal-error"),e.abrupt("return",bl(r,new _h(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Th.apply(this,arguments)}var Ch=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Dt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Lt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=fr(cr().mark((function t(n,r){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=fr(cr().mark((function e(t){var n,r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Eh;case"linkViaPopup":case"linkViaRedirect":return Ih;case"reauthViaPopup":case"reauthViaRedirect":return Sh;default:$u(this.auth,"internal-error")}}},{key:"resolve",value:function(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ah=new cs(2e3,1e4);function Nh(e,t,n){return Oh.apply(this,arguments)}function Oh(){return Oh=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pc(t),Zu(t,n,tl),a=xh(i,r),o=new Lh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}function Ph(){return(Ph=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zu((i=ro(t)).auth,n,tl),a=xh(i.auth,r),o=new Lh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dh(e,t,n){return Rh.apply(this,arguments)}function Rh(){return(Rh=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zu((i=ro(t)).auth,n,tl),a=xh(i.auth,r),o=new Lh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lh=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a,o){var u;return Dt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Vt(u),u}return Lt(n,[{key:"executeNotNull",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ts(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=fr(cr().mark((function e(){var t,n=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rs(1===this.filter.length,"Popup operations only handle one event"),t=Cf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ju(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ju(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ju(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ah.get())}()}}]),n}(Ch);Lh.currentPopupAction=null;var Mh=new Map,Fh=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Dt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Lt(n,[{key:"execute",value:function(){var e=fr(cr().mark((function e(){var t,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Mh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Uh(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Nu(Ut(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Mh.set(this.auth._key(),t);case 21:return this.bypassAuthState||Mh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=fr(cr().mark((function e(t){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Nu(Ut(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Nu(Ut(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ch);function Uh(e,t){return jh.apply(this,arguments)}function jh(){return jh=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wh(n),i=zh(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function Vh(e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zh(t)._set(Wh(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Bh.apply(this,arguments)}function qh(e,t){Mh.set(e._key(),t)}function zh(e){return as(e._redirectPersistence)}function Wh(e){return Js("pendingRedirect",e.config.apiKey,e.name)}function Kh(e,t,n){return function(e,t,n){return Gh.apply(this,arguments)}(e,t,n)}function Gh(){return Gh=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pc(t),Zu(t,n,tl),e.next=4,i._initializationPromise;case 4:return a=xh(i,r),e.next=7,Vh(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Gh.apply(this,arguments)}function Hh(e,t,n){return function(e,t,n){return Qh.apply(this,arguments)}(e,t,n)}function Qh(){return(Qh=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zu((i=ro(t)).auth,n,tl),e.next=4,i.auth._initializationPromise;case 4:return a=xh(i.auth,r),e.next=7,Vh(a,i.auth);case 7:return e.next=9,td(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yh(e,t,n){return function(e,t,n){return $h.apply(this,arguments)}(e,t,n)}function $h(){return($h=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zu((i=ro(t)).auth,n,tl),e.next=4,i.auth._initializationPromise;case 4:return a=xh(i.auth,r),e.next=7,xl(!1,i,n.providerId);case 7:return e.next=9,Vh(a,i.auth);case 9:return e.next=11,td(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jh(e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pc(t)._initializationPromise;case 2:return e.abrupt("return",Zh(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function Zh(e,t){return ed.apply(this,arguments)}function ed(){return ed=fr(cr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=pc(t),a=xh(i,n),o=new Fh(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),ed.apply(this,arguments)}function td(e){return nd.apply(this,arguments)}function nd(){return(nd=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cf("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rd=function(){function e(t){Dt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Lt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ad(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ad(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ju(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(id(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(id(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function id(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ad(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function od(e){return ud.apply(this,arguments)}function ud(){return ud=fr(cr().mark((function e(t){var n,r=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",vs(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}var sd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cd=/^https?/;function ld(){return ld=fr(cr().mark((function e(t){var n,r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,od(t);case 4:n=e.sent,r=n.authorizedDomains,i=Gt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!fd(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:$u(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ld.apply(this,arguments)}function fd(e){var t=os(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!cd.test(r))return!1;if(sd.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var hd=new cs(3e4,6e4);function dd(){var e=Nf().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Pt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var pd=null;function vd(e){return pd=pd||function(e){return new Promise((function(t,n){var r,i,a;function o(){dd(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){dd(),n(Ju(e,"network-request-failed"))},timeout:hd.get()})}if(null===(i=null===(r=Nf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Nf().gapi)||void 0===a?void 0:a.load)){var u=Zf("iframefcb");return Nf()[u]=function(){gapi.load?o():n(Ju(e,"network-request-failed"))},Xf("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw pd=null,e}))}(e),pd}var yd=new cs(5e3,15e3),md={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kd(e){var t=e.config;ts(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ls(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Xo},i=gd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ja(r).slice(1))}function bd(e){return wd.apply(this,arguments)}function wd(){return wd=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vd(t);case 2:return n=e.sent,ts(r=Nf().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:kd(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:md,dontclear:!0},(function(e){return new Promise(function(){var n=fr(cr().mark((function n(r,i){var a,o,u;return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Nf().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ju(t,"network-request-failed"),o=Nf().setTimeout((function(){i(a)}),yd.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}var xd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_d="_blank",Ed="http://localhost",Sd=function(){function e(t){Dt(this,e),this.window=t,this.associatedEvent=null}return Lt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Id(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},xd),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ua().toLowerCase();n&&(u=nc(c)?_d:n),ec(c)&&(t=t||Ed,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Nt(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(sc(c)&&"_self"!==u)return Td(t||"",u),new Sd(null);var f=window.open(t||"",u,l);ts(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Sd(f)}function Td(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Cd="__/auth/handler",Ad="emulator/auth/handler";function Nd(e,t,n,r,i,a){ts(e.config.authDomain,e,"auth-domain-config-required"),ts(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Xo,eventId:i};if(t instanceof tl){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Nt(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof nl){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Cd);return ls(t,Ad)}(e),"?").concat(Ja(d).slice(1))}var Od="webStorageSupport",Pd=function(){function e(){Dt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sf,this._completeRedirectFn=Zh,this._overrideRedirectResult=qh}return Lt(e,[{key:"_openPopup",value:function(){var e=fr(cr().mark((function e(t,n,r,i){var a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rs(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Nd(t,n,r,os(),i),e.abrupt("return",Id(t,o,Cf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=fr(cr().mark((function e(t,n,r,i){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Nd(t,n,r,os(),i),Nf().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(rs(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bd(t);case 2:return n=e.sent,r=new rd(t),n.register("authEvent",(function(e){return ts(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Od,{type:Od},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Od];void 0!==i&&t(!!i),$u(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ld.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return lc()||tc()||uc()}}]),e}(),Dd=Pd,Rd=function(){function e(t){Dt(this,e),this.factorId=t}return Lt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ns("unexpected MultiFactorSessionType")}}}]),e}(),Ld=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this,"phone")).credential=e,r}return Lt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return vs(e,"POST","/v2/accounts/mfaEnrollment:finalize",ps(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return vs(e,"POST","/v2/accounts/mfaSignIn:finalize",ps(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Rd),Md=function(){function e(){Dt(this,e)}return Lt(e,null,[{key:"assertion",value:function(e){return Ld._fromCredential(e)}}]),e}();Md.FACTOR_ID="phone";var Fd="@firebase/auth",Ud="0.21.3",jd=function(){function e(t){Dt(this,e),this.auth=t,this.internalListeners=new Map}return Lt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ts(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Vd;!function(e){var t;null===(t=Ra())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Bd(){return window}Vd="Browser",Ko(new io("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ts(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ts(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Vd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fc(Vd)},i=new dc(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(as);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ko(new io("auth-internal",(function(e){return function(e){return new jd(e)}(pc(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),iu(Fd,Ud,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Vd)),iu(Fd,Ud,"esm2017");function qd(e,t,n){return zd.apply(this,arguments)}function zd(){return zd=fr(cr().mark((function e(t,n,r){var i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Bd(),o=a.BuildInfo,rs(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Yd(n.sessionId);case 4:return u=e.sent,s={},uc()?s.ibi=o.packageName:ic()?s.apn=o.packageName:$u(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Nd(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function Wd(){return Wd=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bd(),r=n.BuildInfo,i={},uc()?i.iosBundleId=r.packageName:ic()?i.androidPackageName=r.packageName:$u(t,"operation-not-supported-in-this-environment"),e.next=5,od(t,i);case 5:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}function Kd(e){var t=Bd().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Gd(e,t,n){return Hd.apply(this,arguments)}function Hd(){return Hd=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bd(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ju(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),ic()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Hd.apply(this,arguments)}function Qd(e){var t,n,r,i,a,o,u,s,c,l,f=Bd();ts("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ts("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ts("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ts("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ts("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Yd(e){return $d.apply(this,arguments)}function $d(){return($d=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jd(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jd(e){if(rs(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Xd=function(e){Ft(n,e);var t=qt(n);function n(){var e;return Dt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Lt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Nu(Ut(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(rd);function Zd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:ip(),postBody:null,tenantId:e.tenantId,error:Ju(e,"no-auth-event")}}function ep(e,t){return ap()._set(op(e),t)}function tp(e){return np.apply(this,arguments)}function np(){return np=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ap()._get(op(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ap()._remove(op(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),np.apply(this,arguments)}function rp(e,t){var n,r,i=function(e){var t=up(e),n=t.link?decodeURIComponent(t.link):void 0,r=up(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return up(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=up(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ju(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ip(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function ap(){return as(_f)}function op(e){return Js("authEvent",e.config.apiKey,e.name)}function up(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=Kt(e.split("?"));t[0];return Xa(t.slice(1).join("?"))}var sp=function(){function e(){Dt(this,e),this._redirectPersistence=Sf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zh,this._overrideRedirectResult=qh}return Lt(e,[{key:"_initialize",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Xd(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){$u(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=fr(cr().mark((function e(t,n,r,i){var a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qd(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Mh.clear(),e.next=10,this._originValidation(t);case 10:return o=Zd(t,r,i),e.next=13,ep(t,o);case 13:return e.next=15,qd(t,o,n);case 15:return u=e.sent,e.next=18,Kd(u);case 18:return s=e.sent,e.abrupt("return",Gd(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Bd(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(fr(cr().mark((function n(){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tp(e);case 2:t.onEvent(lp());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=fr(cr().mark((function n(r){var i,a;return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,tp(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=rp(i,r.url)),t.onEvent(a||lp());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Bd().handleOpenURL=function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),cp=sp;function lp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ju("no-auth-event")}}function fp(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function hp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return!("file:"!==fp()&&"ionic:"!==fp()&&"capacitor:"!==fp()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function dp(){return qa()&&11===(null===document||void 0===document?void 0:document.documentMode)}function pp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return/Edge\/\d+/.test(e)}function vp(){try{var e=self.localStorage,t=Cf();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua();return dp()||pp(e)}()||za()}catch(n){return yp()&&za()}return!1}function yp(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function mp(){return("http:"===fp()||"https:"===fp()||Va()||hp())&&!(Ba()||ja())&&vp()&&!yp()}function gp(){return hp()&&"undefined"!==typeof document}function kp(){return bp.apply(this,arguments)}function bp(){return(bp=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gp()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wp={LOCAL:"local",NONE:"none",SESSION:"session"},xp=ts,_p="persistence";function Ep(e,t){xp(Object.values(wp).includes(t),e,"invalid-persistence-type"),Ba()?xp(t!==wp.SESSION,e,"unsupported-persistence-type"):ja()?xp(t===wp.NONE,e,"unsupported-persistence-type"):yp()?xp(t===wp.NONE||t===wp.LOCAL&&za(),e,"unsupported-persistence-type"):xp(t===wp.NONE||vp(),e,"unsupported-persistence-type")}function Sp(e){return Ip.apply(this,arguments)}function Ip(){return Ip=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Tp(),r=Js(_p,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Tp(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Cp=ts,Ap=function(){function e(){Dt(this,e),this.browserResolver=as(Dd),this.cordovaResolver=as(cp),this.underlyingResolver=null,this._redirectPersistence=Sf,this._completeRedirectFn=Zh,this._overrideRedirectResult=qh}return Lt(e,[{key:"_initialize",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=fr(cr().mark((function e(t,n,r,i){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=fr(cr().mark((function e(t,n,r,i){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return gp()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Cp(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,kp();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Np(e){return e.unwrap()}function Op(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Mp(e,function(e,t){var n,r=ro(e),i=t;return ts(t.customData.operationType,r,"argument-error"),ts(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),vf._fromError(r,i)}(e,t));else if(r){var i=Pp(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Pp(e){var t=(e instanceof Wa?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Wa)&&"temporaryProof"in t&&"phoneNumber"in t)return wh.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Mu)return null;switch(r){case Lu:n=al;break;case Du:n=il;break;case Ru:n=ol;break;case Fu:n=cl;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?ul._create(r,u):Kc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new rl(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Wa?n.credentialFromError(e):n.credentialFromResult(e)}function Dp(e,t){return t.catch((function(t){throw t instanceof Wa&&Op(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Pp(t)),additionalUserInfo:df(e),user:Fp.getOrCreate(r)}}))}function Rp(e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Dp(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Lp.apply(this,arguments)}var Mp=function(){function e(t,n){Dt(this,e),this.resolver=n,this.auth=t.wrapped()}return Lt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Dp(Np(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Fp=function(){function e(t){Dt(this,e),this._delegate=t,this.multiFactor=function(e){var t=ro(e);return kf.has(t)||kf.set(t,gf._fromUser(t)),kf.get(t)}(t)}return Lt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dp(this.auth,Nl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rp(this.auth,vh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dp(this.auth,Dh(this._delegate,t,Ap)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sp(pc(this.auth));case 2:return e.abrupt("return",Yh(this._delegate,t,Ap));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dp(this.auth,Pl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Rp(this.auth,function(e,t,n){return mh.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Dp(this.auth,function(e,t,n){return Ph.apply(this,arguments)}(this._delegate,e,Ap))}},{key:"reauthenticateWithRedirect",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sp(pc(this.auth));case 2:return e.abrupt("return",Hh(this._delegate,t,Ap));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Zl.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gl(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return af(ro(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return af(ro(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return bh.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return rf.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ef.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Fp.USER_MAP=new WeakMap;var Up=ts,jp=function(){function e(t,n){if(Dt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Up(r,"invalid-api-key",{appName:t.name}),Up(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ap:void 0;this._delegate=n.initialize({options:{persistence:Bp(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ku),this.linkUnderlyingAuth()}return Lt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Fp.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){yc(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ql.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return zl(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Bl.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dp(this._delegate,Gl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Xl.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Zc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Up(mp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Jh(this._delegate,Ap);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Dp(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){pc(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Vp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Vp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ql.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Vl.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ep(this._delegate,t),e.t0=t,e.next=e.t0===wp.SESSION?4:e.t0===wp.LOCAL?6:e.t0===wp.NONE?11:13;break;case 4:return n=Sf,e.abrupt("break",14);case 6:return e.next=8,as(Qf)._isAvailable();case 8:return r=e.sent,n=r?Qf:_f,e.abrupt("break",14);case 11:return n=$s,e.abrupt("break",14);case 13:return e.abrupt("return",$u("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Dp(this._delegate,function(e){return pl.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Dp(this._delegate,Cl(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Dp(this._delegate,function(e,t){return Ml.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Dp(this._delegate,function(e,t,n){return Cl(ro(e),el.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Dp(this._delegate,function(e,t,n){return Yl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Rp(this._delegate,function(e,t,n){return ph.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Up(mp(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Dp(this._delegate,Nh(this._delegate,t,Ap)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Up(mp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Sp(this._delegate);case 3:return e.abrupt("return",Kh(this._delegate,t,Ap));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Kl.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Vp(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Fp.getOrCreate(e))},error:t,complete:n}}function Bp(e,t){var n=function(e,t){var n=Tp();if(!n)return[];var r=Js(_p,e,t);switch(n.getItem(r)){case wp.NONE:return[$s];case wp.LOCAL:return[Qf,Sf];case wp.SESSION:return[Sf];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Qf)||n.push(Qf),"undefined"!==typeof window)for(var r=0,i=[_f,Sf];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes($s)||n.push($s),n}jp.Persistence=wp;var qp=function(){function e(){Dt(this,e),this.providerId="phone",this._delegate=new wh(Np(Cu.auth()))}return Lt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return wh.credential(e,t)}}]),e}();qp.PHONE_SIGN_IN_METHOD=wh.PHONE_SIGN_IN_METHOD,qp.PROVIDER_ID=wh.PROVIDER_ID;var zp=ts,Wp=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cu.app();Dt(this,e),zp(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new fh(t,n,i.auth()),this.type=this._delegate.type}return Lt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new io("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new jp(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Uu,PASSWORD_RESET:ju,RECOVER_EMAIL:Vu,REVERT_SECOND_FACTOR_ADDITION:Bu,VERIFY_AND_CHANGE_EMAIL:qu,VERIFY_EMAIL:zu}},EmailAuthProvider:el,FacebookAuthProvider:il,GithubAuthProvider:ol,GoogleAuthProvider:al,OAuthProvider:rl,SAMLAuthProvider:sl,PhoneAuthProvider:qp,PhoneMultiFactorGenerator:Md,RecaptchaVerifier:Wp,TwitterAuthProvider:cl,Auth:jp,AuthCredential:kc,Error:Wa}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.3.3")}(Cu);var Kp,Gp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Hp={},Qp=Qp||{},Yp=Gp||self;function $p(){}function Jp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Xp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Zp="closure_uid_"+(1e9*Math.random()>>>0),ev=0;function tv(e,t,n){return e.call.apply(e.bind,arguments)}function nv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function rv(e,t,n){return(rv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tv:nv).apply(null,arguments)}function iv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function av(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ov(){this.s=this.s,this.o=this.o}ov.prototype.s=!1,ov.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Zp)&&e[Zp]||(e[Zp]=++ev)}(this)},ov.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var uv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function sv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function cv(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Jp(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function lv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}lv.prototype.h=function(){this.defaultPrevented=!0};var fv=function(){if(!Yp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Yp.addEventListener("test",$p,t),Yp.removeEventListener("test",$p,t)}catch(R){}return e}();function hv(e){return/^[\s\xa0]*$/.test(e)}var dv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function pv(e,t){return e<t?-1:e>t?1:0}function vv(){var e=Yp.navigator;return e&&(e=e.userAgent)?e:""}function yv(e){return-1!=vv().indexOf(e)}function mv(e){return mv[" "](e),e}mv[" "]=$p;var gv,kv=yv("Opera"),bv=yv("Trident")||yv("MSIE"),wv=yv("Edge"),xv=wv||bv,_v=yv("Gecko")&&!(-1!=vv().toLowerCase().indexOf("webkit")&&!yv("Edge"))&&!(yv("Trident")||yv("MSIE"))&&!yv("Edge"),Ev=-1!=vv().toLowerCase().indexOf("webkit")&&!yv("Edge");function Sv(){var e=Yp.document;return e?e.documentMode:void 0}e:{var Iv="",Tv=function(){var e=vv();return _v?/rv:([^\);]+)(\)|;)/.exec(e):wv?/Edge\/([\d\.]+)/.exec(e):bv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ev?/WebKit\/(\S+)/.exec(e):kv?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Tv&&(Iv=Tv?Tv[1]:""),bv){var Cv=Sv();if(null!=Cv&&Cv>parseFloat(Iv)){gv=String(Cv);break e}}gv=Iv}var Av,Nv={};function Ov(){return function(e){var t=Nv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=dv(String(gv)).split("."),n=dv("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=pv(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||pv(0==a[2].length,0==o[2].length)||pv(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Yp.document&&bv){var Pv=Sv();Av=Pv||(parseInt(gv,10)||void 0)}else Av=void 0;var Dv=Av;function Rv(e,t){if(lv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(_v){e:{try{mv(t.nodeName);var i=!0;break e}catch(D){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Lv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Rv.X.h.call(this)}}av(Rv,lv);var Lv={2:"touch",3:"pen",4:"mouse"};Rv.prototype.h=function(){Rv.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Mv="closure_listenable_"+(1e6*Math.random()|0),Fv=0;function Uv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Fv,this.ba=this.ea=!1}function jv(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Vv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Bv(e){var t={};for(var n in e)t[n]=e[n];return t}var qv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zv(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<qv.length;a++)n=qv[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Wv(e){this.src=e,this.g={},this.h=0}function Kv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=uv(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(jv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Gv(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Wv.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Gv(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Uv(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Hv="closure_lm_"+(1e6*Math.random()|0),Qv={};function Yv(e,t,n,r,i){if(r&&r.once)return Jv(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Yv(e,t[a],n,r,i);return null}return n=iy(n),e&&e[Mv]?e.N(t,n,Xp(r)?!!r.capture:!!r,i):$v(e,t,n,!1,r,i)}function $v(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Xp(i)?!!i.capture:!!i,u=ny(e);if(u||(e[Hv]=u=new Wv(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ty;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)fv||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ey(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Jv(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Jv(e,t[a],n,r,i);return null}return n=iy(n),e&&e[Mv]?e.O(t,n,Xp(r)?!!r.capture:!!r,i):$v(e,t,n,!0,r,i)}function Xv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Xv(e,t[a],n,r,i);else r=Xp(r)?!!r.capture:!!r,n=iy(n),e&&e[Mv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Gv(a=e.g[t],n,r,i))&&(jv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ny(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gv(t,n,r,i)),(n=-1<e?t[e]:null)&&Zv(n))}function Zv(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Mv])Kv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ey(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ny(t))?(Kv(n,e),0==n.h&&(n.src=null,t[Hv]=null)):jv(e)}}}function ey(e){return e in Qv?Qv[e]:Qv[e]="on"+e}function ty(e,t){if(e.ba)e=!0;else{t=new Rv(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Zv(e),e=n.call(r,t)}return e}function ny(e){return(e=e[Hv])instanceof Wv?e:null}var ry="__closure_events_fn_"+(1e9*Math.random()>>>0);function iy(e){return"function"===typeof e?e:(e[ry]||(e[ry]=function(t){return e.handleEvent(t)}),e[ry])}function ay(){ov.call(this),this.i=new Wv(this),this.P=this,this.I=null}function oy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new lv(t,e);else if(t instanceof lv)t.target=t.target||e;else{var i=t;zv(t=new lv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=uy(o,r,!0,t)&&i}if(i=uy(o=t.g=e,r,!0,t)&&i,i=uy(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=uy(o=t.g=n[a],r,!1,t)&&i}function uy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Kv(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}av(ay,ov),ay.prototype[Mv]=!0,ay.prototype.removeEventListener=function(e,t,n,r){Xv(this,e,t,n,r)},ay.prototype.M=function(){if(ay.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)jv(n[r]);delete t.g[e],t.h--}}this.I=null},ay.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ay.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var sy=Yp.JSON.stringify;function cy(){var e=my,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ly,fy=function(){function e(){Dt(this,e),this.h=this.g=null}return Lt(e,[{key:"add",value:function(e,t){var n=hy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),hy=new(function(){function e(t,n){Dt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Lt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new dy}),(function(e){return e.reset()})),dy=function(){function e(){Dt(this,e),this.next=this.g=this.h=null}return Lt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function py(e){Yp.setTimeout((function(){throw e}),0)}function vy(e,t){ly||function(){var e=Yp.Promise.resolve(void 0);ly=function(){e.then(gy)}}(),yy||(ly(),yy=!0),my.add(e,t)}var yy=!1,my=new fy;function gy(){for(var e;e=cy();){try{e.h.call(e.g)}catch(R){py(R)}var t=hy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}yy=!1}function ky(e,t){ay.call(this),this.h=e||1,this.g=t||Yp,this.j=rv(this.lb,this),this.l=Date.now()}function by(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function wy(e,t,n){if("function"===typeof e)n&&(e=rv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=rv(e.handleEvent,e)}return 2147483647<Number(t)?-1:Yp.setTimeout(e,t||0)}function xy(e){e.g=wy((function(){e.g=null,e.i&&(e.i=!1,xy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}av(ky,ay),(Kp=ky.prototype).ca=!1,Kp.R=null,Kp.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),oy(this,"tick"),this.ca&&(by(this),this.start()))}},Kp.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Kp.M=function(){ky.X.M.call(this),by(this),delete this.g};var _y=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Lt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:xy(this)}},{key:"M",value:function(){Nu(Ut(n.prototype),"M",this).call(this),this.g&&(Yp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ov);function Ey(e){ov.call(this),this.h=e,this.g={}}av(Ey,ov);var Sy=[];function Iy(e,t,n,r){Array.isArray(n)||(n&&(Sy[0]=n.toString()),n=Sy);for(var i=0;i<n.length;i++){var a=Yv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ty(e){Vv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zv(e)}),e),e.g={}}function Cy(){this.g=!0}function Ay(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return sy(n)}catch(I){return t}}(e,n)+(r?" "+r:"")}))}Ey.prototype.M=function(){Ey.X.M.call(this),Ty(this)},Ey.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cy.prototype.Aa=function(){this.g=!1},Cy.prototype.info=function(){};var Ny={},Oy=null;function Py(){return Oy=Oy||new ay}function Dy(e){lv.call(this,Ny.Pa,e)}function Ry(e){var t=Py();oy(t,new Dy(t))}function Ly(e,t){lv.call(this,Ny.STAT_EVENT,e),this.stat=t}function My(e){var t=Py();oy(t,new Ly(t,e))}function Fy(e,t){lv.call(this,Ny.Qa,e),this.size=t}function Uy(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Yp.setTimeout((function(){e()}),t)}Ny.Pa="serverreachability",av(Dy,lv),Ny.STAT_EVENT="statevent",av(Ly,lv),Ny.Qa="timingevent",av(Fy,lv);var jy={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Vy={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function By(){}function qy(e){return e.h||(e.h=e.i())}function zy(){}By.prototype.h=null;var Wy,Ky={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Gy(){lv.call(this,"d")}function Hy(){lv.call(this,"c")}function Qy(){}function Yy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ey(this),this.O=Jy,e=xv?125:void 0,this.T=new ky(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new $y}function $y(){this.i=null,this.g="",this.h=!1}av(Gy,lv),av(Hy,lv),av(Qy,By),Qy.prototype.g=function(){return new XMLHttpRequest},Qy.prototype.i=function(){return{}},Wy=new Qy;var Jy=45e3,Xy={},Zy={};function em(e,t,n){e.K=1,e.v=km(pm(t)),e.s=n,e.P=!0,tm(e,null)}function tm(e,t){e.F=Date.now(),am(e),e.A=pm(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Pm(n.i,"t",r),e.C=0,n=e.l.H,e.h=new $y,e.g=Pg(e.l,n?t:null,!e.s),0<e.N&&(e.L=new _y(rv(e.La,e,e.g),e.N)),Iy(e.S,e.g,"readystatechange",e.ib),t=e.H?Bv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Ry(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function nm(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function rm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=im(e,n))==Zy){4==t&&(e.o=4,My(14),i=!1),Ay(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xy){e.o=4,My(15),Ay(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ay(e.j,e.m,r,null),lm(e,r)}nm(e)&&r!=Zy&&r!=Xy&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,My(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Eg(t),t.K=!0,My(11))):(Ay(e.j,e.m,n,"[Invalid Chunked Response]"),cm(e),sm(e))}function im(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zy:(n=Number(t.substring(n,r)),isNaN(n)?Xy:(r+=1)+n>t.length?Zy:(t=t.substr(r,n),e.C=r+n,t))}function am(e){e.V=Date.now()+e.O,om(e,e.O)}function om(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Uy(rv(e.gb,e),t)}function um(e){e.B&&(Yp.clearTimeout(e.B),e.B=null)}function sm(e){0==e.l.G||e.I||Tg(e.l,e)}function cm(e){um(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,by(e.T),Ty(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function lm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||jm(n.h,e)))if(!e.J&&jm(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ig(n),yg(n)}_g(n),My(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Uy(rv(n.cb,n),6e3));if(1>=Um(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Ag(n,11)}else if((e.J||n.g==e)&&Ig(n),!hv(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Vm(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,gm(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Og(r,r.H?r.ka:null,r.V),d.J){Bm(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(um(p),am(p)),r.g=d}else xg(r);0<n.i.length&&gg(n)}else"stop"!=a[0]&&"close"!=a[0]||Ag(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ag(n,7):vg(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Ry()}catch(a){}}function fm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Jp(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Jp(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Jp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Kp=Yy.prototype).setTimeout=function(e){this.O=e},Kp.ib=function(e){e=e.target;var t=this.L;t&&3==cg(e)?t.l():this.La(e)},Kp.La=function(e){try{if(e==this.g)e:{var t=cg(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||xv||this.g&&(this.h.h||this.g.fa()||lg(this.g)))){this.I||4!=t||7==n||Ry(),um(this);var r=this.g.aa();this.Y=r;t:if(nm(this)){var i=lg(this.g);e="";var a=i.length,o=4==cg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){cm(this),sm(this);var u="";break t}this.h.i=new Yp.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hv(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,My(12),cm(this),sm(this);break e}Ay(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lm(this,r)}this.P?(rm(this,t,u),xv&&this.i&&3==t&&(Iy(this.S,this.T,"tick",this.hb),this.T.start())):(Ay(this.j,this.m,u,null),lm(this,u)),4==t&&cm(this),this.i&&!this.I&&(4==t?Tg(this.l,this):(this.i=!1,am(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,My(12)):(this.o=0,My(13)),cm(this),sm(this)}}}catch(t){}},Kp.hb=function(){if(this.g){var e=cg(this.g),t=this.g.fa();this.C<t.length&&(um(this),rm(this,e,t),this.i&&4!=e&&am(this))}},Kp.cancel=function(){this.I=!0,cm(this)},Kp.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ry(),My(17)),cm(this),this.o=2,sm(this)):om(this,this.V-e)};var hm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dm(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof dm){this.h=void 0!==t?t:e.h,vm(this,e.j),this.s=e.s,this.g=e.g,ym(this,e.m),this.l=e.l,t=e.i;var n=new Cm;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mm(this,n),this.o=e.o}else e&&(n=String(e).match(hm))?(this.h=!!t,vm(this,n[1]||"",!0),this.s=bm(n[2]||""),this.g=bm(n[3]||"",!0),ym(this,n[4]),this.l=bm(n[5]||"",!0),mm(this,n[6]||"",!0),this.o=bm(n[7]||"")):(this.h=!!t,this.i=new Cm(null,this.h))}function pm(e){return new dm(e)}function vm(e,t,n){e.j=n?bm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ym(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function mm(e,t,n){t instanceof Cm?(e.i=t,function(e,t){t&&!e.j&&(Am(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Nm(this,t),Pm(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=wm(t,Im)),e.i=new Cm(t,e.h))}function gm(e,t,n){e.i.set(t,n)}function km(e){return gm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function bm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function wm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(wm(t,_m,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(wm(t,_m,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(wm(n,"/"==n.charAt(0)?Sm:Em,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",wm(n,Tm)),e.join("")};var _m=/[#\/\?@]/g,Em=/[#\?:]/g,Sm=/[#\?]/g,Im=/[#\?@]/g,Tm=/#/g;function Cm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Am(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Nm(e,t){Am(e),t=Dm(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Om(e,t){return Am(e),t=Dm(e,t),e.g.has(t)}function Pm(e,t,n){Nm(e,t),0<n.length&&(e.i=null,e.g.set(Dm(e,t),sv(n)),e.h+=n.length)}function Dm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Kp=Cm.prototype).add=function(e,t){Am(this),this.i=null,e=Dm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Kp.forEach=function(e,t){Am(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Kp.oa=function(){Am(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Kp.W=function(e){Am(this);var t=[];if("string"===typeof e)Om(this,e)&&(t=t.concat(this.g.get(Dm(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Kp.set=function(e,t){return Am(this),this.i=null,Om(this,e=Dm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Kp.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Kp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Rm=Lt((function e(t,n){Dt(this,e),this.h=t,this.g=n}));function Lm(e){this.l=e||Mm,Yp.PerformanceNavigationTiming?e=0<(e=Yp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Yp.g&&Yp.g.Ga&&Yp.g.Ga()&&Yp.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mm=10;function Fm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Um(e){return e.h?1:e.g?e.g.size:0}function jm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Vm(e,t){e.g?e.g.add(t):e.h=t}function Bm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function qm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Gt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return sv(e.i)}function zm(){}function Wm(){this.g=new zm}function Km(e,t,n){var r=n||"";try{fm(e,(function(e,n){var i=e;Xp(e)&&(i=sy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(D){}}function Hm(e){this.l=e.ac||null,this.j=e.jb||!1}function Qm(e,t){ay.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ym,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lm.prototype.cancel=function(){if(this.i=qm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Gt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},zm.prototype.stringify=function(e){return Yp.JSON.stringify(e,void 0)},zm.prototype.parse=function(e){return Yp.JSON.parse(e,void 0)},av(Hm,By),Hm.prototype.g=function(){return new Qm(this.l,this.j)},Hm.prototype.i=function(e){return function(){return e}}({}),av(Qm,ay);var Ym=0;function $m(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Jm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xm(e)}function Xm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Kp=Qm.prototype).open=function(e,t){if(this.readyState!=Ym)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xm(this)},Kp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Yp).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Kp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jm(this)),this.readyState=Ym},Kp.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xm(this)),this.g&&(this.readyState=3,Xm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Yp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$m(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Kp.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jm(this):Xm(this),3==this.readyState&&$m(this)}},Kp.Va=function(e){this.g&&(this.response=this.responseText=e,Jm(this))},Kp.Ua=function(e){this.g&&(this.response=e,Jm(this))},Kp.ga=function(){this.g&&Jm(this)},Kp.setRequestHeader=function(e,t){this.v.append(e,t)},Kp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Kp.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Qm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Zm=Yp.JSON.parse;function eg(e){ay.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tg,this.K=this.L=!1}av(eg,ay);var tg="",ng=/^https?$/i,rg=["POST","PUT"];function ig(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ag(e),ug(e)}function ag(e){e.D||(e.D=!0,oy(e,"complete"),oy(e,"error"))}function og(e){if(e.h&&"undefined"!=typeof Qp&&(!e.C[1]||4!=cg(e)||2!=e.aa()))if(e.v&&4==cg(e))wy(e.Ha,0,e);else if(oy(e,"readystatechange"),4==cg(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(hm)[1]||null;if(!a&&Yp.self&&Yp.self.location){var o=Yp.self.location.protocol;a=o.substr(0,o.length-1)}i=!ng.test(a?a.toLowerCase():"")}t=i}if(t)oy(e,"complete"),oy(e,"success");else{e.m=6;try{var u=2<cg(e)?e.g.statusText:""}catch(O){u=""}e.j=u+" ["+e.aa()+"]",ag(e)}}finally{ug(e)}}}function ug(e,t){if(e.g){sg(e);var n=e.g,r=e.C[0]?$p:null;e.g=null,e.C=null,t||oy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function sg(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Yp.clearTimeout(e.A),e.A=null)}function cg(e){return e.g?e.g.readyState:0}function lg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case tg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(q){return null}}function fg(e){var t="";return Vv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function hg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fg(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gm(e,t,n))}function dg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function pg(e){this.Ca=0,this.i=[],this.j=new Cy,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=dg("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=dg("baseRetryDelayMs",5e3,e),this.bb=dg("retryDelaySeedMs",1e4,e),this.$a=dg("forwardChannelMaxRetries",2,e),this.ta=dg("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Lm(e&&e.concurrentRequestLimit),this.Fa=new Wm,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function vg(e){if(mg(e),3==e.G){var t=e.U++,n=pm(e.F);gm(n,"SID",e.I),gm(n,"RID",t),gm(n,"TYPE","terminate"),bg(e,n),(t=new Yy(e,e.j,t,void 0)).K=2,t.v=km(pm(n)),n=!1,Yp.navigator&&Yp.navigator.sendBeacon&&(n=Yp.navigator.sendBeacon(t.v.toString(),"")),!n&&Yp.Image&&((new Image).src=t.v,n=!0),n||(t.g=Pg(t.l,null),t.g.da(t.v)),t.F=Date.now(),am(t)}Ng(e)}function yg(e){e.g&&(Eg(e),e.g.cancel(),e.g=null)}function mg(e){yg(e),e.u&&(Yp.clearTimeout(e.u),e.u=null),Ig(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Yp.clearTimeout(e.m),e.m=null)}function gg(e){Fm(e.h)||e.m||(e.m=!0,vy(e.Ja,e),e.C=0)}function kg(e,t){var n;n=t?t.m:e.U++;var r=pm(e.F);gm(r,"SID",e.I),gm(r,"RID",n),gm(r,"AID",e.T),bg(e,r),e.o&&e.s&&hg(r,e.o,e.s),n=new Yy(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=wg(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Vm(e.h,n),em(n,r,t)}function bg(e,t){e.ia&&Vv(e.ia,(function(e,n){gm(t,n,e)})),e.l&&fm({},(function(e,n){gm(t,n,e)}))}function wg(e,t,n){n=Math.min(e.i.length,n);var r=e.l?rv(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Km(l,o,"req"+c+"_")}catch(ue){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function xg(e){e.g||e.u||(e.Z=1,vy(e.Ia,e),e.A=0)}function _g(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Uy(rv(e.Ia,e),Cg(e,e.A)),e.A++,!0)}function Eg(e){null!=e.B&&(Yp.clearTimeout(e.B),e.B=null)}function Sg(e){e.g=new Yy(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=pm(e.sa);gm(t,"RID","rpc"),gm(t,"SID",e.I),gm(t,"CI",e.L?"0":"1"),gm(t,"AID",e.T),gm(t,"TYPE","xmlhttp"),bg(e,t),e.o&&e.s&&hg(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=km(pm(t)),n.s=null,n.P=!0,tm(n,e)}function Ig(e){null!=e.v&&(Yp.clearTimeout(e.v),e.v=null)}function Tg(e,t){var n=null;if(e.g==t){Ig(e),Eg(e),e.g=null;var r=2}else{if(!jm(e.h,t))return;n=t.D,Bm(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;oy(r=Py(),new Fy(r,n)),gg(e)}else xg(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Um(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Uy(rv(e.Ja,e,t),Cg(e,e.C)),e.C++,!0))}(e,t)||2==r&&_g(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ag(e,5);break;case 4:Ag(e,10);break;case 3:Ag(e,6);break;default:Ag(e,2)}}function Cg(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ag(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=rv(e.kb,e);n||(n=new dm("//www.google.com/images/cleardot.gif"),Yp.location&&"http"==Yp.location.protocol||vm(n,"https"),km(n)),function(e,t){var n=new Cy;if(Yp.Image){var r=new Image;r.onload=iv(Gm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=iv(Gm,n,r,"TestLoadImage: error",!1,t),r.onabort=iv(Gm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=iv(Gm,n,r,"TestLoadImage: timeout",!1,t),Yp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else My(2);e.G=0,e.l&&e.l.va(t),Ng(e),mg(e)}function Ng(e){if(e.G=0,e.la=[],e.l){var t=qm(e.h);0==t.length&&0==e.i.length||(cv(e.la,t),cv(e.la,e.i),e.h.i.length=0,sv(e.i),e.i.length=0),e.l.ua()}}function Og(e,t,n){var r=n instanceof dm?pm(n):new dm(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),ym(r,r.m);else{var i=Yp.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new dm(null,void 0);r&&vm(a,r),t&&(a.g=t),i&&ym(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&gm(r,n,t),gm(r,"VER",e.ma),bg(e,r),r}function Pg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new eg(new Hm({jb:!0})):new eg(e.ra)).Ka(e.H),t}function Dg(){}function Rg(){if(bv&&!(10<=Number(Dv)))throw Error("Environmental error: no available transport.")}function Lg(e,t){ay.call(this),this.g=new pg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!hv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!hv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ug(this)}function Mg(e){Gy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Fg(){Hy.call(this),this.status=1}function Ug(e){this.g=e}(Kp=eg.prototype).Ka=function(e){this.L=e},Kp.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wy.g(),this.C=this.u?qy(this.u):qy(Wy),this.g.onreadystatechange=rv(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void ig(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Gt(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Yp.FormData&&e instanceof Yp.FormData,!(0<=uv(rg,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Gt(n);try{for(c.s();!(s=c.n()).done;){var l=Nt(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sg(this),0<this.B&&((this.K=function(e){return bv&&Ov()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rv(this.qa,this)):this.A=wy(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){ig(this,u)}},Kp.qa=function(){"undefined"!=typeof Qp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oy(this,"timeout"),this.abort(8))},Kp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,oy(this,"complete"),oy(this,"abort"),ug(this))},Kp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ug(this,!0)),eg.X.M.call(this)},Kp.Ha=function(){this.s||(this.F||this.v||this.l?og(this):this.fb())},Kp.fb=function(){og(this)},Kp.aa=function(){try{return 2<cg(this)?this.g.status:-1}catch(P){return-1}},Kp.fa=function(){try{return this.g?this.g.responseText:""}catch(P){return""}},Kp.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Zm(t)}},Kp.Ea=function(){return this.m},Kp.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Kp=pg.prototype).ma=8,Kp.G=1,Kp.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Yy(this,this.j,e,void 0),n=this.s;if(this.S&&(n?zv(n=Bv(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=wg(this,t,r),gm(i=pm(this.F),"RID",e),gm(i,"CVER",22),this.D&&gm(i,"X-HTTP-Session-Id",this.D),bg(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(fg(n)))+"&"+r:this.o&&hg(i,this.o,n)),Vm(this.h,t),this.Ya&&gm(i,"TYPE","init"),this.O?(gm(i,"$req",r),gm(i,"SID","null"),t.Z=!0,em(t,i,null)):em(t,i,r),this.G=2}}else 3==this.G&&(e?kg(this,e):0==this.i.length||Fm(this.h)||kg(this))},Kp.Ia=function(){if(this.u=null,Sg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Uy(rv(this.eb,this),e)}},Kp.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,My(10),yg(this),Sg(this))},Kp.cb=function(){null!=this.v&&(this.v=null,yg(this),_g(this),My(19))},Kp.kb=function(e){e?(this.j.info("Successfully pinged google.com"),My(2)):(this.j.info("Failed to ping google.com"),My(1))},(Kp=Dg.prototype).xa=function(){},Kp.wa=function(){},Kp.va=function(){},Kp.ua=function(){},Kp.Ra=function(){},Rg.prototype.g=function(e,t){return new Lg(e,t)},av(Lg,ay),Lg.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;My(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Og(e,null,e.V),gg(e)},Lg.prototype.close=function(){vg(this.g)},Lg.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=sy(e),e=n);t.i.push(new Rm(t.ab++,e)),3==t.G&&gg(t)},Lg.prototype.M=function(){this.g.l=null,delete this.j,vg(this.g),delete this.g,Lg.X.M.call(this)},av(Mg,Gy),av(Fg,Hy),av(Ug,Dg),Ug.prototype.xa=function(){oy(this.g,"a")},Ug.prototype.wa=function(e){oy(this.g,new Mg(e))},Ug.prototype.va=function(e){oy(this.g,new Fg)},Ug.prototype.ua=function(){oy(this.g,"b")},Rg.prototype.createWebChannel=Rg.prototype.g,Lg.prototype.send=Lg.prototype.u,Lg.prototype.open=Lg.prototype.m,Lg.prototype.close=Lg.prototype.close,jy.NO_ERROR=0,jy.TIMEOUT=8,jy.HTTP_ERROR=6,Vy.COMPLETE="complete",zy.EventType=Ky,Ky.OPEN="a",Ky.CLOSE="b",Ky.ERROR="c",Ky.MESSAGE="d",ay.prototype.listen=ay.prototype.N,eg.prototype.listenOnce=eg.prototype.O,eg.prototype.getLastError=eg.prototype.Oa,eg.prototype.getLastErrorCode=eg.prototype.Ea,eg.prototype.getStatus=eg.prototype.aa,eg.prototype.getResponseJson=eg.prototype.Sa,eg.prototype.getResponseText=eg.prototype.fa,eg.prototype.send=eg.prototype.da,eg.prototype.setWithCredentials=eg.prototype.Ka;var jg=Hp.createWebChannelTransport=function(){return new Rg},Vg=Hp.getStatEventTarget=function(){return Py()},Bg=Hp.ErrorCode=jy,qg=Hp.EventType=Vy,zg=Hp.Event=Ny,Wg=Hp.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Kg=Hp.FetchXmlHttpFactory=Hm,Gg=Hp.WebChannel=zy,Hg=Hp.XhrIo=eg,Qg="@firebase/firestore",Yg=function(){function e(t){Dt(this,e),this.uid=t}return Lt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Yg.UNAUTHENTICATED=new Yg(null),Yg.GOOGLE_CREDENTIALS=new Yg("google-credentials-uid"),Yg.FIRST_PARTY=new Yg("first-party-uid"),Yg.MOCK_USER=new Yg("mock-user");var $g="9.17.1",Jg=new yo("@firebase/firestore");function Xg(){return Jg.logLevel}function Zg(e){if(Jg.logLevel<=so.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nk);Jg.debug.apply(Jg,["Firestore (".concat($g,"): ").concat(e)].concat(Pt(i)))}}function ek(e){if(Jg.logLevel<=so.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nk);Jg.error.apply(Jg,["Firestore (".concat($g,"): ").concat(e)].concat(Pt(i)))}}function tk(e){if(Jg.logLevel<=so.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nk);Jg.warn.apply(Jg,["Firestore (".concat($g,"): ").concat(e)].concat(Pt(i)))}}function nk(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function rk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat($g,") INTERNAL ASSERTION FAILED: ")+e;throw ek(t),new Error(t)}function ik(e,t){e||rk()}function ak(e,t){return e}var ok={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},uk=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Lt(n)}(Wa),sk=Lt((function e(){var t=this;Dt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ck=Lt((function e(t,n){Dt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),lk=function(){function e(){Dt(this,e)}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Yg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),fk=function(){function e(t){Dt(this,e),this.token=t,this.changeListener=null}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),hk=function(){function e(t){Dt(this,e),this.t=t,this.currentUser=Yg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Lt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new sk;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new sk,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Zg("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Zg("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new sk)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Zg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ik("string"==typeof n.accessToken),new ck(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ik(null===e||"string"==typeof e),new Yg(e)}}]),e}(),dk=function(){function e(t,n,r,i){Dt(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Yg.FIRST_PARTY,this.p=new Map}return Lt(e,[{key:"I",value:function(){return this.g?this.g():(ik(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),pk=function(){function e(t,n,r,i){Dt(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(new dk(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Yg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),vk=Lt((function e(t){Dt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),yk=function(){function e(t){Dt(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Lt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Zg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Zg("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Zg("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Zg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ik("string"==typeof t.token),e.A=t.token,new vk(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function mk(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var gk=function(){function e(){Dt(this,e)}return Lt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=mk(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function kk(e,t){return e<t?-1:e>t?1:0}function bk(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function wk(e){return e+"\0"}var xk=function(){function e(t,n){if(Dt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new uk(ok.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new uk(ok.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new uk(ok.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new uk(ok.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Lt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?kk(this.nanoseconds,e.nanoseconds):kk(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),_k=function(){function e(t){Dt(this,e),this.timestamp=t}return Lt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new xk(0,0))}},{key:"max",value:function(){return new e(new xk(253402300799,999999999))}}]),e}(),Ek=function(){function e(t,n,r){Dt(this,e),void 0===n?n=0:n>t.length&&rk(),void 0===r?r=t.length-n:r>t.length-n&&rk(),this.segments=t,this.offset=n,this.len=r}return Lt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Sk=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new uk(ok.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Pt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ek),Ik=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tk=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ik.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new uk(ok.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new uk(ok.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new uk(ok.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new uk(ok.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ek),Ck=function(){function e(t){Dt(this,e),this.path=t}return Lt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Sk.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Sk.fromString(t))}},{key:"fromName",value:function(t){return new e(Sk.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Sk.emptyPath())}},{key:"comparator",value:function(e,t){return Sk.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Sk(t.slice()))}}]),e}(),Ak=Lt((function e(t,n,r,i){Dt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Nk(e){return e.fields.find((function(e){return 2===e.kind}))}function Ok(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ak.UNKNOWN_ID=-1;var Pk=Lt((function e(t,n){Dt(this,e),this.fieldPath=t,this.kind=n}));var Dk=function(){function e(t,n){Dt(this,e),this.sequenceNumber=t,this.offset=n}return Lt(e,null,[{key:"empty",value:function(){return new e(0,Mk.min())}}]),e}();function Rk(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_k.fromTimestamp(1e9===r?new xk(n+1,0):new xk(n,r));return new Mk(i,Ck.empty(),t)}function Lk(e){return new Mk(e.readTime,e.key,-1)}var Mk=function(){function e(t,n,r){Dt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Lt(e,null,[{key:"min",value:function(){return new e(_k.min(),Ck.empty(),-1)}},{key:"max",value:function(){return new e(_k.max(),Ck.empty(),-1)}}]),e}();function Fk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ck.comparator(e.documentKey,t.documentKey))?n:kk(e.largestBatchId,t.largestBatchId)}var Uk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jk=function(){function e(){Dt(this,e),this.onCommittedListeners=[]}return Lt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Vk(e){return Bk.apply(this,arguments)}function Bk(){return Bk=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ok.FAILED_PRECONDITION&&t.message===Uk){e.next=2;break}throw t;case 2:Zg("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Bk.apply(this,arguments)}var qk=function(){function e(t){var n=this;Dt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Lt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&rk(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Gt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),zk=function(){function e(t,n){var r=this;Dt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new sk,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Gk(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Jk(e.target.error);r.P.reject(new Gk(t,n))}}return Lt(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Zg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Qk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Gk(n,t)}}}]),e}(),Wk=function(){function e(t,n,r){Dt(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Ua())&&ek("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Lt(e,[{key:"F",value:function(){var e=fr(cr().mark((function e(t){var n=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Zg("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Gk(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new uk(ok.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new uk(ok.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Gk(t,n))},i.onupgradeneeded=function(e){Zg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Zg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=fr(cr().mark((function e(t,n,r,i){var a,o,u,s,c=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=cr().mark((function e(){var n,u,s,l;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=zk.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),qk.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Zg("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Zg("SimpleDb","Removing database:",e),Yk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!za())return!1;if(e.N())return!0;var t=Ua(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/netflix_clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Kk=function(){function e(t){Dt(this,e),this.q=t,this.U=!1,this.K=null}return Lt(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Yk(this.q.delete())}}]),e}(),Gk=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,ok.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Lt(n)}(uk);function Hk(e){return"IndexedDbTransactionError"===e.name}var Qk=function(){function e(t){Dt(this,e),this.store=t}return Lt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Zg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Zg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Yk(n)}},{key:"add",value:function(e){return Zg("SimpleDb","ADD",this.store.name,e,e),Yk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Yk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Zg("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Zg("SimpleDb","DELETE",this.store.name,e),Yk(this.store.delete(e))}},{key:"count",value:function(){return Zg("SimpleDb","COUNT",this.store.name),Yk(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new qk((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new qk((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Zg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new qk((function(n,r){t.onerror=function(e){var t=Jk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new qk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Kk(i),o=t(i.primaryKey,i.value,a);if(o instanceof qk){var u=o.catch((function(e){return a.done(),qk.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return qk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Yk(e){return new qk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Jk(e.target.error);n(t)}}))}var $k=!1;function Jk(e){var t=Wk.D(Ua());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new uk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return $k||($k=!0,setTimeout((function(){throw r}),0)),r}}return e}var Xk=function(){function e(t,n){Dt(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Lt(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Zg("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Zg,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Hk(e.t4)){e.next=17;break}Zg("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Vk(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Zk=function(){function e(t,n){Dt(this,e),this.localStore=t,this.persistence=n}return Lt(e,[{key:"st",value:function(){var e=fr(cr().mark((function e(){var t,n=this,r=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return qk.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Zg("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Zg("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Lk(t);Fk(r,n)>0&&(n=r)})),new Mk(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),eb=function(){function e(t,n){var r=this;Dt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Lt(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();eb.at=-1;var tb=Lt((function e(t,n,r,i,a,o,u,s){Dt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),nb=function(){function e(t,n){Dt(this,e),this.projectId=t,this.database=n||"(default)"}return Lt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function rb(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ib(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ab(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ob(e){return null==e}function ub(e){return 0===e&&1/e==-1/0}function sb(e){return"number"==typeof e&&Number.isInteger(e)&&!ub(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var cb=function(e){function t(e){Dt(this,t),this.binaryString=e}return Lt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return kk(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();cb.EMPTY_BYTE_STRING=new cb("");var lb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fb(e){if(ik(!!e),"string"==typeof e){var t=0,n=lb.exec(e);if(ik(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hb(e.seconds),nanos:hb(e.nanos)}}function hb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function db(e){return"string"==typeof e?cb.fromBase64String(e):cb.fromUint8Array(e)}function pb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vb(e){var t=e.mapValue.fields.__previous_value__;return pb(t)?vb(t):t}function yb(e){var t=fb(e.mapValue.fields.__local_write_time__.timestampValue);return new xk(t.seconds,t.nanos)}var mb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gb={nullValue:"NULL_VALUE"};function kb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pb(e)?4:Db(e)?9007199254740991:10:rk()}function bb(e,t){if(e===t)return!0;var n=kb(e);if(n!==kb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yb(e).isEqual(yb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=fb(e.timestampValue),r=fb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return db(e.bytesValue).isEqual(db(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hb(e.geoPointValue.latitude)===hb(t.geoPointValue.latitude)&&hb(e.geoPointValue.longitude)===hb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hb(e.integerValue)===hb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=hb(e.doubleValue),r=hb(t.doubleValue);return n===r?ub(n)===ub(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return bk(e.arrayValue.values||[],t.arrayValue.values||[],bb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rb(n)!==rb(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bb(n[i],r[i])))return!1;return!0}(e,t);default:return rk()}}function wb(e,t){return void 0!==(e.values||[]).find((function(e){return bb(e,t)}))}function xb(e,t){if(e===t)return 0;var n=kb(e),r=kb(t);if(n!==r)return kk(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kk(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=hb(e.integerValue||e.doubleValue),r=hb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _b(e.timestampValue,t.timestampValue);case 4:return _b(yb(e),yb(t));case 5:return kk(e.stringValue,t.stringValue);case 6:return function(e,t){var n=db(e),r=db(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=kk(n[i],r[i]);if(0!==a)return a}return kk(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=kk(hb(e.latitude),hb(t.latitude));return 0!==n?n:kk(hb(e.longitude),hb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=xb(n[i],r[i]);if(a)return a}return kk(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===mb.mapValue&&t===mb.mapValue)return 0;if(e===mb.mapValue)return 1;if(t===mb.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=kk(r[o],a[o]);if(0!==u)return u;var s=xb(n[r[o]],i[a[o]]);if(0!==s)return s}return kk(r.length,a.length)}(e.mapValue,t.mapValue);default:throw rk()}}function _b(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return kk(e,t);var n=fb(e),r=fb(t),i=kk(n.seconds,r.seconds);return 0!==i?i:kk(n.nanos,r.nanos)}function Eb(e){return Sb(e)}function Sb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=fb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?db(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ck.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Gt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Sb(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Gt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Sb(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):rk();var t,n}function Ib(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Tb(e){return!!e&&"integerValue"in e}function Cb(e){return!!e&&"arrayValue"in e}function Ab(e){return!!e&&"nullValue"in e}function Nb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ob(e){return!!e&&"mapValue"in e}function Pb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ib(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Pb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Pb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Db(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Rb(e){return"nullValue"in e?gb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ib(nb.empty(),Ck.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:rk()}function Lb(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ib(nb.empty(),Ck.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?mb:rk()}function Mb(e,t){var n=xb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Fb(e,t){var n=xb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Ub=Lt((function e(t,n){Dt(this,e),this.position=t,this.inclusive=n}));function jb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ck.comparator(Ck.fromName(o.referenceValue),n.key):xb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Vb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!bb(e.position[n],t.position[n]))return!1;return!0}var Bb=Lt((function e(){Dt(this,e)})),qb=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xb(t,this.value)):null!==t&&kb(this.value)===kb(t)&&this.matchesComparison(xb(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rk()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Xb(e,t,r):"array-contains"===t?new nw(e,r):"in"===t?new rw(e,r):"not-in"===t?new iw(e,r):"array-contains-any"===t?new aw(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Zb(e,n):new ew(e,n)}}]),n}(Bb),zb=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return Lt(n,[{key:"matches",value:function(e){return Wb(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Gt(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Bb);function Wb(e){return"and"===e.op}function Kb(e){return"or"===e.op}function Gb(e){return Hb(e)&&Wb(e)}function Hb(e){var t,n=Gt(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof zb)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Qb(e){if(e instanceof qb)return e.field.canonicalString()+e.op.toString()+Eb(e.value);if(Gb(e))return e.filters.map((function(e){return Qb(e)})).join(",");var t=e.filters.map((function(e){return Qb(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Yb(e,t){return e instanceof qb?function(e,t){return t instanceof qb&&e.op===t.op&&e.field.isEqual(t.field)&&bb(e.value,t.value)}(e,t):e instanceof zb?function(e,t){return t instanceof zb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Yb(n,t.filters[r])}),!0)}(e,t):void rk()}function $b(e,t){var n=e.filters.concat(t);return zb.create(n,e.op)}function Jb(e){return e instanceof qb?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Eb(e.value))}(e):e instanceof zb?function(e){return e.op.toString()+" {"+e.getFilters().map(Jb).join(" ,")+"}"}(e):"Filter"}var Xb=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this,e,r,i)).key=Ck.fromName(i.referenceValue),a}return Lt(n,[{key:"matches",value:function(e){var t=Ck.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(qb),Zb=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,"in",r)).keys=tw("in",r),i}return Lt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qb),ew=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,"not-in",r)).keys=tw("not-in",r),i}return Lt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qb);function tw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ck.fromName(e.referenceValue)}))}var nw=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"array-contains",r)}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Cb(t)&&wb(t.arrayValue,this.value)}}]),n}(qb),rw=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"in",r)}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&wb(this.value.arrayValue,t)}}]),n}(qb),iw=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"not-in",r)}return Lt(n,[{key:"matches",value:function(e){if(wb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!wb(this.value.arrayValue,t)}}]),n}(qb),aw=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"array-contains-any",r)}return Lt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Cb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return wb(t.value.arrayValue,e)}))}}]),n}(qb),ow=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Dt(this,e),this.field=t,this.dir=n}));function uw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var sw=function(){function e(t,n){Dt(this,e),this.comparator=t,this.root=n||lw.EMPTY}return Lt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,lw.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,lw.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new cw(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new cw(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new cw(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new cw(this.root,e,this.comparator,!0)}}]),e}(),cw=function(){function e(t,n,r,i){Dt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Lt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),lw=function(){function e(t,n,r,i,a){Dt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Lt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw rk();if(this.right.isRed())throw rk();var e=this.left.check();if(e!==this.right.check())throw rk();return e+(this.isRed()?0:1)}}]),e}();lw.EMPTY=null,lw.RED=!0,lw.BLACK=!1,lw.EMPTY=new(function(){function e(){Dt(this,e),this.size=0}return Lt(e,[{key:"key",get:function(){throw rk()}},{key:"value",get:function(){throw rk()}},{key:"color",get:function(){throw rk()}},{key:"left",get:function(){throw rk()}},{key:"right",get:function(){throw rk()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new lw(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var fw=function(){function e(t){Dt(this,e),this.comparator=t,this.data=new sw(this.comparator)}return Lt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new hw(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new hw(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),hw=function(){function e(t){Dt(this,e),this.iter=t}return Lt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function dw(e){return e.hasNext()?e.getNext():void 0}var pw=function(){function e(t){Dt(this,e),this.fields=t,t.sort(Tk.comparator)}return Lt(e,[{key:"unionWith",value:function(t){var n,r=new fw(Tk.comparator),i=Gt(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Gt(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Gt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return bk(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),vw=function(){function e(t){Dt(this,e),this.value=t}return Lt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ob(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pb(t)}},{key:"setAll",value:function(e){var t=this,n=Tk.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Pb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ob(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return bb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ob(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ib(t,(function(t,n){return e[t]=n}));var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Pb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function yw(e){var t=[];return ib(e.fields,(function(e,n){var r=new Tk([e]);if(Ob(n)){var i=yw(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Gt(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new pw(t)}var mw=function(){function e(t,n,r,i,a,o,u){Dt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Lt(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(_k.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=vw.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=vw.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=_k.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,_k.min(),_k.min(),_k.min(),vw.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,_k.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,_k.min(),_k.min(),vw.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,_k.min(),_k.min(),vw.empty(),2)}}]),e}(),gw=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Dt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function kw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new gw(e,t,n,r,i,a,o)}function bw(e){var t=ak(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Qb(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ob(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Eb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Eb(e)})).join(",")),t.ft=n}return t.ft}function ww(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!uw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Yb(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vb(e.startAt,t.startAt)&&Vb(e.endAt,t.endAt)}function xw(e){return Ck.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function _w(e,t){return e.filters.filter((function(e){return e instanceof qb&&e.field.isEqual(t)}))}function Ew(e,t,n){var r,i=gb,a=!0,o=Gt(_w(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=gb,c=!0;switch(u.op){case"<":case"<=":s=Rb(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=gb}Mb({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Mb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Sw(e,t,n){var r,i=mb,a=!0,o=Gt(_w(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=mb,c=!0;switch(u.op){case">=":case">":s=Lb(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=mb}Fb({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Fb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Iw=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Dt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function Tw(e,t,n,r,i,a,o,u){return new Iw(e,t,n,r,i,a,o,u)}function Cw(e){return new Iw(e)}function Aw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Nw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ow(e){var t,n=Gt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Pw(e){return null!==e.collectionGroup}function Dw(e){var t=ak(e);if(null===t.dt){t.dt=[];var n=Ow(t),r=Nw(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new ow(n)),t.dt.push(new ow(Tk.keyField(),"asc"));else{var i,a=!1,o=Gt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new ow(Tk.keyField(),s))}}}return t.dt}function Rw(e){var t=ak(e);if(!t._t)if("F"===t.limitType)t._t=kw(t.path,t.collectionGroup,Dw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Gt(Dw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ow(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Ub(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ub(t.startAt.position,t.startAt.inclusive):null;t._t=kw(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Lw(e,t){t.getFirstInequalityField(),Ow(e);var n=e.filters.concat([t]);return new Iw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Mw(e,t,n){return new Iw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fw(e,t){return ww(Rw(e),Rw(t))&&e.limitType===t.limitType}function Uw(e){return"".concat(bw(Rw(e)),"|lt:").concat(e.limitType)}function jw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Jb(e)})).join(", "),"]")),ob(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Eb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Eb(e)})).join(",")),"Target(".concat(t,")")}(Rw(e)),"; limitType=").concat(e.limitType,")")}function Vw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ck.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Gt(Dw(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Gt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=jb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dw(e),t))&&!(e.endAt&&!function(e,t,n){var r=jb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dw(e),t))}(e,t)}function Bw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qw(e){return function(t,n){var r,i=!1,a=Gt(Dw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=zw(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function zw(e,t,n){var r=e.field.isKeyField()?Ck.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xb(r,i):rk()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rk()}}function Ww(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ub(t)?"-0":t}}function Kw(e){return{integerValue:""+e}}function Gw(e,t){return sb(t)?Kw(t):Ww(e,t)}var Hw=Lt((function e(){Dt(this,e),this._=void 0}));function Qw(e,t,n){return e instanceof Jw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Xw?Zw(e,t):e instanceof ex?tx(e,t):function(e,t){var n=$w(e,t),r=rx(n)+rx(e.gt);return Tb(n)&&Tb(e.gt)?Kw(r):Ww(e.yt,r)}(e,t)}function Yw(e,t,n){return e instanceof Xw?Zw(e,t):e instanceof ex?tx(e,t):n}function $w(e,t){return e instanceof nx?Tb(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Jw=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Lt(n)}(Hw),Xw=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).elements=e,r}return Lt(n)}(Hw);function Zw(e,t){var n,r=ix(t),i=Gt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return bb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ex=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).elements=e,r}return Lt(n)}(Hw);function tx(e,t){var n,r=ix(t),i=Gt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!bb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var nx=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return Lt(n)}(Hw);function rx(e){return hb(e.integerValue||e.doubleValue)}function ix(e){return Cb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ax=Lt((function e(t,n){Dt(this,e),this.field=t,this.transform=n}));var ox=Lt((function e(t,n){Dt(this,e),this.version=t,this.transformResults=n})),ux=function(){function e(t,n){Dt(this,e),this.updateTime=t,this.exists=n}return Lt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function sx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var cx=Lt((function e(){Dt(this,e)}));function lx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xx(e.key,ux.none()):new vx(e.key,e.data,ux.none());var n,r=e.data,i=vw.empty(),a=new fw(Tk.comparator),o=Gt(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new yx(e.key,i,new pw(a.toArray()),ux.none())}function fx(e,t,n){e instanceof vx?function(e,t,n){var r=e.value.clone(),i=gx(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yx?function(e,t,n){if(sx(e.precondition,t)){var r=gx(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hx(e,t,n,r){return e instanceof vx?function(e,t,n,r){if(!sx(e.precondition,t))return n;var i=e.value.clone(),a=kx(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof yx?function(e,t,n,r){if(!sx(e.precondition,t))return n;var i=kx(e.fieldTransforms,r,t),a=t.data;return a.setAll(mx(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return sx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function dx(e,t){var n,r=null,i=Gt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=$w(a.transform,o||null);null!=u&&(null===r&&(r=vw.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function px(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&bk(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xw&&t instanceof Xw||e instanceof ex&&t instanceof ex?bk(e.elements,t.elements,bb):e instanceof nx&&t instanceof nx?bb(e.gt,t.gt):e instanceof Jw&&t instanceof Jw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var vx=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Dt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Lt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(cx),yx=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Dt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Lt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(cx);function mx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function gx(e,t,n){var r=new Map;ik(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Yw(o,u,n[i]))}return r}function kx(e,t,n){var r,i=new Map,a=Gt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Qw(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var bx,wx,xx=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Lt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(cx),_x=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Lt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(cx),Ex=Lt((function e(t){Dt(this,e),this.count=t}));function Sx(e){switch(e){default:return rk();case ok.CANCELLED:case ok.UNKNOWN:case ok.DEADLINE_EXCEEDED:case ok.RESOURCE_EXHAUSTED:case ok.INTERNAL:case ok.UNAVAILABLE:case ok.UNAUTHENTICATED:return!1;case ok.INVALID_ARGUMENT:case ok.NOT_FOUND:case ok.ALREADY_EXISTS:case ok.PERMISSION_DENIED:case ok.FAILED_PRECONDITION:case ok.ABORTED:case ok.OUT_OF_RANGE:case ok.UNIMPLEMENTED:case ok.DATA_LOSS:return!0}}function Ix(e){if(void 0===e)return ek("GRPC error has no .code"),ok.UNKNOWN;switch(e){case bx.OK:return ok.OK;case bx.CANCELLED:return ok.CANCELLED;case bx.UNKNOWN:return ok.UNKNOWN;case bx.DEADLINE_EXCEEDED:return ok.DEADLINE_EXCEEDED;case bx.RESOURCE_EXHAUSTED:return ok.RESOURCE_EXHAUSTED;case bx.INTERNAL:return ok.INTERNAL;case bx.UNAVAILABLE:return ok.UNAVAILABLE;case bx.UNAUTHENTICATED:return ok.UNAUTHENTICATED;case bx.INVALID_ARGUMENT:return ok.INVALID_ARGUMENT;case bx.NOT_FOUND:return ok.NOT_FOUND;case bx.ALREADY_EXISTS:return ok.ALREADY_EXISTS;case bx.PERMISSION_DENIED:return ok.PERMISSION_DENIED;case bx.FAILED_PRECONDITION:return ok.FAILED_PRECONDITION;case bx.ABORTED:return ok.ABORTED;case bx.OUT_OF_RANGE:return ok.OUT_OF_RANGE;case bx.UNIMPLEMENTED:return ok.UNIMPLEMENTED;case bx.DATA_LOSS:return ok.DATA_LOSS;default:return rk()}}(wx=bx||(bx={}))[wx.OK=0]="OK",wx[wx.CANCELLED=1]="CANCELLED",wx[wx.UNKNOWN=2]="UNKNOWN",wx[wx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wx[wx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wx[wx.NOT_FOUND=5]="NOT_FOUND",wx[wx.ALREADY_EXISTS=6]="ALREADY_EXISTS",wx[wx.PERMISSION_DENIED=7]="PERMISSION_DENIED",wx[wx.UNAUTHENTICATED=16]="UNAUTHENTICATED",wx[wx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wx[wx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wx[wx.ABORTED=10]="ABORTED",wx[wx.OUT_OF_RANGE=11]="OUT_OF_RANGE",wx[wx.UNIMPLEMENTED=12]="UNIMPLEMENTED",wx[wx.INTERNAL=13]="INTERNAL",wx[wx.UNAVAILABLE=14]="UNAVAILABLE",wx[wx.DATA_LOSS=15]="DATA_LOSS";var Tx=function(){function e(t,n){Dt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Lt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=Nt(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ib(this.inner,(function(t,n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=Nt(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ab(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Cx=new sw(Ck.comparator);function Ax(){return Cx}var Nx=new sw(Ck.comparator);function Ox(){for(var e=Nx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Px(e){var t=Nx;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Dx(){return Lx()}function Rx(){return Lx()}function Lx(){return new Tx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Mx=new sw(Ck.comparator),Fx=new fw(Ck.comparator);function Ux(){for(var e=Fx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var jx=new fw(kk);function Vx(){return jx}var Bx=function(){function e(t,n,r,i,a){Dt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Lt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,qx.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(_k.min(),i,Vx(),Ax(),Ux())}}]),e}(),qx=function(){function e(t,n,r,i,a){Dt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Lt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ux(),Ux(),Ux())}}]),e}(),zx=Lt((function e(t,n,r,i){Dt(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Wx=Lt((function e(t,n){Dt(this,e),this.targetId=t,this.Et=n})),Kx=Lt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Dt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Gx=function(){function e(){Dt(this,e),this.At=0,this.Rt=Yx(),this.bt=cb.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return Lt(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=Ux(),t=Ux(),n=Ux();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rk()}})),new qx(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=Yx()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),Hx=function(){function e(t){Dt(this,e),this.$t=t,this.Bt=new Map,this.Lt=Ax(),this.qt=Qx(),this.Ut=new fw(kk)}return Lt(e,[{key:"Kt",value:function(e){var t,n=Gt(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Gt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:rk()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(xw(i))if(0===n){var a=new Ck(i.path);this.Qt(t,a,mw.newNoDocument(a,_k.min()))}else ik(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&xw(a.target)){var o=new Ck(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,mw.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Ux();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Bx(e,n,this.Ut,this.Lt,r);return this.Lt=Ax(),this.qt=Qx(),this.Ut=new fw(kk),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new Gx,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new fw(kk),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Zg("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Gx),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function Qx(){return new sw(Ck.comparator)}function Yx(){return new sw(Ck.comparator)}var $x={asc:"ASCENDING",desc:"DESCENDING"},Jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xx={and:"AND",or:"OR"},Zx=Lt((function e(t,n){Dt(this,e),this.databaseId=t,this.wt=n}));function e_(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function t_(e,t){return e.wt?t.toBase64():t.toUint8Array()}function n_(e,t){return e_(e,t.toTimestamp())}function r_(e){return ik(!!e),_k.fromTimestamp(function(e){var t=fb(e);return new xk(t.seconds,t.nanos)}(e))}function i_(e,t){return function(e){return new Sk(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function a_(e){var t=Sk.fromString(e);return ik(C_(t)),t}function o_(e,t){return i_(e.databaseId,t.path)}function u_(e,t){var n=a_(t);if(n.get(1)!==e.databaseId.projectId)throw new uk(ok.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new uk(ok.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ck(f_(n))}function s_(e,t){return i_(e.databaseId,t)}function c_(e){var t=a_(e);return 4===t.length?Sk.emptyPath():f_(t)}function l_(e){return new Sk(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function f_(e){return ik(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function h_(e,t,n){return{name:o_(e,t),fields:n.value.mapValue.fields}}function d_(e,t,n){var r=u_(e,t.name),i=r_(t.updateTime),a=t.createTime?r_(t.createTime):_k.min(),o=new vw({mapValue:{fields:t.fields}}),u=mw.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function p_(e,t){return"found"in t?function(e,t){ik(!!t.found),t.found.name,t.found.updateTime;var n=u_(e,t.found.name),r=r_(t.found.updateTime),i=t.found.createTime?r_(t.found.createTime):_k.min(),a=new vw({mapValue:{fields:t.found.fields}});return mw.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){ik(!!t.missing),ik(!!t.readTime);var n=u_(e,t.missing),r=r_(t.readTime);return mw.newNoDocument(n,r)}(e,t):rk()}function v_(e,t){var n;if(t instanceof vx)n={update:h_(e,t.key,t.value)};else if(t instanceof xx)n={delete:o_(e,t.key)};else if(t instanceof yx)n={update:h_(e,t.key,t.data),updateMask:T_(t.fieldMask)};else{if(!(t instanceof _x))return rk();n={verify:o_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Jw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ex)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nx)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw rk()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:n_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:rk()}(e,t.precondition)),n}function y_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ux.updateTime(r_(e.updateTime)):void 0!==e.exists?ux.exists(e.exists):ux.none()}(t.currentDocument):ux.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ik("REQUEST_TIME"===t.setToServerValue),n=new Jw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Xw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ex(i)}else"increment"in t?n=new nx(e,t.increment):rk();var a=Tk.fromServerFormat(t.fieldPath);return new ax(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=u_(e,t.update.name),a=new vw({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new pw(t.map((function(e){return Tk.fromServerFormat(e)})))}(t.updateMask);return new yx(i,a,o,n,r)}return new vx(i,a,n,r)}if(t.delete){var u=u_(e,t.delete);return new xx(u,n)}if(t.verify){var s=u_(e,t.verify);return new _x(s,n)}return rk()}function m_(e,t){return{documents:[s_(e,t.path)]}}function g_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=s_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=s_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return I_(zb.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:E_(e.field),direction:w_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||ob(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function k_(e){var t=c_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ik(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=b_(e);return t instanceof zb&&Gb(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ow(S_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ob(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ub(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ub(n,t)}(n.endAt)),Tw(t,i,u,o,s,"F",c,l)}function b_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=S_(e.unaryFilter.field);return qb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=S_(e.unaryFilter.field);return qb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=S_(e.unaryFilter.field);return qb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=S_(e.unaryFilter.field);return qb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rk()}}(e):void 0!==e.fieldFilter?function(e){return qb.create(S_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rk()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return zb.create(e.compositeFilter.filters.map((function(e){return b_(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return rk()}}(e.compositeFilter.op))}(e):rk()}function w_(e){return $x[e]}function x_(e){return Jx[e]}function __(e){return Xx[e]}function E_(e){return{fieldPath:e.canonicalString()}}function S_(e){return Tk.fromServerFormat(e.fieldPath)}function I_(e){return e instanceof qb?function(e){if("=="===e.op){if(Nb(e.value))return{unaryFilter:{field:E_(e.field),op:"IS_NAN"}};if(Ab(e.value))return{unaryFilter:{field:E_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Nb(e.value))return{unaryFilter:{field:E_(e.field),op:"IS_NOT_NAN"}};if(Ab(e.value))return{unaryFilter:{field:E_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:E_(e.field),op:x_(e.op),value:e.value}}}(e):e instanceof zb?function(e){var t=e.getFilters().map((function(e){return I_(e)}));return 1===t.length?t[0]:{compositeFilter:{op:__(e.op),filters:t}}}(e):rk()}function T_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function C_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function A_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=O_(t)),t=N_(e.get(n),t);return O_(t)}function N_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function O_(e){return e+"\x01\x01"}function P_(e){var t=e.length;if(ik(t>=2),2===t)return ik("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Sk.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&rk(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:rk()}a=o+2}return new Sk(r)}var D_=["userId","batchId"];function R_(e,t){return[e,A_(t)]}function L_(e,t,n){return[e,A_(t),n]}var M_={},F_=["prefixPath","collectionGroup","readTime","documentId"],U_=["prefixPath","collectionGroup","documentId"],j_=["collectionGroup","readTime","prefixPath","documentId"],V_=["canonicalId","targetId"],B_=["targetId","path"],q_=["path","targetId"],z_=["collectionId","parent"],W_=["indexId","uid"],K_=["uid","sequenceNumber"],G_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],H_=["indexId","uid","orderedDocumentKey"],Q_=["userId","collectionPath","documentId"],Y_=["userId","collectionPath","largestBatchId"],$_=["userId","collectionGroup","largestBatchId"],J_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),X_=[].concat(Pt(J_),["documentOverlays"]),Z_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eE=Z_,tE=[].concat(eE,["indexConfiguration","indexState","indexEntries"]),nE=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return Lt(n)}(jk);function rE(e,t){var n=ak(e);return Wk.M(n.se,t)}var iE=function(){function e(t,n,r,i){Dt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Lt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&fx(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Gt(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=hx(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Gt(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=hx(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Rx();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=lx(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(_k.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ux())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&bk(this.mutations,e.mutations,(function(e,t){return px(e,t)}))&&bk(this.baseMutations,e.baseMutations,(function(e,t){return px(e,t)}))}}]),e}(),aE=function(){function e(t,n,r,i){Dt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Lt(e,null,[{key:"from",value:function(t,n,r){ik(t.mutations.length===r.length);for(var i=Mx,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),oE=function(){function e(t,n){Dt(this,e),this.largestBatchId=t,this.mutation=n}return Lt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),uE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_k.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_k.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:cb.EMPTY_BYTE_STRING;Dt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Lt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),sE=Lt((function e(t){Dt(this,e),this.ie=t}));function cE(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:o_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:e_(e,t.version.toTimestamp()),createTime:e_(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fE(t.version)};else{if(!t.isUnknownDocument())return rk();r.unknownDocument={path:n.path.toArray(),version:fE(t.version)}}return r}function lE(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fE(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hE(e){var t=new xk(e.seconds,e.nanoseconds);return _k.fromTimestamp(t)}function dE(e,t){for(var n=(t.baseMutations||[]).map((function(t){return y_(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return y_(e.ie,t)})),u=xk.fromMillis(t.localWriteTimeMs);return new iE(t.batchId,u,n,o)}function pE(e){var t,n,r=hE(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?hE(e.lastLimboFreeSnapshotVersion):_k.min();return void 0!==e.query.documents?(ik(1===(n=e.query).documents.length),t=Rw(Cw(c_(n.documents[0])))):t=function(e){return Rw(k_(e))}(e.query),new uE(t,e.targetId,0,e.lastListenSequenceNumber,r,i,cb.fromBase64String(e.resumeToken))}function vE(e,t){var n,r=fE(t.snapshotVersion),i=fE(t.lastLimboFreeSnapshotVersion);n=xw(t.target)?m_(e.ie,t.target):g_(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bw(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function yE(e){var t=k_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Mw(t,t.limit,"L"):t}function mE(e,t){return new oE(t.largestBatchId,y_(e.ie,t.overlayMutation))}function gE(e,t){var n=t.path.lastSegment();return[e,A_(t.path.popLast()),n]}function kE(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:fE(r.readTime),documentKey:A_(r.documentKey.path),largestBatchId:r.largestBatchId}}var bE=function(){function e(){Dt(this,e)}return Lt(e,[{key:"getBundleMetadata",value:function(e,t){return wE(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:hE(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return wE(e).put({bundleId:(n=t).id,createTime:fE(r_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return xE(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:yE(t.bundledQuery),readTime:hE(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return xE(e).put(function(e){return{name:e.name,readTime:fE(r_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function wE(e){return rE(e,"bundles")}function xE(e){return rE(e,"namedQueries")}var _E=function(){function e(t,n){Dt(this,e),this.yt=t,this.userId=n}return Lt(e,[{key:"getOverlay",value:function(e,t){var n=this;return EE(e).get(gE(this.userId,t)).next((function(e){return e?mE(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Dx();return qk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new oE(t,a);i.push(r.oe(e,o))})),qk.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(A_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(EE(e).Y("collectionPathOverlayIndex",i))})),qk.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Dx(),a=A_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return EE(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=mE(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Dx(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return EE(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=mE(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return EE(e).put(function(e,t,n){var r=Nt(gE(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:v_(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function EE(e){return rE(e,"documentOverlays")}var SE=function(){function e(){Dt(this,e)}return Lt(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(hb(e.integerValue));else if("doubleValue"in e){var n=hb(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),ub(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(db(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?Db(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):rk()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),Ck.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function IE(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function TE(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=IE(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}SE.Ie=new SE;var CE=function(){function e(){Dt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Lt(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=TE(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=TE(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),AE=function(){function e(t){Dt(this,e),this.$e=t}return Lt(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),NE=function(){function e(t){Dt(this,e),this.$e=t}return Lt(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),OE=function(){function e(){Dt(this,e),this.$e=new CE,this.Be=new AE(this.$e),this.Le=new NE(this.$e)}return Lt(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),PE=function(){function e(t,n,r,i){Dt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Lt(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function DE(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=RE(e.arrayValue,t.arrayValue))?n:0!==(n=RE(e.directionalValue,t.directionalValue))?n:Ck.comparator(e.documentKey,t.documentKey)}function RE(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var LE=function(){function e(t){Dt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=Gt(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Lt(e,[{key:"je",value:function(e){ik(e.collectionGroup===this.collectionId);var t=Nk(e);if(void 0!==t&&!this.We(t))return!1;for(var n=Ok(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=Gt(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function ME(e){var t,n;if(ik(e instanceof qb||e instanceof zb),e instanceof qb){if(e instanceof rw){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return qb.create(e.field,"==",t)})))||[];return zb.create(r,"or")}return e}var i=e.filters.map((function(e){return ME(e)}));return zb.create(i,e.op)}function FE(e){if(0===e.getFilters().length)return[];var t=BE(ME(e));return ik(VE(t)),UE(t)||jE(t)?[t]:t.getFilters()}function UE(e){return e instanceof qb}function jE(e){return e instanceof zb&&Gb(e)}function VE(e){return UE(e)||jE(e)||function(e){if(e instanceof zb&&Kb(e)){var t,n=Gt(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!UE(r)&&!jE(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function BE(e){if(ik(e instanceof qb||e instanceof zb),e instanceof qb)return e;if(1===e.filters.length)return BE(e.filters[0]);var t=e.filters.map((function(e){return BE(e)})),n=zb.create(t,e.op);return VE(n=WE(n))?n:(ik(n instanceof zb),ik(Wb(n)),ik(n.filters.length>1),n.filters.reduce((function(e,t){return qE(e,t)})))}function qE(e,t){var n;return ik(e instanceof qb||e instanceof zb),ik(t instanceof qb||t instanceof zb),n=e instanceof qb?t instanceof qb?function(e,t){return zb.create([e,t],"and")}(e,t):zE(e,t):t instanceof qb?zE(t,e):function(e,t){if(ik(e.filters.length>0&&t.filters.length>0),Wb(e)&&Wb(t))return $b(e,t.getFilters());var n=Kb(e)?e:t,r=Kb(e)?t:e,i=n.filters.map((function(e){return qE(e,r)}));return zb.create(i,"or")}(e,t),WE(n)}function zE(e,t){if(Wb(t))return $b(t,e.getFilters());var n=t.filters.map((function(t){return qE(e,t)}));return zb.create(n,"or")}function WE(e){if(ik(e instanceof qb||e instanceof zb),e instanceof qb)return e;var t=e.getFilters();if(1===t.length)return WE(t[0]);if(Hb(e))return e;var n=t.map((function(e){return WE(e)})),r=[];return n.forEach((function(t){t instanceof qb?r.push(t):t instanceof zb&&(t.op===e.op?r.push.apply(r,Pt(t.filters)):r.push(t))})),1===r.length?r[0]:zb.create(r,e.op)}var KE=function(){function e(){Dt(this,e),this.Je=new GE}return Lt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),qk.resolve()}},{key:"getCollectionParents",value:function(e,t){return qk.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return qk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return qk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return qk.resolve(null)}},{key:"getIndexType",value:function(e,t){return qk.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return qk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return qk.resolve(null)}},{key:"getMinOffset",value:function(e,t){return qk.resolve(Mk.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return qk.resolve(Mk.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return qk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return qk.resolve()}}]),e}(),GE=function(){function e(){Dt(this,e),this.index={}}return Lt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fw(Sk.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new fw(Sk.comparator)).toArray()}}]),e}(),HE=new Uint8Array(0),QE=function(){function e(t,n){Dt(this,e),this.user=t,this.databaseId=n,this.Ye=new GE,this.Xe=new Tx((function(e){return bw(e)}),(function(e,t){return ww(e,t)})),this.uid=t.uid||""}return Lt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:A_(i)};return YE(e).put(a)}return qk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[wk(t),""],!1,!0);return YE(e).W(r).next((function(e){var r,i=Gt(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(P_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=JE(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=XE(e);return a.next((function(e){o.put(kE(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=JE(e),r=XE(e),i=$E(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=$E(e),i=!0,a=new Map;return qk.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ux(),o=[];return qk.forEach(a,(function(i,a){var u;Zg("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(bw(t)));var s=function(e,t){var n=Nk(t);if(void 0===n)return null;var r,i=Gt(_w(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Gt(Ok(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Gt(_w(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Gt(Ok(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ew(e,o.fieldPath,e.startAt):Sw(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ub(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Gt(Ok(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Sw(e,o.fieldPath,e.endAt):Ew(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ub(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return qk.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Ck.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return qk.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:FE(zb.create(e.filters,"and")).map((function(t){return kw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.rn(t[h/c]):HE,f=u.on(e,s,n[h%c],r),d=u.un(e,s,i[h%c],a),p=o.map((function(t){return u.on(e,s,t,!0)}));l.push.apply(l,Pt(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"on",value:function(e,t,n,r){var i=new PE(e,Ck.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new PE(e,Ck.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new LE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Gt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return qk.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new fw(Tk.comparator),r=!1,i=Gt(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Gt(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=Gt(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new OE,i=Gt(Ok(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);SE.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new OE;return SE.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new OE;return SE.Ie.ue(Ib(this.databaseId,t),n.qe(function(e){var t=Ok(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new OE);var i,a=0,o=Gt(Ok(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Gt(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&Cb(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);SE.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=Pt(e),a=[],o=Gt(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Gt(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new OE;f.seed(l.Fe()),SE.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof qb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=JE(e),i=XE(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return qk.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Dk(t.sequenceNumber,new Mk(hE(t.readTime),new Ck(P_(t.documentKey)),t.largestBatchId)):Dk.empty(),r=e.fields.map((function(e){var t=Nt(e,2),n=t[0],r=t[1];return new Pk(Tk.fromServerFormat(n),r)}));return new Ak(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:kk(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=JE(e),a=XE(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return qk.forEach(t,(function(t){return a.put(kE(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return qk.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?qk.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),qk.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?qk.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return $E(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return $E(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=$E(e),i=new fw(DE);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new PE(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new fw(DE),r=this.cn(t,e);if(null==r)return n;var i=Nk(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Cb(a)){var o,u=Gt(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new PE(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new PE(t.indexId,e.key,HE,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;Zg("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=dw(a),s=dw(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=dw(o)):l?(i(u),u=dw(a)):(u=dw(a),s=dw(o))}}(r,i,DE,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),qk.waitFor(o)}},{key:"dn",value:function(e){var t=1;return XE(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return DE(e,t)})).filter((function(e,t,n){return!t||0!==DE(e,n[t-1])}));var r=[];r.push(e);var i,a=Gt(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=DE(o,e),s=DE(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,HE,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,HE,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return DE(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(ZE)}},{key:"getMinOffset",value:function(e,t){var n=this;return qk.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||rk()}))})).next(ZE)}}]),e}();function YE(e){return rE(e,"collectionParents")}function $E(e){return rE(e,"indexEntries")}function JE(e){return rE(e,"indexConfiguration")}function XE(e){return rE(e,"indexState")}function ZE(e){ik(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Fk(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mk(t.readTime,t.documentKey,n)}var eS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tS=function(){function e(t,n,r){Dt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Lt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function nS(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ik(1===u)})));var c,l=[],f=Gt(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=L_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return qk.waitFor(a).next((function(){return l}))}function rS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw rk();t=e.noDocument}return JSON.stringify(t).length}tS.DEFAULT_COLLECTION_PERCENTILE=10,tS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tS.DEFAULT=new tS(41943040,tS.DEFAULT_COLLECTION_PERCENTILE,tS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tS.DISABLED=new tS(-1,0,0);var iS=function(){function e(t,n,r,i){Dt(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Lt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oS(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=uS(e),o=oS(e);return o.add({}).next((function(u){ik("number"==typeof u);var s,c=new iE(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return v_(e.ie,t)})),i=n.mutations.map((function(t){return v_(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new fw((function(e,t){return kk(e.canonicalString(),t.canonicalString())})),d=Gt(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=L_(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,M_))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),qk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return oS(e).get(t).next((function(e){return e?(ik(e.userId===n.userId),dE(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?qk.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return oS(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ik(t.batchId>=r),a=dE(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return oS(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oS(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return dE(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=R_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return uS(e).Z({range:i},(function(r,i,o){var u=Nt(r,3),s=u[0],c=u[1],l=u[2],f=P_(c);if(s===n.userId&&t.path.isEqual(f))return oS(e).get(l).next((function(e){if(!e)throw rk();ik(e.userId===n.userId),a.push(dE(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fw(kk),i=[];return t.forEach((function(t){var a=R_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=uS(e).Z({range:o},(function(e,i,a){var o=Nt(e,3),u=o[0],s=o[1],c=o[2],l=P_(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),qk.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=R_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new fw(kk);return uS(e).Z({range:o},(function(e,t,a){var o=Nt(e,3),s=o[0],c=o[1],l=o[2],f=P_(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(oS(e).get(t).next((function(e){if(null===e)throw rk();ik(e.userId===n.userId),r.push(dE(n.yt,e))})))})),qk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return nS(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),qk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return qk.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return uS(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=P_(e[1]);i.push(a)}else r.done()})).next((function(){ik(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return aS(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return sS(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return ik(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function aS(e,t,n){var r=R_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return uS(e).Z({range:a,X:!0},(function(e,n,r){var a=Nt(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function oS(e){return rE(e,"mutations")}function uS(e){return rE(e,"documentMutations")}function sS(e){return rE(e,"mutationQueues")}var cS=function(){function e(t){Dt(this,e),this.bn=t}return Lt(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),lS=function(){function e(t,n){Dt(this,e),this.referenceDelegate=t,this.yt=n}return Lt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new cS(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return _k.fromTimestamp(new xk(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return fS(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return ik(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return fS(e).Z((function(o,u){var s=pE(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return qk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return fS(e).Z((function(e,n){var r=pE(n);t(r)}))}},{key:"Vn",value:function(e){return hS(e).get("targetGlobalKey").next((function(e){return ik(null!==e),e}))}},{key:"Sn",value:function(e,t){return hS(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return fS(e).put(vE(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=bw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fS(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=pE(n);ww(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=dS(e);return t.forEach((function(t){var o=A_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),qk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=dS(e);return qk.forEach(t,(function(t){var a=A_(t.path);return qk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=dS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dS(e),i=Ux();return r.Z({range:n,X:!0},(function(e,t,n){var r=P_(e[1]),a=new Ck(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=A_(t.path),r=IDBKeyRange.bound([n],[wk(n)],!1,!0),i=0;return dS(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=Nt(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return fS(e).get(t).next((function(e){return e?pE(e):null}))}}]),e}();function fS(e){return rE(e,"targets")}function hS(e){return rE(e,"targetGlobal")}function dS(e){return rE(e,"targetDocuments")}function pS(e,t){var n=Nt(e,2),r=n[0],i=n[1],a=Nt(t,2),o=a[0],u=a[1],s=kk(r,o);return 0===s?kk(i,u):s}var vS=function(){function e(t){Dt(this,e),this.xn=t,this.buffer=new fw(pS),this.Nn=0}return Lt(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();pS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),yS=function(){function e(t,n,r){Dt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return Lt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Zg("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Hk(e.t0)){e.next=12;break}Zg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Vk(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),mS=function(){function e(t,n){Dt(this,e),this.$n=t,this.params=n}return Lt(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return qk.resolve(eb.at);var r=new vS(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Zg("LruGarbageCollector","Garbage collection skipped; disabled"),qk.resolve(eS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Zg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),eS):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Zg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Xg()<=so.DEBUG&&Zg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),qk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),gS=function(){function e(t,n){Dt(this,e),this.db=t,this.garbageCollector=function(e,t){return new mS(e,t)}(this,n)}return Lt(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return kS(e,n)}},{key:"removeReference",value:function(e,t,n){return kS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return kS(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return sS(e).tt((function(r){return aS(e,r,t).next((function(e){return e&&(n=!0),qk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,_k.min()),dS(e).delete([0,A_(o.path)])}))}));i.push(s)}})).next((function(){return qk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return kS(e,t)}},{key:"Kn",value:function(e,t){var n,r=dS(e),i=eb.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=Nt(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==eb.at&&t(new Ck(P_(n)),i),i=s,n=u):i=eb.at})).next((function(){i!==eb.at&&t(new Ck(P_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function kS(e,t){return dS(e).put(function(e,t){return{targetId:0,path:A_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var bS=function(){function e(){Dt(this,e),this.changes=new Tx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Lt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,mw.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?qk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),wS=function(){function e(t){Dt(this,e),this.yt=t}return Lt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return SS(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return SS(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],lE(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=mw.newInvalidDocument(t);return SS(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(IS(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:mw.newInvalidDocument(t)};return SS(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(IS(t))},(function(e,i){r={document:n.jn(t,i),size:rS(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ax();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Ax(),i=new sw(Ck.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,rS(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return qk.resolve();var r=new fw(CS);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(IS(r.first()),IS(r.last())),a=r.getIterator(),o=a.getNext();return SS(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ck.fromSegments([].concat(Pt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&CS(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(IS(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),lE(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return SS(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Ax(),o=Gt(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.jn(Ck.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Vw(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Ax(),o=TS(t,n),u=TS(t,Mk.max());return SS(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Ck.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new _S(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ES(e).get("remoteDocumentGlobalKey").next((function(e){return ik(!!e),e}))}},{key:"Qn",value:function(e,t){return ES(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=d_(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ck.fromSegments(t.noDocument.path),i=hE(t.noDocument.readTime);n=mw.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return rk();var a=Ck.fromSegments(t.unknownDocument.path),o=hE(t.unknownDocument.version);n=mw.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new xk(e[0],e[1]);return _k.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(_k.min()))return n}return mw.newInvalidDocument(e)}}]),e}();function xS(e){return new wS(e)}var _S=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Tx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Lt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new fw((function(e,t){return kk(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=cE(t.Yn.yt,o);i=i.add(a.path.popLast());var c=rS(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=cE(t.Yn.yt,o.convertToNoDocument(_k.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),qk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(bS);function ES(e){return rE(e,"remoteDocumentGlobal")}function SS(e){return rE(e,"remoteDocumentsV14")}function IS(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function TS(e,t){var n=t.documentKey.path.toArray();return[e,lE(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function CS(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=kk(n[a],r[a]))return i;return(i=kk(n.length,r.length))||((i=kk(n[n.length-2],r[r.length-2]))||kk(n[n.length-1],r[r.length-1]))}var AS=Lt((function e(t,n){Dt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),NS=function(){function e(t,n,r,i){Dt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Lt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&hx(r.mutation,e,pw.empty(),xk.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ux()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ux(),i=Dx();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ox();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Dx();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ux())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ax(),a=Lx(),o=Lx();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof yx)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),hx(o.mutation,t,o.mutation.getFieldMask(),xk.now())):a.set(t.key,pw.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new AS(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Lx(),i=new sw((function(e,t){return e-t})),a=Ux();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Gt(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||pw.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Ux()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Rx();c.forEach((function(e){if(!a.has(e)){var n=lx(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return qk.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ck.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):qk.resolve(Dx()),u=-1,s=a;return o.next((function(t){return qk.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?qk.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Ux())})).next((function(e){return{batchId:u,changes:Px(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ck(t)).next((function(e){var t=Ox();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ox();return this.indexManager.getCollectionParents(e,i).next((function(o){return qk.forEach(o,(function(o){var u=function(e,t){return new Iw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,mw.newInvalidDocument(r)))}));var n=Ox();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&hx(a.mutation,i,pw.empty(),xk.now()),Vw(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),OS=function(){function e(t){Dt(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return Lt(e,[{key:"getBundleMetadata",value:function(e,t){return qk.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:r_(n.createTime)}),qk.resolve()}},{key:"getNamedQuery",value:function(e,t){return qk.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:yE(e.bundledQuery),readTime:r_(e.readTime)}}(t)),qk.resolve()}}]),e}(),PS=function(){function e(){Dt(this,e),this.overlays=new sw(Ck.comparator),this.es=new Map}return Lt(e,[{key:"getOverlay",value:function(e,t){return qk.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Dx();return qk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),qk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),qk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Dx(),i=t.length+1,a=new Ck(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return qk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new sw((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Dx(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Dx(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return qk.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new oE(t,n));var a=this.es.get(t);void 0===a&&(a=Ux(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),DS=function(){function e(){Dt(this,e),this.ns=new fw(RS.ss),this.rs=new fw(RS.os)}return Lt(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new RS(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new RS(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Ck(new Sk([])),r=new RS(n,e),i=new RS(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Ck(new Sk([])),n=new RS(t,e),r=new RS(t,e+1),i=Ux();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new RS(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),RS=function(){function e(t,n){Dt(this,e),this.key=t,this._s=n}return Lt(e,null,[{key:"ss",value:function(e,t){return Ck.comparator(e.key,t.key)||kk(e._s,t._s)}},{key:"os",value:function(e,t){return kk(e._s,t._s)||Ck.comparator(e.key,t.key)}}]),e}(),LS=function(){function e(t,n){Dt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new fw(RS.ss)}return Lt(e,[{key:"checkEmpty",value:function(e){return qk.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new iE(i,t,n,r);this.mutationQueue.push(a);var o,u=Gt(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new RS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return qk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return qk.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return qk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return qk.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return qk.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new RS(t,0),i=new RS(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),qk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fw(kk);return t.forEach((function(e){var t=new RS(e,0),i=new RS(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),qk.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ck.isDocumentKey(i)||(i=i.child(""));var a=new RS(new Ck(i),0),o=new fw(kk);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),qk.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ik(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return qk.forEach(t.mutations,(function(i){var a=new RS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new RS(t,0),r=this.gs.firstAfterOrEqual(n);return qk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,qk.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),MS=function(){function e(t){Dt(this,e),this.Es=t,this.docs=new sw(Ck.comparator),this.size=0}return Lt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return qk.resolve(n?n.document.mutableCopy():mw.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ax();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():mw.newInvalidDocument(e))})),qk.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Ax(),a=t.path,o=new Ck(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Fk(Lk(l),n)<=0||(r.has(l.key)||Vw(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return qk.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){rk()}},{key:"As",value:function(e,t){return qk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new FS(this)}},{key:"getSize",value:function(e){return qk.resolve(this.size)}}]),e}(),FS=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).Yn=e,r}return Lt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),qk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(bS),US=function(){function e(t){Dt(this,e),this.persistence=t,this.Rs=new Tx((function(e){return bw(e)}),ww),this.lastRemoteSnapshotVersion=_k.min(),this.highestTargetId=0,this.bs=0,this.Ps=new DS,this.targetCount=0,this.vs=cS.Pn()}return Lt(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),qk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return qk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return qk.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),qk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),qk.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new cS(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,qk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),qk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,qk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),qk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return qk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return qk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),qk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),qk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),qk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return qk.resolve(n)}},{key:"containsKey",value:function(e,t){return qk.resolve(this.Ps.containsKey(t))}}]),e}(),jS=function(){function e(t,n){var r=this;Dt(this,e),this.Vs={},this.overlays={},this.Ss=new eb(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new US(this),this.indexManager=new KE,this.remoteDocumentCache=new MS((function(e){return r.referenceDelegate.xs(e)})),this.yt=new sE(n),this.Ns=new OS(this.yt)}return Lt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new PS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new LS(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Zg("MemoryPersistence","Starting transaction:",e);var i=new VS(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return qk.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),VS=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Lt(n)}(jk),BS=function(){function e(t){Dt(this,e),this.persistence=t,this.Fs=new DS,this.$s=null}return Lt(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw rk()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),qk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),qk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),qk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qk.forEach(this.Ls,(function(r){var i=Ck.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,_k.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return qk.or([function(){return qk.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),qS=function(){function e(t){Dt(this,e),this.yt=t}return Lt(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new zk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D_,{unique:!0}),e.createObjectStore("documentMutations")}(e),zS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=qk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),zS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_k.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return qk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Q_});t.createIndex("collectionPathOverlayIndex",Y_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",$_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:F_});t.createIndex("documentKeyIndex",U_),t.createIndex("collectionGroupIndex",j_)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:W_}).createIndex("sequenceNumberIndex",K_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:G_}).createIndex("documentKeyIndex",H_,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=rS(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return qk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return qk.forEach(r,(function(r){ik(r.userId===n.userId);var i=dE(t.yt,r);return nS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Sk(n),o=function(e){return[0,A_(e)]}(a);r.push(t.get(o).next((function(n){return n?qk.resolve():function(n){return t.put({targetId:0,path:A_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return qk.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:z_});var n=t.store("collectionParents"),r=new GE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:A_(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Sk(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=Nt(e,3),r=(n[0],n[1]),a=(n[2],P_(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=pE(r),a=vE(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ck(Sk.fromString(i.document.name).popFirst(5)):i.noDocument?Ck.fromSegments(i.noDocument.path):i.unknownDocument?Ck.fromSegments(i.unknownDocument.path):rk()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return qk.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=xS(this.yt),a=new jS(BS.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ux();dE(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),qk.forEach(r,(function(e,r){var o=new Yg(r),u=_E.re(n.yt,o),s=a.getIndexManager(o),c=iS.re(o,n.yt,s,a.referenceDelegate);return new NS(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new nE(t,eb.at),e).next()}))}))}}]),e}();function zS(e){e.createObjectStore("targetDocuments",{keyPath:B_}).createIndex("documentTargetsIndex",q_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",V_,{unique:!0}),e.createObjectStore("targetGlobal")}var WS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",KS=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Dt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new uk(ok.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gS(this,i),this.ii=n+"main",this.yt=new sE(s),this.ri=new Wk(this.ii,this.Xs,new qS(this.yt)),this.Cs=new lS(this.referenceDelegate,this.yt),this.remoteDocumentCache=xS(this.yt),this.Ns=new bE,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&ek("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Lt(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new uk(ok.FAILED_PRECONDITION,WS);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new eb(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=fr(cr().mark((function n(r){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=fr(cr().mark((function t(n){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return HS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Hk(t))return Zg("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Zg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return GS(e).get("owner").next((function(e){return qk.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return HS(e).delete(this.clientId)}},{key:"yi",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i,a=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=rE(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return qk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Gt(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?qk.resolve(!0):GS(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new uk(ok.FAILED_PRECONDITION,WS);return!1}}return!(!t.networkEnabled||!t.inForeground)||HS(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Zg("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=fr(cr().mark((function e(){var t=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new nE(e,eb.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return HS(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return iS.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new QE(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return _E.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Zg("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?tE:14===i?eE:13===i?Z_:12===i?X_:11===i?J_:void rk();return this.ri.runTransaction(e,o,u,(function(i){return a=new nE(i,r.Ss?r.Ss.next():eb.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw ek("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new uk(ok.FAILED_PRECONDITION,Uk);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return GS(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new uk(ok.FAILED_PRECONDITION,WS)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return GS(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=GS(e);return n.get("owner").next((function(e){return t.mi(e)?(Zg("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):qk.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ek("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!ja()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Zg("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ek("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(C){ek("Failed to set zombie client id.",C)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(C){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Wk.C()}}]),e}();function GS(e){return rE(e,"owner")}function HS(e){return rE(e,"clientMetadata")}function QS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var YS=function(){function e(t,n,r,i){Dt(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Lt(e,null,[{key:"Ci",value:function(t,n){var r,i=Ux(),a=Ux(),o=Gt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),$S=function(){function e(){Dt(this,e),this.xi=!1}return Lt(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Aw(t))return qk.resolve(null);var r=Rw(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Mw(t,null,"F"),r=Rw(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ux.apply(void 0,Pt(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Mw(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Aw(t)||r.isEqual(_k.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Xg()<=so.DEBUG&&Zg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jw(t)),i.Bi(e,o,t,Rk(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new fw(qw(e));return t.forEach((function(t,r){Vw(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Xg()<=so.DEBUG&&Zg("QueryEngine","Using full collection scan to execute query:",jw(t)),this.Ni.getDocumentsMatchingQuery(e,t,Mk.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),JS=function(){function e(t,n,r,i){Dt(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new sw(kk),this.Ui=new Tx((function(e){return bw(e)}),ww),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Lt(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NS(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function XS(e,t,n,r){return new JS(e,t,n,r)}function ZS(e,t){return eI.apply(this,arguments)}function eI(){return eI=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ak(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Ux(),s=Gt(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Gt(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Gt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Gt(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}function tI(e,t){var n=ak(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=qk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ik(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ux(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function nI(e){var t=ak(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function rI(e,t){var n=ak(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(cb.EMPTY_BYTE_STRING,_k.min()).withLastLimboFreeSnapshotVersion(_k.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Ax(),s=Ux();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(iI(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(_k.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return qk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function iI(e,t,n){var r=Ux(),i=Ux();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ax();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(_k.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Zg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function aI(e,t){var n=ak(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function oI(e,t){var n=ak(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,qk.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new uE(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function uI(e,t,n){return sI.apply(this,arguments)}function sI(){return sI=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ak(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Hk(e.t1)){e.next=12;break}throw e.t1;case 12:Zg("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),sI.apply(this,arguments)}function cI(e,t,n){var r=ak(e),i=_k.min(),a=Ux();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ak(e),i=r.Ui.get(n);return void 0!==i?qk.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Rw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:_k.min(),n?a:Ux())})).next((function(e){return hI(r,Bw(t),e),{documents:e,Hi:a}}))}))}function lI(e,t){var n=ak(e),r=ak(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function fI(e,t){var n=ak(e),r=n.Ki.get(t)||_k.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Rk(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return hI(n,t,e),e}))}function hI(e,t,n){var r=e.Ki.get(t)||_k.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function dI(e,t,n,r){return pI.apply(this,arguments)}function pI(){return pI=fr(cr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ak(t),o=Ux(),u=Ax(),s=Gt(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,oI(a,function(e){return Rw(Cw(Sk.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return iI(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(e,t){return yI.apply(this,arguments)}function yI(){return yI=fr(cr().mark((function e(t,n){var r,i,a,o=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ux(),e.next=3,oI(t,Rw(yE(n.bundledQuery)));case 3:return i=e.sent,a=ak(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=r_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(cb.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function mI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function gI(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function kI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var bI=function(){function e(t,n,r,i){Dt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Lt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new uk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ek("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),wI=function(){function e(t,n,r){Dt(this,e),this.targetId=t,this.state=n,this.error=r}return Lt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new uk(i.error.code,i.error.message))),a?new e(t,i.state,r):(ek("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),xI=function(){function e(t,n){Dt(this,e),this.clientId=t,this.activeTargetIds=n}return Lt(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Vx(),o=0;i&&o<r.activeTargetIds.length;++o)i=sb(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ek("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),_I=function(){function e(t,n){Dt(this,e),this.clientId=t,this.onlineState=n}return Lt(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ek("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),EI=function(){function e(){Dt(this,e),this.activeTargetIds=Vx()}return Lt(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),SI=function(){function e(t,n,r,i,a){Dt(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new sw(kk),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=mI(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new EI),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Lt(e,[{key:"start",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Gt(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(mI(this.persistenceKey,i)))&&(o=xI.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Gt(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(kI(this.persistenceKey,e));if(n){var r=wI.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(kI(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Zg("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Zg("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Zg("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Zg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void ek("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(fr(cr().mark((function e(){var r,i,a,o,u,s,c;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=eb.at;if(null!=e)try{var n=JSON.parse(e);ik("number"==typeof n),t=n}catch(e){ek("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==eb.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new bI(this.currentUser,e,t,n),i=gI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=gI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=kI(this.persistenceKey,e),i=new wI(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return xI.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bI.Zi(new Yg(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return wI.Zi(r,t)}},{key:"yr",value:function(e){return _I.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Zg("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Vx();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),II=function(){function e(){Dt(this,e),this.Lr=new EI,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Lt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new EI,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),TI=function(){function e(){Dt(this,e)}return Lt(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),CI=function(){function e(){var t=this;Dt(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Lt(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Zg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Gt(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Zg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Gt(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),AI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},NI=function(){function e(t){Dt(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Lt(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),OI=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Lt(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Hg;o.setWithCredentials(!0),o.listenOnce(qg.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Bg.NO_ERROR:var t=o.getResponseJson();Zg("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Bg.TIMEOUT:Zg("Connection",'RPC "'+e+'" timed out'),a(new uk(ok.DEADLINE_EXCEEDED,"Request time out"));break;case Bg.HTTP_ERROR:var n=o.getStatus();if(Zg("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ok).indexOf(t)>=0?t:ok.UNKNOWN}(u.status);a(new uk(s,u.message))}else a(new uk(ok.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new uk(ok.UNAVAILABLE,"Connection failed."));break;default:rk()}}finally{Zg("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=jg(),a=Vg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Kg({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Zg("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new NI({Hr:function(e){l?Zg("Connection","Not sending because WebChannel is closed:",e):(c||(Zg("Connection","Opening WebChannel transport."),s.open(),c=!0),Zg("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Gg.EventType.OPEN,(function(){l||Zg("Connection","WebChannel transport opened.")})),h(s,Gg.EventType.CLOSE,(function(){l||(l=!0,Zg("Connection","WebChannel transport closed"),f.io())})),h(s,Gg.EventType.ERROR,(function(e){l||(l=!0,tk("Connection","WebChannel transport errored:",e),f.io(new uk(ok.UNAVAILABLE,"The operation could not be completed")))})),h(s,Gg.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ik(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Zg("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=bx[e];if(void 0!==t)return Ix(t)}(a),u=i.message;void 0===o&&(o=ok.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new uk(o,u)),s.close()}else Zg("Connection","WebChannel received:",n),f.ro(n)}})),h(a,zg.STAT_EVENT,(function(e){e.stat===Wg.PROXY?Zg("Connection","Detected buffering proxy"):e.stat===Wg.NOPROXY&&Zg("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Dt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Lt(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Zg("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Zg("RestConnection","Received: ",e),e}),(function(t){throw tk("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+$g,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=AI[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function PI(){return"undefined"!=typeof window?window:null}function DI(){return"undefined"!=typeof document?document:null}function RI(e){return new Zx(e,!0)}var LI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Dt(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Lt(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Zg("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),MI=function(){function e(t,n,r,i,a,o,u,s){Dt(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new LI(t,n)}return Lt(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===ok.RESOURCE_EXHAUSTED?(ek(n.toString()),ek("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===ok.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Nt(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new uk(ok.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Zg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Zg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),FI=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a,o,u){var s;return Dt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return Lt(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:rk()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(ik(void 0===t||"string"==typeof t),cb.fromBase64String(t||"")):(ik(void 0===t||t instanceof Uint8Array),cb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ok.UNKNOWN:Ix(e.code);return new uk(t,e.message||"")}(o);n=new Kx(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=u_(e,s.document.name),l=r_(s.document.updateTime),f=s.document.createTime?r_(s.document.createTime):_k.min(),h=new vw({mapValue:{fields:s.document.fields}}),d=mw.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new zx(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=u_(e,y.document),g=y.readTime?r_(y.readTime):_k.min(),k=mw.newNoDocument(m,g),b=y.removedTargetIds||[];n=new zx([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=u_(e,w.document),_=w.removedTargetIds||[];n=new zx([],_,x,null)}else{if(!("filter"in t))return rk();t.filter;var E=t.filter;E.targetId;var S=E.count||0,I=new Ex(S),T=E.targetId;n=new Wx(T,I)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return _k.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?_k.min():t.readTime?r_(t.readTime):_k.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=l_(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=xw(r)?{documents:m_(e,r)}:{query:g_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=t_(e,t.resumeToken):t.snapshotVersion.compareTo(_k.min())>0&&(n.readTime=e_(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rk()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=l_(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(MI),UI=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a,o,u){var s;return Dt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return Lt(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Nu(Ut(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(ik(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(ik(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?r_(e.updateTime):r_(t);return n.isEqual(_k.min())&&(n=r_(t)),new ox(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=r_(e.commitTime);return this.listener.Zo(n,t)}return ik(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=l_(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return v_(t.yt,e)}))};this.Bo(n)}}]),n}(MI),jI=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a){var o;return Dt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return Lt(n,[{key:"su",value:function(){if(this.nu)throw new uk(ok.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Nt(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ok.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new uk(ok.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=Nt(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ok.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new uk(ok.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Lt((function e(){Dt(this,e)}))}());var VI=function(){function e(t,n){Dt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Lt(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(ek(t),this.ou=!1):Zg("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),BI=Lt((function e(t,n,r,i,a){var o=this;Dt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=XI(o),!e.t0){e.next=5;break}return Zg("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ak(t))._u.add(4),e.next=4,WI(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,qI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new VI(r,i)}));function qI(e){return zI.apply(this,arguments)}function zI(){return zI=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!XI(t)){e.next=18;break}n=Gt(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),zI.apply(this,arguments)}function WI(e){return KI.apply(this,arguments)}function KI(){return KI=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Gt(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),KI.apply(this,arguments)}function GI(e,t){var n=ak(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),JI(n)?$I(n):TT(n).ko()&&QI(n,t))}function HI(e,t){var n=ak(e),r=TT(n);n.du.delete(t),r.ko()&&YI(n,t),0===n.du.size&&(r.ko()?r.Fo():XI(n)&&n.gu.set("Unknown"))}function QI(e,t){e.yu.Ot(t.targetId),TT(e).zo(t)}function YI(e,t){e.yu.Ot(t),TT(e).Ho(t)}function $I(e){e.yu=new Hx({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),TT(e).start(),e.gu.uu()}function JI(e){return XI(e)&&!TT(e).No()&&e.du.size>0}function XI(e){return 0===ak(e)._u.size}function ZI(e){e.yu=void 0}function eT(e){return tT.apply(this,arguments)}function tT(){return tT=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){QI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){return rT.apply(this,arguments)}function rT(){return rT=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ZI(t),JI(t)?(t.gu.hu(n),$I(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t,n){return aT.apply(this,arguments)}function aT(){return aT=fr(cr().mark((function e(t,n,r){var i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Kx&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Gt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Zg("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,oT(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof zx?t.yu.Kt(n):n instanceof Wx?t.yu.Jt(n):t.yu.jt(n),r.isEqual(_k.min())){e.next=29;break}return e.prev=14,e.next=17,nI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(cb.EMPTY_BYTE_STRING,n.snapshotVersion)),YI(e,t);var r=new uE(n.target,t,1,n.sequenceNumber);QI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Zg("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,oT(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),aT.apply(this,arguments)}function oT(e,t,n){return uT.apply(this,arguments)}function uT(){return uT=fr(cr().mark((function e(t,n,r){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hk(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,WI(t);case 5:t.gu.set("Offline"),r||(r=function(){return nI(t.localStore)}),t.asyncQueue.enqueueRetryable(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zg("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,qI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function sT(e,t){return t().catch((function(n){return oT(e,n,t)}))}function cT(e){return lT.apply(this,arguments)}function lT(){return lT=fr(cr().mark((function e(t){var n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ak(t),r=CT(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!fT(n)){e.next=19;break}return e.prev=3,e.next=6,aI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,hT(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,oT(n,e.t0);case 17:e.next=2;break;case 19:dT(n)&&pT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),lT.apply(this,arguments)}function fT(e){return XI(e)&&e.fu.length<10}function hT(e,t){e.fu.push(t);var n=CT(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function dT(e){return XI(e)&&!CT(e).No()&&e.fu.length>0}function pT(e){CT(e).start()}function vT(e){return yT.apply(this,arguments)}function yT(){return yT=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CT(t).eu();case 1:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function mT(e){return gT.apply(this,arguments)}function gT(){return gT=fr(cr().mark((function e(t){var n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=CT(t),r=Gt(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),gT.apply(this,arguments)}function kT(e,t,n){return bT.apply(this,arguments)}function bT(){return bT=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=aE.from(i,n,r),e.next=3,sT(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,cT(t);case 5:case"end":return e.stop()}}),e)}))),bT.apply(this,arguments)}function wT(e,t){return xT.apply(this,arguments)}function xT(){return xT=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&CT(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sx(i=n.code)||i===ok.ABORTED){e.next=7;break}return r=t.fu.shift(),CT(t).Mo(),e.next=5,sT(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,cT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:dT(t)&&pT(t);case 5:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function _T(e,t){return ET.apply(this,arguments)}function ET(){return ET=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ak(t)).asyncQueue.verifyOperationInProgress(),Zg("RemoteStore","RemoteStore received new credentials"),i=XI(r),r._u.add(3),e.next=6,WI(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,qI(r);case 12:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function ST(e,t){return IT.apply(this,arguments)}function IT(){return IT=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ak(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,qI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,WI(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function TT(e){return e.pu||(e.pu=function(e,t,n){var r=ak(e);return r.su(),new FI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:eT.bind(null,e),Zr:nT.bind(null,e),Wo:iT.bind(null,e)}),e.wu.push(function(){var t=fr(cr().mark((function t(n){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),JI(e)?$I(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:ZI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function CT(e){return e.Iu||(e.Iu=function(e,t,n){var r=ak(e);return r.su(),new UI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:vT.bind(null,e),Zr:wT.bind(null,e),tu:mT.bind(null,e),Zo:kT.bind(null,e)}),e.wu.push(function(){var t=fr(cr().mark((function t(n){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,cT(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Zg("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var AT=function(){function e(t,n,r,i,a){Dt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new sk,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Lt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new uk(ok.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function NT(e,t){if(ek("AsyncQueue","".concat(t,": ").concat(e)),Hk(e))return new uk(ok.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var OT=function(){function e(t){Dt(this,e),this.comparator=t?function(e,n){return t(e,n)||Ck.comparator(e.key,n.key)}:function(e,t){return Ck.comparator(e.key,t.key)},this.keyedMap=Ox(),this.sortedSet=new sw(this.comparator)}return Lt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),PT=function(){function e(){Dt(this,e),this.Tu=new sw(Ck.comparator)}return Lt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):rk():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),DT=function(){function e(t,n,r,i,a,o,u,s,c){Dt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Lt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,OT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),RT=Lt((function e(){Dt(this,e),this.Au=void 0,this.listeners=[]})),LT=Lt((function e(){Dt(this,e),this.queries=new Tx((function(e){return Uw(e)}),Fw),this.onlineState="Unknown",this.Ru=new Set}));function MT(e,t){return FT.apply(this,arguments)}function FT(){return FT=fr(cr().mark((function e(t,n){var r,i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ak(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new RT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=NT(e.t0,"Initialization of query '".concat(jw(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&qT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),FT.apply(this,arguments)}function UT(e,t){return jT.apply(this,arguments)}function jT(){return jT=fr(cr().mark((function e(t,n){var r,i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ak(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function VT(e,t){var n,r=ak(e),i=!1,a=Gt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Gt(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&qT(r)}function BT(e,t,n){var r=ak(e),i=r.queries.get(t);if(i){var a,o=Gt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function qT(e){e.Ru.forEach((function(e){e.next()}))}var zT=function(){function e(t,n,r){Dt(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Lt(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Gt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new DT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=DT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),WT=function(){function e(t,n){Dt(this,e),this.ku=t,this.byteLength=n}return Lt(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),KT=function(){function e(t){Dt(this,e),this.yt=t}return Lt(e,[{key:"Ji",value:function(e){return u_(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?d_(this.yt,e.document,!1):mw.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return r_(e)}}]),e}(),GT=function(){function e(t,n,r){Dt(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HT(t)}return Lt(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Sk.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new KT(this.yt),i=Gt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Gt(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Ux()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dI(this.localStore,new KT(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Gt(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,vI(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function HT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var QT=Lt((function e(t){Dt(this,e),this.key=t})),YT=Lt((function e(t){Dt(this,e),this.key=t})),$T=function(){function e(t,n){Dt(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ux(),this.mutatedKeys=Ux(),this.Gu=qw(t),this.Qu=new OT(this.Gu)}return Lt(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new PT,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Vw(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rk()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new DT(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new PT,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Ux(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new YT(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new QT(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=Ux();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return DT.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),JT=Lt((function e(t,n,r){Dt(this,e),this.query=t,this.targetId=n,this.view=r})),XT=Lt((function e(t){Dt(this,e),this.key=t,this.nc=!1})),ZT=function(){function e(t,n,r,i,a,o){Dt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Tx((function(e){return Uw(e)}),Fw),this.rc=new Map,this.oc=new Set,this.uc=new sw(Ck.comparator),this.cc=new Map,this.ac=new DS,this.hc={},this.lc=new Map,this.fc=cS.vn(),this.onlineState="Unknown",this.dc=void 0}return Lt(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function eC(e,t){return tC.apply(this,arguments)}function tC(){return tC=fr(cr().mark((function e(t,n){var r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=HC(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,oI(r.localStore,Rw(n));case 8:return u=e.sent,r.isPrimaryClient&&GI(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,nC(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(e,t,n,r,i){return rC.apply(this,arguments)}function rC(){return rC=fr(cr().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=fr(cr().mark((function e(t,n,r,i){var a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,cI(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(_C(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,cI(t.localStore,n,!0);case 3:return o=e.sent,u=new $T(n,o.Hi),s=u.Wu(o.documents),c=qx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),_C(t,r,l.Xu),f=new JT(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e,t){return aC.apply(this,arguments)}function aC(){return aC=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ak(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Fw(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,uI(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),HI(r.remoteStore,i.targetId),wC(r,i.targetId)})).catch(Vk);case 9:e.next=14;break;case 11:return wC(r,i.targetId),e.next=14,uI(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),aC.apply(this,arguments)}function oC(e,t,n){return uC.apply(this,arguments)}function uC(){return uC=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QC(t),e.prev=1,e.next=4,function(e,t){var n,r,i=ak(e),a=xk.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ux());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Ax(),s=Ux();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Gt(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=dx(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new yx(c.key,l,yw(l.value.mapValue),ux.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Px(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new sw(kk)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,IC(i,a.changes);case 9:return e.next=11,cT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=NT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),uC.apply(this,arguments)}function sC(e,t){return cC.apply(this,arguments)}function cC(){return cC=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ak(t),e.prev=1,e.next=4,rI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(ik(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?ik(n.nc):e.removedDocuments.size>0&&(ik(n.nc),n.nc=!1))})),e.next=8,IC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Vk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),cC.apply(this,arguments)}function lC(e,t,n){var r=ak(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ak(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Gt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&qT(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function fC(e,t,n){return hC.apply(this,arguments)}function hC(){return hC=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ak(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new sw(Ck.comparator)).insert(o,mw.newNoDocument(o,_k.min())),s=Ux().add(o),c=new Bx(_k.min(),new Map,new fw(kk),u,s),e.next=9,sC(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),SC(i),e.next=16;break;case 14:return e.next=16,uI(i.localStore,n,!1).then((function(){return wC(i,n,r)})).catch(Vk);case 16:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t){return pC.apply(this,arguments)}function pC(){return pC=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ak(t),i=n.batch.batchId,e.prev=1,e.next=4,tI(r.localStore,n);case 4:return a=e.sent,bC(r,i,null),kC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,IC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Vk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pC.apply(this,arguments)}function vC(e,t,n){return yC.apply(this,arguments)}function yC(){return yC=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ak(t),e.prev=1,e.next=4,function(e,t){var n=ak(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ik(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,bC(i,n,r),kC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,IC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Vk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),yC.apply(this,arguments)}function mC(e,t){return gC.apply(this,arguments)}function gC(){return gC=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return XI((r=ak(t)).remoteStore)||Zg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ak(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=NT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),gC.apply(this,arguments)}function kC(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function bC(e,t,n){var r=ak(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function wC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Gt(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||xC(e,t)}))}function xC(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(HI(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),SC(e))}function _C(e,t,n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof QT?(e.ac.addReference(a.key,t),EC(e,a)):a instanceof YT?(Zg("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||xC(e,a.key)):rk()}}catch(o){i.e(o)}finally{i.f()}}function EC(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Zg("SyncEngine","New document in limbo: "+n),e.oc.add(r),SC(e))}function SC(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Ck(Sk.fromString(t)),r=e.fc.next();e.cc.set(r,new XT(n)),e.uc=e.uc.insert(n,r),GI(e.remoteStore,new uE(Rw(Cw(n.path)),r,2,eb.at))}}function IC(e,t,n){return TC.apply(this,arguments)}function TC(){return TC=fr(cr().mark((function e(t,n,r){var i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ak(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=YS.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=fr(cr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ak(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return qk.forEach(n,(function(t){return qk.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return qk.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Hk(e.t0)){e.next=10;break}throw e.t0;case 10:Zg("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Gt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function CC(e,t){return AC.apply(this,arguments)}function AC(){return AC=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ak(t)).currentUser.isEqual(n)){e.next=11;break}return Zg("SyncEngine","User change. New user:",n.toKey()),e.next=5,ZS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new uk(ok.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,IC(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),AC.apply(this,arguments)}function NC(e,t){var n=ak(e),r=n.cc.get(t);if(r&&r.nc)return Ux().add(r.key);var i=Ux(),a=n.rc.get(t);if(!a)return i;var o,u=Gt(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function OC(e,t){return PC.apply(this,arguments)}function PC(){return PC=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ak(t),e.next=3,cI(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&_C(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),PC.apply(this,arguments)}function DC(e,t){return RC.apply(this,arguments)}function RC(){return RC=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ak(t),e.abrupt("return",fI(r.localStore,n).then((function(e){return IC(r,e)})));case 2:case"end":return e.stop()}}),e)}))),RC.apply(this,arguments)}function LC(e,t,n,r){return MC.apply(this,arguments)}function MC(){return MC=fr(cr().mark((function e(t,n,r,i){var a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ak(t),e.next=3,function(e,t){var n=ak(e),r=ak(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):qk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,cT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(bC(a,n,i||null),kC(a,n),function(e,t){ak(ak(e).mutationQueue).An(t)}(a.localStore,n)):rk();case 11:return e.next=13,IC(a,o);case 13:e.next=16;break;case 15:Zg("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),MC.apply(this,arguments)}function FC(e,t){return UC.apply(this,arguments)}function UC(){return UC=fr(cr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(HC(r=ak(t)),QC(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,jC(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,ST(r.remoteStore,!0);case 9:o=Gt(a);try{for(o.s();!(u=o.n()).done;)s=u.value,GI(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return wC(r,t),uI(r.localStore,t,!0)})),HI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,jC(r,c);case 21:return function(e){var t=ak(e);t.cc.forEach((function(e,n){HI(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new sw(Ck.comparator)}(r),r.dc=!1,e.next=25,ST(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),UC.apply(this,arguments)}function jC(e,t,n){return VC.apply(this,arguments)}function VC(){return VC=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=ak(t),a=[],o=[],u=Gt(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,oI(i.localStore,Rw(f[0]));case 11:l=e.sent,h=Gt(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,OC(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,lI(i.localStore,c);case 36:return m=e.sent,e.next=39,oI(i.localStore,m);case 39:return l=e.sent,e.next=42,nC(i,BC(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),VC.apply(this,arguments)}function BC(e){return Tw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qC(e){var t=ak(e);return ak(ak(t.localStore).persistence).vi()}function zC(e,t,n,r){return WC.apply(this,arguments)}function WC(){return WC=fr(cr().mark((function e(t,n,r,i){var a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ak(t)).dc){e.next=3;break}return e.abrupt("return",void Zg("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,fI(a.localStore,Bw(o[0]));case 10:return u=e.sent,s=Bx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,cb.EMPTY_BYTE_STRING),e.next=14,IC(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,uI(a.localStore,n,!0);case 17:return wC(a,n,i),e.abrupt("break",20);case 19:rk();case 20:case"end":return e.stop()}}),e)}))),WC.apply(this,arguments)}function KC(e,t,n){return GC.apply(this,arguments)}function GC(){return GC=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=HC(t)).dc){e.next=45;break}a=Gt(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return Zg("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,lI(i.localStore,u);case 12:return s=e.sent,e.next=15,oI(i.localStore,s);case 15:return c=e.sent,e.next=18,nC(i,BC(s),c.targetId,!1,c.resumeToken);case 18:GI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Gt(r),e.prev=30,h=cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,uI(i.localStore,t,!1).then((function(){HI(i.remoteStore,t),wC(i,t)})).catch(Vk);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),GC.apply(this,arguments)}function HC(e){var t=ak(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fC.bind(null,t),t.sc.Wo=VT.bind(null,t.eventManager),t.sc.wc=BT.bind(null,t.eventManager),t}function QC(e){var t=ak(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vC.bind(null,t),t}function YC(e,t,n){var r=ak(e);(function(){var e=fr(cr().mark((function e(t,n,r){var i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ak(e),r=r_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(HT(i)),a=new GT(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,IC(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=ak(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(tk("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var $C=function(){function e(){Dt(this,e),this.synchronizeTabs=!1}return Lt(e,[{key:"initialize",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=RI(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return XS(this.persistence,new $S,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new jS(BS.Bs,this.yt)}},{key:"gc",value:function(e){return new II}},{key:"terminate",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),JC=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Lt(n,[{key:"initialize",value:function(){var e=fr(cr().mark((function e(t){var r=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(Ut(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,QC(this.Ac.syncEngine);case 6:return e.next=8,cT(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return XS(this.persistence,new $S,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new yS(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Zk(t,this.persistence);return new Xk(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=QS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?tS.withCacheSize(this.cacheSizeBytes):tS.DEFAULT;return new KS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,PI(),DI(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new II}}]),n}($C),XC=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Lt(n,[{key:"initialize",value:function(){var e=fr(cr().mark((function e(t){var r,i=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(Ut(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof SI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:LC.bind(null,r),$r:zC.bind(null,r),Br:KC.bind(null,r),vi:qC.bind(null,r),Mr:DC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FC(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=PI();if(!SI.C(t))throw new uk(ok.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=QS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new SI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(JC),ZC=function(){function e(){Dt(this,e)}return Lt(e,[{key:"initialize",value:function(){var e=fr(cr().mark((function e(t,n){var r=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return lC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=CC.bind(null,this.syncEngine),e.next=12,ST(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new LT}},{key:"createDatastore",value:function(e){var t,n=RI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new OI(t));return function(e,t,n,r){return new jI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return lC(o.syncEngine,e,0)},a=CI.C()?new CI:new TI,new BI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ZT(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ak(t),Zg("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,WI(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function eA(e,t,n){if(!n)throw new uk(ok.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tA(e,t,n,r){if(!0===t&&!0===r)throw new uk(ok.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function nA(e){if(!Ck.isDocumentKey(e))throw new uk(ok.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rA(e){if(Ck.isDocumentKey(e))throw new uk(ok.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function iA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":rk()}function aA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new uk(ok.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iA(e);throw new uk(ok.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function oA(e,t){if(t<=0)throw new uk(ok.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var uA=new Map,sA=function(){function e(t){var n;if(Dt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new uk(ok.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new uk(ok.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,tA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Lt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),cA=function(){function e(t,n,r,i){Dt(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sA({}),this._settingsFrozen=!1}return Lt(e,[{key:"app",get:function(){if(!this._app)throw new uk(ok.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new uk(ok.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new lk;switch(e.type){case"gapi":var t=e.client;return new pk(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new uk(ok.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=uA.get(e);t&&(Zg("ComponentProvider","Removing Datastore"),uA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function lA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=aA(e,cA))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&tk("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Yg.MOCK_USER;else{o=Fa(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new uk(ok.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Yg(s)}e._authCredentials=new fk(new ck(o,u))}}var fA=function(){function e(t,n,r){Dt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Lt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new dA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),hA=function(){function e(t,n,r){Dt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Lt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),dA=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this,e,r,Cw(i)))._path=i,a.type="collection",a}return Lt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new fA(this.firestore,null,new Ck(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hA);function pA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ro(e),eA("collection","path",t),e instanceof cA){var a=Sk.fromString.apply(Sk,[t].concat(r));return rA(a),new dA(e,null,a)}if(!(e instanceof fA||e instanceof dA))throw new uk(ok.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Sk.fromString.apply(Sk,[t].concat(r)));return rA(o),new dA(e.firestore,null,o)}function vA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ro(e),1===arguments.length&&(t=gk.R()),eA("doc","path",t),e instanceof cA){var a=Sk.fromString.apply(Sk,[t].concat(r));return nA(a),new fA(e,null,new Ck(a))}if(!(e instanceof fA||e instanceof dA))throw new uk(ok.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Sk.fromString.apply(Sk,[t].concat(r)));return nA(o),new fA(e.firestore,e instanceof dA?e.converter:null,new Ck(o))}function yA(e,t){return e=ro(e),t=ro(t),(e instanceof fA||e instanceof dA)&&(t instanceof fA||t instanceof dA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function mA(e,t){return e=ro(e),t=ro(t),e instanceof hA&&t instanceof hA&&e.firestore===t.firestore&&Fw(e._query,t._query)&&e.converter===t.converter}function gA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return fr(cr().mark((function r(){var i;return cr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var kA=function(){function e(t){Dt(this,e),this.observer=t,this.muted=!1}return Lt(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):ek("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),bA=function(){function e(t,n){var r=this;Dt(this,e),this.Pc=t,this.yt=n,this.metadata=new sk,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return Lt(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new WT(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=fr(cr().mark((function e(){var t,n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=fr(cr().mark((function e(){var t,n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wA=function(){function e(t){Dt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Lt(e,[{key:"lookup",value:function(){var e=fr(cr().mark((function e(t){var n,r=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new uk(ok.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=fr(cr().mark((function e(t,n){var r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ak(t),i=l_(r.yt)+"/documents",a={documents:n.map((function(e){return o_(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=p_(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ik(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new xx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=fr(cr().mark((function e(){var t,n=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ck.fromPath(t);n.mutations.push(new _x(r,n.precondition(r)))})),e.next=7,function(){var e=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ak(t),i=l_(r.yt)+"/documents",a={writes:n.map((function(e){return v_(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rk();t=_k.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new uk(ok.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_k.min())?ux.exists(!1):ux.updateTime(t):ux.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_k.min()))throw new uk(ok.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ux.updateTime(t)}return ux.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),xA=function(){function e(t,n,r,i,a){Dt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new LI(this.asyncQueue,"transaction_retry")}return Lt(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(fr(cr().mark((function t(){var n,r;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new wA(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!ob(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Sx(t)}return!1}}]),e}(),_A=function(){function e(t,n,r,i){var a=this;Dt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yg.UNAUTHENTICATED,this.clientId=gk.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zg("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Zg("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Lt(e,[{key:"getConfiguration",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new uk(ok.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new sk;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(fr(cr().mark((function n(){var r;return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=NT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function EA(e,t){return SA.apply(this,arguments)}function SA(){return SA=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Zg("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ZS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),SA.apply(this,arguments)}function IA(e,t){return TA.apply(this,arguments)}function TA(){return TA=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,CA(t);case 3:return r=e.sent,Zg("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return _T(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return _T(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),TA.apply(this,arguments)}function CA(e){return AA.apply(this,arguments)}function AA(){return AA=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Zg("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,EA(t,new $C);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),AA.apply(this,arguments)}function NA(e){return OA.apply(this,arguments)}function OA(){return OA=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Zg("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,IA(t,new ZC);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),OA.apply(this,arguments)}function PA(e){return CA(e).then((function(e){return e.persistence}))}function DA(e){return CA(e).then((function(e){return e.localStore}))}function RA(e){return NA(e).then((function(e){return e.remoteStore}))}function LA(e){return NA(e).then((function(e){return e.syncEngine}))}function MA(e){return NA(e).then((function(e){return e.datastore}))}function FA(e){return UA.apply(this,arguments)}function UA(){return UA=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=eC.bind(null,n.syncEngine),r.onUnlisten=iC.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function jA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new sk;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function i(){return cr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kA({next:function(a){t.enqueueAndForget((function(){return UT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new uk(ok.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new uk(ok.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new zT(Cw(n.path),a,{includeMetadataChanges:!0,Nu:!0});return MT(e,o)},i.next=3,FA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function VA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new sk;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function i(){return cr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kA({next:function(n){t.enqueueAndForget((function(){return UT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new uk(ok.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new zT(n,a,{includeMetadataChanges:!0,Nu:!0});return MT(e,o)},i.next=3,FA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var BA=function(){function e(){var t=this;Dt(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new LI(this,"async_queue_retry"),this.Wc=function(){var e=DI();e&&Zg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=DI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return Lt(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=DI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new sk;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=fr(cr().mark((function e(){var t=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Hk(e.t0)){e.next=12;break}throw e.t0;case 12:Zg("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ek("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=AT.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&rk()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Gt(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Gt(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function qA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Gt(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var zA=function(){function e(){Dt(this,e),this._progressObserver={},this._taskCompletionResolver=new sk,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Lt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),WA=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a){var o;return Dt(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new BA,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Lt(n,[{key:"_terminate",value:function(){return this._firestoreClient||GA(this),this._firestoreClient.terminate()}}]),n}(cA);function KA(e){return e._firestoreClient||GA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function GA(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new tb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new _A(e._authCredentials,e._appCheckCredentials,e._queue,r)}function HA(e,t,n){var r=new sk;return e.asyncQueue.enqueue(fr(cr().mark((function i(){var a;return cr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,EA(e,n);case 3:return i.next=5,IA(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ok.FAILED_PRECONDITION||e.code===ok.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:tk("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function QA(e){return function(e){return e.asyncQueue.enqueue(fr(cr().mark((function t(){var n,r;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,PA(e);case 2:return n=t.sent,t.next=5,RA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ak(e);return t._u.delete(0),qI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(KA(e=aA(e,WA)))}function YA(e){return function(e){return e.asyncQueue.enqueue(fr(cr().mark((function t(){var n,r;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,PA(e);case 2:return n=t.sent,t.next=5,RA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ak(t))._u.add(0),e.next=4,WI(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(KA(e=aA(e,WA)))}function $A(e,t){var n=KA(e=aA(e,WA)),r=new zA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new bA(e,t)}(function(e,t){if(e instanceof Uint8Array)return gA(e,t);if(e instanceof ArrayBuffer)return gA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,RI(t));e.asyncQueue.enqueueAndForget(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=YC,t.next=3,LA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function JA(e,t){return function(e,t){return e.asyncQueue.enqueue(fr(cr().mark((function n(){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ak(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,DA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(KA(e=aA(e,WA)),t).then((function(t){return t?new hA(e,null,t.query):null}))}function XA(e){if(e._initialized||e._terminated)throw new uk(ok.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ZA=function(){function e(t){Dt(this,e),this._byteString=t}return Lt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(cb.fromBase64String(t))}catch(t){throw new uk(ok.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(cb.fromUint8Array(t))}}]),e}(),eN=function(){function e(){Dt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new uk(ok.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tk(n)}return Lt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var tN=Lt((function e(t){Dt(this,e),this._methodName=t})),nN=function(){function e(t,n){if(Dt(this,e),!isFinite(t)||t<-90||t>90)throw new uk(ok.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new uk(ok.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Lt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return kk(this._lat,e._lat)||kk(this._long,e._long)}}]),e}(),rN=/^__.*__$/,iN=function(){function e(t,n,r){Dt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Lt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new yx(e,this.data,this.fieldMask,t,this.fieldTransforms):new vx(e,this.data,t,this.fieldTransforms)}}]),e}(),aN=function(){function e(t,n,r){Dt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Lt(e,[{key:"toMutation",value:function(e,t){return new yx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function oN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rk()}}var uN=function(){function e(t,n,r,i,a,o){Dt(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Lt(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return TN(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(oN(this.sa)&&rN.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),sN=function(){function e(t,n,r){Dt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||RI(t)}return Lt(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uN({sa:e,methodName:t,fa:n,path:Tk.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function cN(e){var t=e._freezeSettings(),n=RI(e._databaseId);return new sN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);_N("Data must be an object, but it was:",o,r);var u,s,c=wN(r,o);if(a.merge)u=new pw(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Gt(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=EN(t,d,n);if(!o.contains(p))throw new uk(ok.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));CN(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new pw(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new iN(new vw(c),u,s)}var fN=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tN);function hN(e,t,n){return new uN({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var dN=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_toFieldTransform",value:function(e){return new ax(e.path,new Jw)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tN),pN=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e))._a=r,i}return Lt(n,[{key:"_toFieldTransform",value:function(e){var t=hN(this,e,!0),n=this._a.map((function(e){return bN(e,t)})),r=new Xw(n);return new ax(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tN),vN=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e))._a=r,i}return Lt(n,[{key:"_toFieldTransform",value:function(e){var t=hN(this,e,!0),n=this._a.map((function(e){return bN(e,t)})),r=new ex(n);return new ax(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tN),yN=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e)).wa=r,i}return Lt(n,[{key:"_toFieldTransform",value:function(e){var t=new nx(e.yt,Gw(e.yt,this.wa));return new ax(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tN);function mN(e,t,n,r){var i=e.da(1,t,n);_N("Data must be an object, but it was:",i,r);var a=[],o=vw.empty();ib(r,(function(e,r){var u=IN(t,e,n);r=ro(r);var s=i.ca(u);if(r instanceof fN)a.push(u);else{var c=bN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new pw(a);return new aN(o,u,i.fieldTransforms)}function gN(e,t,n,r,i,a){var o=e.da(1,t,n),u=[EN(t,r,n)],s=[i];if(a.length%2!=0)throw new uk(ok.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(EN(t,a[c])),s.push(a[c+1]);for(var l=[],f=vw.empty(),h=u.length-1;h>=0;--h)if(!CN(l,u[h])){var d=u[h],p=s[h];p=ro(p);var v=o.ca(d);if(p instanceof fN)l.push(d);else{var y=bN(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new pw(l);return new aN(f,m,o.fieldTransforms)}function kN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bN(n,e.da(r?4:3,t))}function bN(e,t){if(xN(e=ro(e)))return _N("Unsupported field value:",t,e),wN(e,t);if(e instanceof tN)return function(e,t){if(!oN(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Gt(e);try{for(a.s();!(n=a.n()).done;){var o=bN(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ro(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gw(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=xk.fromDate(e);return{timestampValue:e_(t.yt,n)}}if(e instanceof xk){var r=new xk(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:e_(t.yt,r)}}if(e instanceof nN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZA)return{bytesValue:t_(t.yt,e._byteString)};if(e instanceof fA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:i_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(iA(e)))}(e,t)}function wN(e,t){var n={};return ab(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ib(e,(function(e,r){var i=bN(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xk||e instanceof nN||e instanceof ZA||e instanceof fA||e instanceof tN)}function _N(e,t,n){if(!xN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=iA(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function EN(e,t,n){if((t=ro(t))instanceof eN)return t._internalPath;if("string"==typeof t)return IN(e,t);throw TN("Field path arguments must be of type string or ",e,!1,void 0,n)}var SN=new RegExp("[~\\*/\\[\\]]");function IN(e,t,n){if(t.search(SN)>=0)throw TN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return zt(eN,Pt(t.split(".")))._internalPath}catch(L){throw TN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function TN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new uk(ok.INVALID_ARGUMENT,u+e+s)}function CN(e,t){return e.some((function(e){return e.isEqual(t)}))}var AN=function(){function e(t,n,r,i,a){Dt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Lt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new fA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new NN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ON("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),NN=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(){return Nu(Ut(n.prototype),"data",this).call(this)}}]),n}(AN);function ON(e,t){return"string"==typeof t?IN(e,t):t instanceof eN?t._internalPath:t._delegate._internalPath}function PN(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new uk(ok.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var DN=Lt((function e(){Dt(this,e)})),RN=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Lt(n)}(DN);function LN(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof DN&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof FN})).length,n=e.filter((function(e){return e instanceof MN})).length;if(t>1||t>0&&n>0)throw new uk(ok.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Gt(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var MN=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Lt(n,[{key:"_apply",value:function(e){var t=this._parse(e);return YN(e._query,t),new hA(e.firestore,e.converter,Lw(e._query,t))}},{key:"_parse",value:function(e){var t=cN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new uk(ok.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){QN(o,a);var s,c=[],l=Gt(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(HN(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=HN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||QN(o,a),u=kN(n,"where",o,"in"===a||"not-in"===a);return qb.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(RN);var FN=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Lt(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:zb.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Gt(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;YN(r,a),r=Lw(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new hA(e.firestore,e.converter,Lw(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(DN);var UN=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Lt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new uk(ok.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new uk(ok.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ow(t,n);return function(e,t){if(null===Nw(e)){var n=Ow(e);null!==n&&$N(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new hA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Iw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(RN);var jN=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Lt(n,[{key:"_apply",value:function(e){return new hA(e.firestore,e.converter,Mw(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(RN);var VN=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Lt(n,[{key:"_apply",value:function(e){var t=GN(e,this.type,this._docOrFields,this._inclusive);return new hA(e.firestore,e.converter,function(e,t){return new Iw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(RN);function BN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return VN._create("startAt",t,!0)}function qN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return VN._create("startAfter",t,!1)}var zN=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Lt(n,[{key:"_apply",value:function(e){var t=GN(e,this.type,this._docOrFields,this._inclusive);return new hA(e.firestore,e.converter,function(e,t){return new Iw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(RN);function WN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zN._create("endBefore",t,!1)}function KN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zN._create("endAt",t,!0)}function GN(e,t,n,r){if(n[0]=ro(n[0]),n[0]instanceof AN)return function(e,t,n,r,i){if(!r)throw new uk(ok.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Gt(Dw(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ib(t,r.key));else{var c=r.data.field(s.field);if(pb(c))throw new uk(ok.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new uk(ok.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Ub(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=cN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new uk(ok.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new uk(ok.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Pw(e)&&-1!==c.indexOf("/"))throw new uk(ok.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Sk.fromString(c));if(!Ck.isDocumentKey(l))throw new uk(ok.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ck(l);u.push(Ib(t,f))}else{var h=kN(n,r,c);u.push(h)}}return new Ub(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function HN(e,t,n){if("string"==typeof(n=ro(n))){if(""===n)throw new uk(ok.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pw(t)&&-1!==n.indexOf("/"))throw new uk(ok.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Sk.fromString(n));if(!Ck.isDocumentKey(r))throw new uk(ok.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ib(e,new Ck(r))}if(n instanceof fA)return Ib(e,n._key);throw new uk(ok.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(iA(n),"."))}function QN(e,t){if(!Array.isArray(e)||0===e.length)throw new uk(ok.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new uk(ok.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function YN(e,t){if(t.isInequality()){var n=Ow(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new uk(ok.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Nw(e);null!==i&&$N(e,r,i)}var a=function(e,t){var n,r=Gt(e);try{for(r.s();!(n=r.n()).done;){var i,a=Gt(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new uk(ok.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new uk(ok.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function $N(e,t,n){if(!n.isEqual(t))throw new uk(ok.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var JN=function(){function e(){Dt(this,e)}return Lt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(kb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(db(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rk()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ib(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new nN(hb(e.latitude),hb(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=vb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=fb(e);return new xk(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Sk.fromString(e);ik(C_(n));var r=new nb(n.get(1),n.get(3)),i=new Ck(n.popFirst(5));return r.isEqual(t)||ek("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function XN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ZN=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).firestore=e,r}return Lt(n,[{key:"convertBytes",value:function(e){return new ZA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fA(this.firestore,null,t)}}]),n}(JN),eO=function(){function e(t,n){Dt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Lt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),tO=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a,o,u){var s;return Dt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Lt(n,[{key:"exists",value:function(){return Nu(Ut(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new nO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ON("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(AN),nO=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nu(Ut(n.prototype),"data",this).call(this,e)}}]),n}(tO),rO=function(){function e(t,n,r,i){Dt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new eO(i.hasPendingWrites,i.fromCache),this.query=r}return Lt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new nO(n._firestore,n._userDataWriter,r.key,r,new eO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new uk(ok.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new nO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new eO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new nO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new eO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:iO(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function iO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rk()}}function aO(e,t){return e instanceof tO&&t instanceof tO?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof rO&&t instanceof rO&&e._firestore===t._firestore&&mA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var oO=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).firestore=e,r}return Lt(n,[{key:"convertBytes",value:function(e){return new ZA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fA(this.firestore,null,t)}}]),n}(JN);function uO(e){e=aA(e,fA);var t=aA(e.firestore,WA),n=KA(t),r=new oO(t);return function(e,t){var n=new sk;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function r(){return cr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ak(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new uk(ok.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=NT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,DA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new tO(t,r,e._key,n,new eO(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function sO(e){e=aA(e,hA);var t=aA(e.firestore,WA),n=KA(t),r=new oO(t);return function(e,t){var n=new sk;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function r(){return cr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=fr(cr().mark((function e(t,n,r){var i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cI(t,n,!0);case 3:i=e.sent,a=new $T(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=NT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,DA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new rO(t,r,e,n)}))}function cO(e,t,n){e=aA(e,fA);var r=aA(e.firestore,WA),i=XN(e.converter,t,n);return dO(r,[lN(cN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ux.none())])}function lO(e,t,n){e=aA(e,fA);for(var r=aA(e.firestore,WA),i=cN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return dO(r,[("string"==typeof(t=ro(t))||t instanceof eN?gN(i,"updateDoc",e._key,t,n,o):mN(i,"updateDoc",e._key,t)).toMutation(e._key,ux.exists(!0))])}function fO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ro(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||qA(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(qA(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof fA)l=aA(e.firestore,WA),f=Cw(e._key.path),c={next:function(t){n[s]&&n[s](pO(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=aA(e,hA);l=aA(p.firestore,WA),f=p._query;var v=new oO(l);c={next:function(e){n[s]&&n[s](new rO(l,v,p,e))},error:n[s+1],complete:n[s+2]},PN(e._query)}return function(e,t,n,r){var i=new kA(r),a=new zT(t,i,n);return e.asyncQueue.enqueueAndForget(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=MT,t.next=3,FA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=UT,t.next=3,FA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KA(l),f,h,c)}function hO(e,t){return function(e,t){var n=new kA(t);return e.asyncQueue.enqueueAndForget(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ak(e).Ru.add(t),t.next()},t.next=3,FA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ak(e).Ru.delete(t)},t.next=3,FA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KA(e=aA(e,WA)),qA(t)?t:{next:t})}function dO(e,t){return function(e,t){var n=new sk;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function r(){return cr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=oC,r.next=3,LA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(KA(e),t)}function pO(e,t,n){var r=n.docs.get(t._key),i=new oO(e);return new tO(e,i,t._key,r,new eO(n.hasPendingWrites,n.fromCache),t.converter)}var vO={maxAttempts:5},yO=function(){function e(t,n){Dt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cN(t)}return Lt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=mO(e,this._firestore),i=XN(r.converter,t,n),a=lN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ux.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=mO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ro(t))||t instanceof eN?gN(this._dataReader,"WriteBatch.update",i._key,t,n,o):mN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ux.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=mO(e,this._firestore);return this._mutations=this._mutations.concat(new xx(t._key,ux.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new uk(ok.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function mO(e,t){if((e=ro(e)).firestore!==t)throw new uk(ok.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var gO=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,r))._firestore=e,i}return Lt(n,[{key:"get",value:function(e){var t=this,r=mO(e,this._firestore),i=new oO(this._firestore);return Nu(Ut(n.prototype),"get",this).call(this,e).then((function(e){return new tO(t._firestore,i,r._key,e._document,new eO(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Dt(this,e),this._firestore=t,this._transaction=n,this._dataReader=cN(t)}return Lt(e,[{key:"get",value:function(e){var t=this,n=mO(e,this._firestore),r=new ZN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return rk();var i=e[0];if(i.isFoundDocument())return new AN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new AN(t._firestore,r,n._key,null,n.converter);throw rk()}))}},{key:"set",value:function(e,t,n){var r=mO(e,this._firestore),i=XN(r.converter,t,n),a=lN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=mO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ro(t))||t instanceof eN?gN(this._dataReader,"Transaction.update",i._key,t,n,o):mN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=mO(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function kO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pN("arrayUnion",t)}function bO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){$g=e}(Xo),Ko(new io("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new WA(new hk(e.getProvider("auth-internal")),new yk(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new uk(ok.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nb(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),iu(Qg,"3.8.3",e),iu(Qg,"3.8.3","esm2017")}();function wO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new uk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function xO(){if("undefined"===typeof Uint8Array)throw new uk("unimplemented","Uint8Arrays are not available in this environment.")}function _O(){if("undefined"==typeof atob)throw new uk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var EO=function(){function e(t){Dt(this,e),this._delegate=t}return Lt(e,[{key:"toBase64",value:function(){return _O(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return xO(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return _O(),new e(ZA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return xO(),new e(ZA.fromUint8Array(t))}}]),e}();function SO(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Gt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var IO=function(){function e(){Dt(this,e)}return Lt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){XA(e=aA(e,WA));var n=KA(e),r=e._freezeSettings(),i=new ZC;return HA(n,i,new JC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){XA(e=aA(e,WA));var t=KA(e),n=e._freezeSettings(),r=new ZC;return HA(t,r,new XC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new uk(ok.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new sk;return e._queue.enqueueAndForgetEvenWhileRestricted(fr(cr().mark((function n(){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wk.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Wk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(QS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),TO=function(){function e(t,n,r){var i=this;Dt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof nb||(this._appCompat=t)}return Lt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||tk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};lA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return QA(this._delegate)}},{key:"disableNetwork",value:function(){return YA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&tA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new sk;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function n(){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=mC,n.next=3,LA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(KA(e=aA(e,WA)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return hO(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new uk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new BO(this,pA(this._delegate,e))}catch(t){throw DO(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new PO(this,vA(this._delegate,e))}catch(t){throw DO(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new UO(this,function(e,t){if(e=aA(e,cA),eA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new uk(ok.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new hA(e,null,function(e){return new Iw(Sk.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw DO(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=aA(e,WA);var r=Object.assign(Object.assign({},vO),n);return function(e){if(e.maxAttempts<1)throw new uk(ok.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new sk;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function i(){var a;return cr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,MA(e);case 2:a=i.sent,new xA(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(KA(e),(function(n){return t(new gO(e,n))}),r)}(this._delegate,(function(n){return e(new AO(t,n))}))}},{key:"batch",value:function(){var e=this;return KA(this._delegate),new NO(new yO(this._delegate,(function(t){return dO(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return $A(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return JA(this._delegate,e).then((function(e){return e?new UO(t,e):null}))}}]),e}(),CO=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).firestore=e,r}return Lt(n,[{key:"convertBytes",value:function(e){return new EO(new ZA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return PO.forKey(t,this.firestore,null)}}]),n}(JN);var AO=function(){function e(t,n){Dt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new CO(t)}return Lt(e,[{key:"get",value:function(e){var t=this,n=qO(e);return this._delegate.get(n).then((function(e){return new MO(t._firestore,new tO(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=qO(e);return n?(wO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=qO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=qO(e);return this._delegate.delete(t),this}}]),e}(),NO=function(){function e(t){Dt(this,e),this._delegate=t}return Lt(e,[{key:"set",value:function(e,t,n){var r=qO(e);return n?(wO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=qO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=qO(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),OO=function(){function e(t,n,r){Dt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Lt(e,[{key:"fromFirestore",value:function(e,t){var n=new nO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new FO(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new CO(t),n),i.set(n,a)),a}}]),e}();OO.INSTANCES=new WeakMap;var PO=function(){function e(t,n){Dt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new CO(t)}return Lt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new BO(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new BO(this.firestore,pA(this._delegate,e))}catch(t){throw DO(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ro(e))instanceof fA&&yA(this._delegate,e)}},{key:"set",value:function(e,t){t=wO("DocumentReference.set",t);try{return t?cO(this._delegate,e,t):cO(this._delegate,e)}catch(n){throw DO(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?lO(this._delegate,e):lO.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw DO(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return dO(aA(e.firestore,WA),[new xx(e._key,ux.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=RO(n),a=LO(n,(function(t){return new MO(e.firestore,new tO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return fO(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aA(e,fA);var t=aA(e.firestore,WA);return jA(KA(t),e._key,{source:"server"}).then((function(n){return pO(t,e,n)}))}(this._delegate):function(e){e=aA(e,fA);var t=aA(e.firestore,WA);return jA(KA(t),e._key).then((function(n){return pO(t,e,n)}))}(this._delegate),t.then((function(e){return new MO(n.firestore,new tO(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(OO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new uk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new fA(n._delegate,r,new Ck(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new fA(n._delegate,r,t))}}]),e}();function DO(e,t,n){return e.message=e.message.replace(t,n),e}function RO(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!SO(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function LO(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=SO(e[0])?e[0]:SO(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var MO=function(){function e(t,n){Dt(this,e),this._firestore=t,this._delegate=n}return Lt(e,[{key:"ref",get:function(){return new PO(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return aO(this._delegate,e._delegate)}}]),e}(),FO=function(e){Ft(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||rk()}(void 0!==t),t}}]),n}(MO),UO=function(){function e(t,n){Dt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new CO(t)}return Lt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,LN(this._delegate,function(e,t,n){var r=t,i=ON("where",e);return MN._create(i,r,n)}(t,n,r)))}catch(i){throw DO(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,LN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=ON("orderBy",e);return UN._create(r,n)}(t,n)))}catch(r){throw DO(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,LN(this._delegate,function(e){return oA("limit",e),jN._create("limit",e,"F")}(t)))}catch(n){throw DO(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,LN(this._delegate,function(e){return oA("limitToLast",e),jN._create("limitToLast",e,"L")}(t)))}catch(n){throw DO(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,LN(this._delegate,BN.apply(void 0,arguments)))}catch(t){throw DO(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,LN(this._delegate,qN.apply(void 0,arguments)))}catch(t){throw DO(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,LN(this._delegate,WN.apply(void 0,arguments)))}catch(t){throw DO(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,LN(this._delegate,KN.apply(void 0,arguments)))}catch(t){throw DO(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return mA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?sO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aA(e,hA);var t=aA(e.firestore,WA),n=KA(t),r=new oO(t);return VA(n,e._query,{source:"server"}).then((function(n){return new rO(t,r,e,n)}))}(this._delegate):function(e){e=aA(e,hA);var t=aA(e.firestore,WA),n=KA(t),r=new oO(t);return PN(e._query),VA(n,e._query).then((function(n){return new rO(t,r,e,n)}))}(this._delegate),t.then((function(e){return new VO(n.firestore,new rO(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=RO(n),a=LO(n,(function(t){return new VO(e.firestore,new rO(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fO(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(OO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),jO=function(){function e(t,n){Dt(this,e),this._firestore=t,this._delegate=n}return Lt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new FO(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),VO=function(){function e(t,n){Dt(this,e),this._firestore=t,this._delegate=n}return Lt(e,[{key:"query",get:function(){return new UO(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new FO(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new jO(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new FO(n._firestore,r))}))}},{key:"isEqual",value:function(e){return aO(this._delegate,e._delegate)}}]),e}(),BO=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Lt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new PO(this.firestore,e):null}},{key:"doc",value:function(e){try{return new PO(this.firestore,void 0===e?vA(this._delegate):vA(this._delegate,e))}catch(t){throw DO(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=aA(e.firestore,WA),r=vA(e),i=XN(e.converter,t);return dO(n,[lN(cN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ux.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new PO(t.firestore,e)}))}},{key:"isEqual",value:function(e){return yA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(OO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(UO);function qO(e){return aA(e,fA)}var zO=function(){function e(){Dt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=zt(eN,n)}return Lt(e,[{key:"isEqual",value:function(e){return(e=ro(e))instanceof eN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Tk.keyField().canonicalString())}}]),e}(),WO=function(){function e(t){Dt(this,e),this._delegate=t}return Lt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new dN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new fN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=kO.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=bO.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new yN("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),KO={Firestore:TO,GeoPoint:nN,Timestamp:xk,Blob:EO,Transaction:AO,WriteBatch:NO,DocumentReference:PO,DocumentSnapshot:MO,Query:UO,QueryDocumentSnapshot:FO,QuerySnapshot:VO,CollectionReference:BO,FieldPath:zO,FieldValue:WO,setLogLevel:function(e){!function(e){Jg.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new io("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},KO)))}(e,(function(e,t){return new TO(e,t,new IO)})),e.registerVersion("@firebase/firestore-compat","0.3.3")}(Cu);Cu.initializeApp({apiKey:"AIzaSyCmtsWJATm44UMusH-n_ugpeksHwZSIpqk",authDomain:"netflix-clone-6c7d8.firebaseapp.com",projectId:"netflix-clone-6c7d8",storageBucket:"netflix-clone-6c7d8.appspot.com",messagingSenderId:"324562696664",appId:"1:324562696664:web:342c809d8be017ec7ddaad"}).firestore();var GO=Cu.auth();var HO=function(){var e=(0,t.useRef)(null),n=(0,t.useRef)(null);return(0,ur.jsx)("div",{className:"signupScreen",children:(0,ur.jsxs)("form",{children:[(0,ur.jsx)("h1",{className:"signupScreen__heading",children:"Sign up"}),(0,ur.jsx)("input",{ref:e,type:"email",placeholder:"Email"}),(0,ur.jsx)("input",{ref:n,type:"password",placeholder:"Password"}),(0,ur.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),GO.signInWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){alert(e.message)}))},className:"btn signup__btn",children:"Sign In"}),(0,ur.jsxs)("h4",{children:[(0,ur.jsx)("span",{className:"signup__link",children:"New to Netflix? "}),(0,ur.jsx)("span",{className:"signup__underline",onClick:function(t){t.preventDefault(),GO.createUserWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){alert(e.message)}))},children:"Sign Up now."})]})]})})};var QO=function(){var e=Nt((0,t.useState)(!1),2),n=e[0],r=e[1];return(0,ur.jsx)("div",{className:"LoginScreen",children:(0,ur.jsxs)("div",{className:"LoginScreen__background",children:[(0,ur.jsx)("img",{className:"LoginScreen__logo",src:"https://cdn.cookielaw.org/logos/dd6b162f-1a32-456a-9cfe-897231c7763c/4345ea78-053c-46d2-b11e-09adaef973dc/Netflix_Logo_PMS.png",alt:"Logo banner"}),(0,ur.jsx)("button",{onClick:function(){return r(!0)},className:"btn LoginScreen__button",children:"Sign In"}),(0,ur.jsx)("div",{className:"LoginScreen__gradient"}),(0,ur.jsx)("div",{className:"LoginScreen__body",children:n?(0,ur.jsx)(HO,{}):(0,ur.jsxs)(ur.Fragment,{children:[(0,ur.jsx)("h1",{children:"Unlimited films, TV programms and more."}),(0,ur.jsx)("h2",{children:"Watch anywhere. Cancel at anytime."}),(0,ur.jsx)("h3",{className:"LoginScreen__heading-3",children:"Ready to watch? Enter your email to create or restart your membership."}),(0,ur.jsx)("div",{className:"LoginScreen__input",children:(0,ur.jsxs)("form",{className:"form",children:[(0,ur.jsx)("input",{type:"email",placeholder:"Email Address",className:"LoginScreen__input-text"}),(0,ur.jsx)("button",{onClick:function(){return r(!0)},className:"btn LoginScreen__getStarted",children:"Get Started"})]})})]})})]})})};var YO=function(){var e=y(Et);return(0,ur.jsxs)(ur.Fragment,{children:[(0,ur.jsx)(sr,{}),(0,ur.jsx)("div",{className:"profileScreen",children:(0,ur.jsxs)("div",{className:"profileScreen__body",children:[(0,ur.jsx)("h1",{className:"profileScreen__heading",children:"Edit Profile"}),(0,ur.jsxs)("div",{className:"profileScreen__info",children:[(0,ur.jsx)("div",{children:(0,ur.jsx)("img",{src:or,alt:"",className:"avatar__image"})}),(0,ur.jsxs)("div",{className:"profileScreen__details",children:[(0,ur.jsx)("h2",{children:e.email}),(0,ur.jsx)("button",{onClick:function(){return GO.signOut()},className:"btn profileScreen__signOut",children:"SignOut"})]})]})]})})]})};var $O=function(){var e=y(Et),n=S();return(0,t.useEffect)((function(){return GO.onAuthStateChanged((function(e){n(e?xt({uid:e.uid,email:e.email}):_t())}))}),[n]),(0,ur.jsx)("div",{className:"App",children:(0,ur.jsx)(nr,{children:e?(0,ur.jsxs)(Zn,{children:[(0,ur.jsx)(Jn,{path:"/profile",element:(0,ur.jsx)(YO,{})}),(0,ur.jsx)(Jn,{path:"/",element:(0,ur.jsx)(Ta,{})})]}):(0,ur.jsx)(QO,{})})})},JO=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},XO=document.getElementById("root");(0,i.s)(XO).render((0,ur.jsx)(t.StrictMode,{children:(0,ur.jsx)(b,{store:St,children:(0,ur.jsx)($O,{})})})),JO()}()}();
//# sourceMappingURL=main.a01d5ed2.js.map